var $1=Object.defineProperty;var P1=(e,t,r)=>t in e?$1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var M=(e,t,r)=>P1(e,typeof t!="symbol"?t+"":t,r);function R1(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function O1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yv={exports:{}},oc={},Zv={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ia=Symbol.for("react.element"),A1=Symbol.for("react.portal"),I1=Symbol.for("react.fragment"),M1=Symbol.for("react.strict_mode"),F1=Symbol.for("react.profiler"),L1=Symbol.for("react.provider"),D1=Symbol.for("react.context"),V1=Symbol.for("react.forward_ref"),z1=Symbol.for("react.suspense"),U1=Symbol.for("react.memo"),B1=Symbol.for("react.lazy"),Xp=Symbol.iterator;function W1(e){return e===null||typeof e!="object"?null:(e=Xp&&e[Xp]||e["@@iterator"],typeof e=="function"?e:null)}var e0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},t0=Object.assign,r0={};function Di(e,t,r){this.props=e,this.context=t,this.refs=r0,this.updater=r||e0}Di.prototype.isReactComponent={};Di.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Di.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function n0(){}n0.prototype=Di.prototype;function mh(e,t,r){this.props=e,this.context=t,this.refs=r0,this.updater=r||e0}var gh=mh.prototype=new n0;gh.constructor=mh;t0(gh,Di.prototype);gh.isPureReactComponent=!0;var Qp=Array.isArray,s0=Object.prototype.hasOwnProperty,vh={current:null},i0={key:!0,ref:!0,__self:!0,__source:!0};function o0(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)s0.call(t,n)&&!i0.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:ia,type:e,key:i,ref:o,props:s,_owner:vh.current}}function H1(e,t){return{$$typeof:ia,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yh(e){return typeof e=="object"&&e!==null&&e.$$typeof===ia}function q1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Jp=/\/+/g;function Xc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?q1(""+e.key):t.toString(36)}function nl(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ia:case A1:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Xc(o,0):n,Qp(s)?(r="",e!=null&&(r=e.replace(Jp,"$&/")+"/"),nl(s,t,r,"",function(u){return u})):s!=null&&(yh(s)&&(s=H1(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Jp,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Qp(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+Xc(i,a);o+=nl(i,t,r,l,s)}else if(l=W1(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+Xc(i,a++),o+=nl(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ga(e,t,r){if(e==null)return e;var n=[],s=0;return nl(e,n,"","",function(i){return t.call(r,i,s++)}),n}function G1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var At={current:null},sl={transition:null},K1={ReactCurrentDispatcher:At,ReactCurrentBatchConfig:sl,ReactCurrentOwner:vh};function a0(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:ga,forEach:function(e,t,r){ga(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ga(e,function(){t++}),t},toArray:function(e){return ga(e,function(t){return t})||[]},only:function(e){if(!yh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=Di;Se.Fragment=I1;Se.Profiler=F1;Se.PureComponent=mh;Se.StrictMode=M1;Se.Suspense=z1;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K1;Se.act=a0;Se.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=t0({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=vh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)s0.call(t,l)&&!i0.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:ia,type:e.type,key:s,ref:i,props:n,_owner:o}};Se.createContext=function(e){return e={$$typeof:D1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:L1,_context:e},e.Consumer=e};Se.createElement=o0;Se.createFactory=function(e){var t=o0.bind(null,e);return t.type=e,t};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:V1,render:e}};Se.isValidElement=yh;Se.lazy=function(e){return{$$typeof:B1,_payload:{_status:-1,_result:e},_init:G1}};Se.memo=function(e,t){return{$$typeof:U1,type:e,compare:t===void 0?null:t}};Se.startTransition=function(e){var t=sl.transition;sl.transition={};try{e()}finally{sl.transition=t}};Se.unstable_act=a0;Se.useCallback=function(e,t){return At.current.useCallback(e,t)};Se.useContext=function(e){return At.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return At.current.useDeferredValue(e)};Se.useEffect=function(e,t){return At.current.useEffect(e,t)};Se.useId=function(){return At.current.useId()};Se.useImperativeHandle=function(e,t,r){return At.current.useImperativeHandle(e,t,r)};Se.useInsertionEffect=function(e,t){return At.current.useInsertionEffect(e,t)};Se.useLayoutEffect=function(e,t){return At.current.useLayoutEffect(e,t)};Se.useMemo=function(e,t){return At.current.useMemo(e,t)};Se.useReducer=function(e,t,r){return At.current.useReducer(e,t,r)};Se.useRef=function(e){return At.current.useRef(e)};Se.useState=function(e){return At.current.useState(e)};Se.useSyncExternalStore=function(e,t,r){return At.current.useSyncExternalStore(e,t,r)};Se.useTransition=function(){return At.current.useTransition()};Se.version="18.3.1";Zv.exports=Se;var p=Zv.exports;const Pe=O1(p),X1=R1({__proto__:null,default:Pe},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q1=p,J1=Symbol.for("react.element"),Y1=Symbol.for("react.fragment"),Z1=Object.prototype.hasOwnProperty,ex=Q1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tx={key:!0,ref:!0,__self:!0,__source:!0};function l0(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Z1.call(t,n)&&!tx.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:J1,type:e,key:i,ref:o,props:s,_owner:ex.current}}oc.Fragment=Y1;oc.jsx=l0;oc.jsxs=l0;Yv.exports=oc;var c=Yv.exports,Ku={},c0={exports:{}},cr={},u0={exports:{}},d0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,U){var H=R.length;R.push(U);e:for(;0<H;){var se=H-1>>>1,oe=R[se];if(0<s(oe,U))R[se]=U,R[H]=oe,H=se;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var U=R[0],H=R.pop();if(H!==U){R[0]=H;e:for(var se=0,oe=R.length,Ee=oe>>>1;se<Ee;){var ye=2*(se+1)-1,fe=R[ye],j=ye+1,I=R[j];if(0>s(fe,H))j<oe&&0>s(I,fe)?(R[se]=I,R[j]=H,se=j):(R[se]=fe,R[ye]=H,se=ye);else if(j<oe&&0>s(I,H))R[se]=I,R[j]=H,se=j;else break e}}return U}function s(R,U){var H=R.sortIndex-U.sortIndex;return H!==0?H:R.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,g=!1,y=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=R)n(u),U.sortIndex=U.expirationTime,t(l,U);else break;U=r(u)}}function S(R){if(b=!1,w(R),!y)if(r(l)!==null)y=!0,G(_);else{var U=r(u);U!==null&&V(S,U.startTime-R)}}function _(R,U){y=!1,b&&(b=!1,v(k),k=-1),g=!0;var H=f;try{for(w(U),h=r(l);h!==null&&(!(h.expirationTime>U)||R&&!A());){var se=h.callback;if(typeof se=="function"){h.callback=null,f=h.priorityLevel;var oe=se(h.expirationTime<=U);U=e.unstable_now(),typeof oe=="function"?h.callback=oe:h===r(l)&&n(l),w(U)}else n(l);h=r(l)}if(h!==null)var Ee=!0;else{var ye=r(u);ye!==null&&V(S,ye.startTime-U),Ee=!1}return Ee}finally{h=null,f=H,g=!1}}var E=!1,C=null,k=-1,T=5,P=-1;function A(){return!(e.unstable_now()-P<T)}function D(){if(C!==null){var R=e.unstable_now();P=R;var U=!0;try{U=C(!0,R)}finally{U?W():(E=!1,C=null)}}else E=!1}var W;if(typeof m=="function")W=function(){m(D)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,q=Q.port2;Q.port1.onmessage=D,W=function(){q.postMessage(null)}}else W=function(){x(D,0)};function G(R){C=R,E||(E=!0,W())}function V(R,U){k=x(function(){R(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,G(_))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var H=f;f=U;try{return R()}finally{f=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,U){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var H=f;f=R;try{return U()}finally{f=H}},e.unstable_scheduleCallback=function(R,U,H){var se=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?se+H:se):H=se,R){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=H+oe,R={id:d++,callback:U,priorityLevel:R,startTime:H,expirationTime:oe,sortIndex:-1},H>se?(R.sortIndex=H,t(u,R),r(l)===null&&R===r(u)&&(b?(v(k),k=-1):b=!0,V(S,H-se))):(R.sortIndex=oe,t(l,R),y||g||(y=!0,G(_))),R},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(R){var U=f;return function(){var H=f;f=U;try{return R.apply(this,arguments)}finally{f=H}}}})(d0);u0.exports=d0;var rx=u0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nx=p,lr=rx;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f0=new Set,jo={};function Ms(e,t){Ti(e,t),Ti(e+"Capture",t)}function Ti(e,t){for(jo[e]=t,e=0;e<t.length;e++)f0.add(t[e])}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xu=Object.prototype.hasOwnProperty,sx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yp={},Zp={};function ix(e){return Xu.call(Zp,e)?!0:Xu.call(Yp,e)?!1:sx.test(e)?Zp[e]=!0:(Yp[e]=!0,!1)}function ox(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ax(e,t,r,n){if(t===null||typeof t>"u"||ox(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function It(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kt[e]=new It(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kt[t]=new It(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kt[e]=new It(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kt[e]=new It(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kt[e]=new It(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kt[e]=new It(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kt[e]=new It(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kt[e]=new It(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kt[e]=new It(e,5,!1,e.toLowerCase(),null,!1,!1)});var wh=/[\-:]([a-z])/g;function bh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wh,bh);kt[t]=new It(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wh,bh);kt[t]=new It(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wh,bh);kt[t]=new It(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kt[e]=new It(e,1,!1,e.toLowerCase(),null,!1,!1)});kt.xlinkHref=new It("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kt[e]=new It(e,1,!1,e.toLowerCase(),null,!0,!0)});function xh(e,t,r,n){var s=kt.hasOwnProperty(t)?kt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ax(t,r,s,n)&&(r=null),n||s===null?ix(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Cn=nx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),ni=Symbol.for("react.portal"),si=Symbol.for("react.fragment"),Sh=Symbol.for("react.strict_mode"),Qu=Symbol.for("react.profiler"),h0=Symbol.for("react.provider"),p0=Symbol.for("react.context"),_h=Symbol.for("react.forward_ref"),Ju=Symbol.for("react.suspense"),Yu=Symbol.for("react.suspense_list"),Eh=Symbol.for("react.memo"),On=Symbol.for("react.lazy"),m0=Symbol.for("react.offscreen"),em=Symbol.iterator;function Hi(e){return e===null||typeof e!="object"?null:(e=em&&e[em]||e["@@iterator"],typeof e=="function"?e:null)}var Ge=Object.assign,Qc;function no(e){if(Qc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Qc=t&&t[1]||""}return`
`+Qc+e}var Jc=!1;function Yc(e,t){if(!e||Jc)return"";Jc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Jc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?no(e):""}function lx(e){switch(e.tag){case 5:return no(e.type);case 16:return no("Lazy");case 13:return no("Suspense");case 19:return no("SuspenseList");case 0:case 2:case 15:return e=Yc(e.type,!1),e;case 11:return e=Yc(e.type.render,!1),e;case 1:return e=Yc(e.type,!0),e;default:return""}}function Zu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case si:return"Fragment";case ni:return"Portal";case Qu:return"Profiler";case Sh:return"StrictMode";case Ju:return"Suspense";case Yu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case p0:return(e.displayName||"Context")+".Consumer";case h0:return(e._context.displayName||"Context")+".Provider";case _h:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Eh:return t=e.displayName||null,t!==null?t:Zu(e.type)||"Memo";case On:t=e._payload,e=e._init;try{return Zu(e(t))}catch{}}return null}function cx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zu(t);case 8:return t===Sh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function g0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ux(e){var t=g0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ya(e){e._valueTracker||(e._valueTracker=ux(e))}function v0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=g0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function _l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ed(e,t){var r=t.checked;return Ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function tm(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Zn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function y0(e,t){t=t.checked,t!=null&&xh(e,"checked",t,!1)}function td(e,t){y0(e,t);var r=Zn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?rd(e,t.type,r):t.hasOwnProperty("defaultValue")&&rd(e,t.type,Zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function rd(e,t,r){(t!=="number"||_l(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var so=Array.isArray;function bi(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Zn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function nd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return Ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nm(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(so(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Zn(r)}}function w0(e,t){var r=Zn(t.value),n=Zn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function sm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function b0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?b0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wa,x0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wa=wa||document.createElement("div"),wa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function No(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dx=["Webkit","ms","Moz","O"];Object.keys(uo).forEach(function(e){dx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),uo[t]=uo[e]})});function S0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||uo.hasOwnProperty(e)&&uo[e]?(""+t).trim():t+"px"}function _0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=S0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var fx=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function id(e,t){if(t){if(fx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function od(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ad=null;function Ch(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ld=null,xi=null,Si=null;function im(e){if(e=la(e)){if(typeof ld!="function")throw Error(L(280));var t=e.stateNode;t&&(t=dc(t),ld(e.stateNode,e.type,t))}}function E0(e){xi?Si?Si.push(e):Si=[e]:xi=e}function C0(){if(xi){var e=xi,t=Si;if(Si=xi=null,im(e),t)for(e=0;e<t.length;e++)im(t[e])}}function k0(e,t){return e(t)}function j0(){}var Zc=!1;function N0(e,t,r){if(Zc)return e(t,r);Zc=!0;try{return k0(e,t,r)}finally{Zc=!1,(xi!==null||Si!==null)&&(j0(),C0())}}function To(e,t){var r=e.stateNode;if(r===null)return null;var n=dc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var cd=!1;if(xn)try{var qi={};Object.defineProperty(qi,"passive",{get:function(){cd=!0}}),window.addEventListener("test",qi,qi),window.removeEventListener("test",qi,qi)}catch{cd=!1}function hx(e,t,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var fo=!1,El=null,Cl=!1,ud=null,px={onError:function(e){fo=!0,El=e}};function mx(e,t,r,n,s,i,o,a,l){fo=!1,El=null,hx.apply(px,arguments)}function gx(e,t,r,n,s,i,o,a,l){if(mx.apply(this,arguments),fo){if(fo){var u=El;fo=!1,El=null}else throw Error(L(198));Cl||(Cl=!0,ud=u)}}function Fs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function T0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function om(e){if(Fs(e)!==e)throw Error(L(188))}function vx(e){var t=e.alternate;if(!t){if(t=Fs(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return om(s),e;if(i===n)return om(s),t;i=i.sibling}throw Error(L(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function $0(e){return e=vx(e),e!==null?P0(e):null}function P0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=P0(e);if(t!==null)return t;e=e.sibling}return null}var R0=lr.unstable_scheduleCallback,am=lr.unstable_cancelCallback,yx=lr.unstable_shouldYield,wx=lr.unstable_requestPaint,rt=lr.unstable_now,bx=lr.unstable_getCurrentPriorityLevel,kh=lr.unstable_ImmediatePriority,O0=lr.unstable_UserBlockingPriority,kl=lr.unstable_NormalPriority,xx=lr.unstable_LowPriority,A0=lr.unstable_IdlePriority,ac=null,on=null;function Sx(e){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(ac,e,void 0,(e.current.flags&128)===128)}catch{}}var qr=Math.clz32?Math.clz32:Cx,_x=Math.log,Ex=Math.LN2;function Cx(e){return e>>>=0,e===0?32:31-(_x(e)/Ex|0)|0}var ba=64,xa=4194304;function io(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=io(a):(i&=o,i!==0&&(n=io(i)))}else o=r&~s,o!==0?n=io(o):i!==0&&(n=io(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-qr(t),s=1<<r,n|=e[r],t&=~s;return n}function kx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jx(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-qr(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=kx(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function dd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function I0(){var e=ba;return ba<<=1,!(ba&4194240)&&(ba=64),e}function eu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function oa(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qr(t),e[t]=r}function Nx(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-qr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function jh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-qr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Re=0;function M0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var F0,Nh,L0,D0,V0,fd=!1,Sa=[],Wn=null,Hn=null,qn=null,$o=new Map,Po=new Map,Mn=[],Tx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lm(e,t){switch(e){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":$o.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Po.delete(t.pointerId)}}function Gi(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=la(t),t!==null&&Nh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function $x(e,t,r,n,s){switch(t){case"focusin":return Wn=Gi(Wn,e,t,r,n,s),!0;case"dragenter":return Hn=Gi(Hn,e,t,r,n,s),!0;case"mouseover":return qn=Gi(qn,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return $o.set(i,Gi($o.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Po.set(i,Gi(Po.get(i)||null,e,t,r,n,s)),!0}return!1}function z0(e){var t=ms(e.target);if(t!==null){var r=Fs(t);if(r!==null){if(t=r.tag,t===13){if(t=T0(r),t!==null){e.blockedOn=t,V0(e.priority,function(){L0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function il(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=hd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ad=n,r.target.dispatchEvent(n),ad=null}else return t=la(r),t!==null&&Nh(t),e.blockedOn=r,!1;t.shift()}return!0}function cm(e,t,r){il(e)&&r.delete(t)}function Px(){fd=!1,Wn!==null&&il(Wn)&&(Wn=null),Hn!==null&&il(Hn)&&(Hn=null),qn!==null&&il(qn)&&(qn=null),$o.forEach(cm),Po.forEach(cm)}function Ki(e,t){e.blockedOn===t&&(e.blockedOn=null,fd||(fd=!0,lr.unstable_scheduleCallback(lr.unstable_NormalPriority,Px)))}function Ro(e){function t(s){return Ki(s,e)}if(0<Sa.length){Ki(Sa[0],e);for(var r=1;r<Sa.length;r++){var n=Sa[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Wn!==null&&Ki(Wn,e),Hn!==null&&Ki(Hn,e),qn!==null&&Ki(qn,e),$o.forEach(t),Po.forEach(t),r=0;r<Mn.length;r++)n=Mn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Mn.length&&(r=Mn[0],r.blockedOn===null);)z0(r),r.blockedOn===null&&Mn.shift()}var _i=Cn.ReactCurrentBatchConfig,Nl=!0;function Rx(e,t,r,n){var s=Re,i=_i.transition;_i.transition=null;try{Re=1,Th(e,t,r,n)}finally{Re=s,_i.transition=i}}function Ox(e,t,r,n){var s=Re,i=_i.transition;_i.transition=null;try{Re=4,Th(e,t,r,n)}finally{Re=s,_i.transition=i}}function Th(e,t,r,n){if(Nl){var s=hd(e,t,r,n);if(s===null)uu(e,t,n,Tl,r),lm(e,n);else if($x(s,e,t,r,n))n.stopPropagation();else if(lm(e,n),t&4&&-1<Tx.indexOf(e)){for(;s!==null;){var i=la(s);if(i!==null&&F0(i),i=hd(e,t,r,n),i===null&&uu(e,t,n,Tl,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else uu(e,t,n,null,r)}}var Tl=null;function hd(e,t,r,n){if(Tl=null,e=Ch(n),e=ms(e),e!==null)if(t=Fs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=T0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Tl=e,null}function U0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bx()){case kh:return 1;case O0:return 4;case kl:case xx:return 16;case A0:return 536870912;default:return 16}default:return 16}}var Dn=null,$h=null,ol=null;function B0(){if(ol)return ol;var e,t=$h,r=t.length,n,s="value"in Dn?Dn.value:Dn.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return ol=s.slice(e,1<n?1-n:void 0)}function al(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _a(){return!0}function um(){return!1}function ur(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_a:um,this.isPropagationStopped=um,this}return Ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_a)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_a)},persist:function(){},isPersistent:_a}),t}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ph=ur(Vi),aa=Ge({},Vi,{view:0,detail:0}),Ax=ur(aa),tu,ru,Xi,lc=Ge({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xi&&(Xi&&e.type==="mousemove"?(tu=e.screenX-Xi.screenX,ru=e.screenY-Xi.screenY):ru=tu=0,Xi=e),tu)},movementY:function(e){return"movementY"in e?e.movementY:ru}}),dm=ur(lc),Ix=Ge({},lc,{dataTransfer:0}),Mx=ur(Ix),Fx=Ge({},aa,{relatedTarget:0}),nu=ur(Fx),Lx=Ge({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Dx=ur(Lx),Vx=Ge({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zx=ur(Vx),Ux=Ge({},Vi,{data:0}),fm=ur(Ux),Bx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hx[e])?!!t[e]:!1}function Rh(){return qx}var Gx=Ge({},aa,{key:function(e){if(e.key){var t=Bx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=al(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rh,charCode:function(e){return e.type==="keypress"?al(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?al(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kx=ur(Gx),Xx=Ge({},lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hm=ur(Xx),Qx=Ge({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rh}),Jx=ur(Qx),Yx=Ge({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zx=ur(Yx),eS=Ge({},lc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tS=ur(eS),rS=[9,13,27,32],Oh=xn&&"CompositionEvent"in window,ho=null;xn&&"documentMode"in document&&(ho=document.documentMode);var nS=xn&&"TextEvent"in window&&!ho,W0=xn&&(!Oh||ho&&8<ho&&11>=ho),pm=" ",mm=!1;function H0(e,t){switch(e){case"keyup":return rS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ii=!1;function sS(e,t){switch(e){case"compositionend":return q0(t);case"keypress":return t.which!==32?null:(mm=!0,pm);case"textInput":return e=t.data,e===pm&&mm?null:e;default:return null}}function iS(e,t){if(ii)return e==="compositionend"||!Oh&&H0(e,t)?(e=B0(),ol=$h=Dn=null,ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return W0&&t.locale!=="ko"?null:t.data;default:return null}}var oS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oS[e.type]:t==="textarea"}function G0(e,t,r,n){E0(n),t=$l(t,"onChange"),0<t.length&&(r=new Ph("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var po=null,Oo=null;function aS(e){sy(e,0)}function cc(e){var t=li(e);if(v0(t))return e}function lS(e,t){if(e==="change")return t}var K0=!1;if(xn){var su;if(xn){var iu="oninput"in document;if(!iu){var vm=document.createElement("div");vm.setAttribute("oninput","return;"),iu=typeof vm.oninput=="function"}su=iu}else su=!1;K0=su&&(!document.documentMode||9<document.documentMode)}function ym(){po&&(po.detachEvent("onpropertychange",X0),Oo=po=null)}function X0(e){if(e.propertyName==="value"&&cc(Oo)){var t=[];G0(t,Oo,e,Ch(e)),N0(aS,t)}}function cS(e,t,r){e==="focusin"?(ym(),po=t,Oo=r,po.attachEvent("onpropertychange",X0)):e==="focusout"&&ym()}function uS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cc(Oo)}function dS(e,t){if(e==="click")return cc(t)}function fS(e,t){if(e==="input"||e==="change")return cc(t)}function hS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xr=typeof Object.is=="function"?Object.is:hS;function Ao(e,t){if(Xr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Xu.call(t,s)||!Xr(e[s],t[s]))return!1}return!0}function wm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bm(e,t){var r=wm(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wm(r)}}function Q0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Q0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function J0(){for(var e=window,t=_l();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=_l(e.document)}return t}function Ah(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pS(e){var t=J0(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Q0(r.ownerDocument.documentElement,r)){if(n!==null&&Ah(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=bm(r,i);var o=bm(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mS=xn&&"documentMode"in document&&11>=document.documentMode,oi=null,pd=null,mo=null,md=!1;function xm(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;md||oi==null||oi!==_l(n)||(n=oi,"selectionStart"in n&&Ah(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),mo&&Ao(mo,n)||(mo=n,n=$l(pd,"onSelect"),0<n.length&&(t=new Ph("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=oi)))}function Ea(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ai={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionend:Ea("Transition","TransitionEnd")},ou={},Y0={};xn&&(Y0=document.createElement("div").style,"AnimationEvent"in window||(delete ai.animationend.animation,delete ai.animationiteration.animation,delete ai.animationstart.animation),"TransitionEvent"in window||delete ai.transitionend.transition);function uc(e){if(ou[e])return ou[e];if(!ai[e])return e;var t=ai[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Y0)return ou[e]=t[r];return e}var Z0=uc("animationend"),ey=uc("animationiteration"),ty=uc("animationstart"),ry=uc("transitionend"),ny=new Map,Sm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(e,t){ny.set(e,t),Ms(t,[e])}for(var au=0;au<Sm.length;au++){var lu=Sm[au],gS=lu.toLowerCase(),vS=lu[0].toUpperCase()+lu.slice(1);ts(gS,"on"+vS)}ts(Z0,"onAnimationEnd");ts(ey,"onAnimationIteration");ts(ty,"onAnimationStart");ts("dblclick","onDoubleClick");ts("focusin","onFocus");ts("focusout","onBlur");ts(ry,"onTransitionEnd");Ti("onMouseEnter",["mouseout","mouseover"]);Ti("onMouseLeave",["mouseout","mouseover"]);Ti("onPointerEnter",["pointerout","pointerover"]);Ti("onPointerLeave",["pointerout","pointerover"]);Ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yS=new Set("cancel close invalid load scroll toggle".split(" ").concat(oo));function _m(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,gx(n,t,void 0,e),e.currentTarget=null}function sy(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;_m(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;_m(s,a,u),i=l}}}if(Cl)throw e=ud,Cl=!1,ud=null,e}function De(e,t){var r=t[bd];r===void 0&&(r=t[bd]=new Set);var n=e+"__bubble";r.has(n)||(iy(t,e,2,!1),r.add(n))}function cu(e,t,r){var n=0;t&&(n|=4),iy(r,e,n,t)}var Ca="_reactListening"+Math.random().toString(36).slice(2);function Io(e){if(!e[Ca]){e[Ca]=!0,f0.forEach(function(r){r!=="selectionchange"&&(yS.has(r)||cu(r,!1,e),cu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ca]||(t[Ca]=!0,cu("selectionchange",!1,t))}}function iy(e,t,r,n){switch(U0(t)){case 1:var s=Rx;break;case 4:s=Ox;break;default:s=Th}r=s.bind(null,t,r,e),s=void 0,!cd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function uu(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ms(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}N0(function(){var u=i,d=Ch(r),h=[];e:{var f=ny.get(e);if(f!==void 0){var g=Ph,y=e;switch(e){case"keypress":if(al(r)===0)break e;case"keydown":case"keyup":g=Kx;break;case"focusin":y="focus",g=nu;break;case"focusout":y="blur",g=nu;break;case"beforeblur":case"afterblur":g=nu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=dm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Mx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Jx;break;case Z0:case ey:case ty:g=Dx;break;case ry:g=Zx;break;case"scroll":g=Ax;break;case"wheel":g=tS;break;case"copy":case"cut":case"paste":g=zx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=hm}var b=(t&4)!==0,x=!b&&e==="scroll",v=b?f!==null?f+"Capture":null:f;b=[];for(var m=u,w;m!==null;){w=m;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,v!==null&&(S=To(m,v),S!=null&&b.push(Mo(m,S,w)))),x)break;m=m.return}0<b.length&&(f=new g(f,y,null,r,d),h.push({event:f,listeners:b}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&r!==ad&&(y=r.relatedTarget||r.fromElement)&&(ms(y)||y[Sn]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(y=r.relatedTarget||r.toElement,g=u,y=y?ms(y):null,y!==null&&(x=Fs(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(b=dm,S="onMouseLeave",v="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(b=hm,S="onPointerLeave",v="onPointerEnter",m="pointer"),x=g==null?f:li(g),w=y==null?f:li(y),f=new b(S,m+"leave",g,r,d),f.target=x,f.relatedTarget=w,S=null,ms(d)===u&&(b=new b(v,m+"enter",y,r,d),b.target=w,b.relatedTarget=x,S=b),x=S,g&&y)t:{for(b=g,v=y,m=0,w=b;w;w=zs(w))m++;for(w=0,S=v;S;S=zs(S))w++;for(;0<m-w;)b=zs(b),m--;for(;0<w-m;)v=zs(v),w--;for(;m--;){if(b===v||v!==null&&b===v.alternate)break t;b=zs(b),v=zs(v)}b=null}else b=null;g!==null&&Em(h,f,g,b,!1),y!==null&&x!==null&&Em(h,x,y,b,!0)}}e:{if(f=u?li(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var _=lS;else if(gm(f))if(K0)_=fS;else{_=uS;var E=cS}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=dS);if(_&&(_=_(e,u))){G0(h,_,r,d);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&rd(f,"number",f.value)}switch(E=u?li(u):window,e){case"focusin":(gm(E)||E.contentEditable==="true")&&(oi=E,pd=u,mo=null);break;case"focusout":mo=pd=oi=null;break;case"mousedown":md=!0;break;case"contextmenu":case"mouseup":case"dragend":md=!1,xm(h,r,d);break;case"selectionchange":if(mS)break;case"keydown":case"keyup":xm(h,r,d)}var C;if(Oh)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else ii?H0(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(W0&&r.locale!=="ko"&&(ii||k!=="onCompositionStart"?k==="onCompositionEnd"&&ii&&(C=B0()):(Dn=d,$h="value"in Dn?Dn.value:Dn.textContent,ii=!0)),E=$l(u,k),0<E.length&&(k=new fm(k,e,null,r,d),h.push({event:k,listeners:E}),C?k.data=C:(C=q0(r),C!==null&&(k.data=C)))),(C=nS?sS(e,r):iS(e,r))&&(u=$l(u,"onBeforeInput"),0<u.length&&(d=new fm("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=C))}sy(h,t)})}function Mo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function $l(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=To(e,r),i!=null&&n.unshift(Mo(e,i,s)),i=To(e,t),i!=null&&n.push(Mo(e,i,s))),e=e.return}return n}function zs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Em(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=To(r,i),l!=null&&o.unshift(Mo(r,l,a))):s||(l=To(r,i),l!=null&&o.push(Mo(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var wS=/\r\n?/g,bS=/\u0000|\uFFFD/g;function Cm(e){return(typeof e=="string"?e:""+e).replace(wS,`
`).replace(bS,"")}function ka(e,t,r){if(t=Cm(t),Cm(e)!==t&&r)throw Error(L(425))}function Pl(){}var gd=null,vd=null;function yd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wd=typeof setTimeout=="function"?setTimeout:void 0,xS=typeof clearTimeout=="function"?clearTimeout:void 0,km=typeof Promise=="function"?Promise:void 0,SS=typeof queueMicrotask=="function"?queueMicrotask:typeof km<"u"?function(e){return km.resolve(null).then(e).catch(_S)}:wd;function _S(e){setTimeout(function(){throw e})}function du(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ro(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ro(t)}function Gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var zi=Math.random().toString(36).slice(2),nn="__reactFiber$"+zi,Fo="__reactProps$"+zi,Sn="__reactContainer$"+zi,bd="__reactEvents$"+zi,ES="__reactListeners$"+zi,CS="__reactHandles$"+zi;function ms(e){var t=e[nn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Sn]||r[nn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=jm(e);e!==null;){if(r=e[nn])return r;e=jm(e)}return t}e=r,r=e.parentNode}return null}function la(e){return e=e[nn]||e[Sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function li(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function dc(e){return e[Fo]||null}var xd=[],ci=-1;function rs(e){return{current:e}}function Ue(e){0>ci||(e.current=xd[ci],xd[ci]=null,ci--)}function Le(e,t){ci++,xd[ci]=e.current,e.current=t}var es={},$t=rs(es),Wt=rs(!1),ks=es;function $i(e,t){var r=e.type.contextTypes;if(!r)return es;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ht(e){return e=e.childContextTypes,e!=null}function Rl(){Ue(Wt),Ue($t)}function Nm(e,t,r){if($t.current!==es)throw Error(L(168));Le($t,t),Le(Wt,r)}function oy(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(L(108,cx(e)||"Unknown",s));return Ge({},r,n)}function Ol(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||es,ks=$t.current,Le($t,e),Le(Wt,Wt.current),!0}function Tm(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=oy(e,t,ks),n.__reactInternalMemoizedMergedChildContext=e,Ue(Wt),Ue($t),Le($t,e)):Ue(Wt),Le(Wt,r)}var mn=null,fc=!1,fu=!1;function ay(e){mn===null?mn=[e]:mn.push(e)}function kS(e){fc=!0,ay(e)}function ns(){if(!fu&&mn!==null){fu=!0;var e=0,t=Re;try{var r=mn;for(Re=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}mn=null,fc=!1}catch(s){throw mn!==null&&(mn=mn.slice(e+1)),R0(kh,ns),s}finally{Re=t,fu=!1}}return null}var ui=[],di=0,Al=null,Il=0,yr=[],wr=0,js=null,vn=1,yn="";function cs(e,t){ui[di++]=Il,ui[di++]=Al,Al=e,Il=t}function ly(e,t,r){yr[wr++]=vn,yr[wr++]=yn,yr[wr++]=js,js=e;var n=vn;e=yn;var s=32-qr(n)-1;n&=~(1<<s),r+=1;var i=32-qr(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,vn=1<<32-qr(t)+s|r<<s|n,yn=i+e}else vn=1<<i|r<<s|n,yn=e}function Ih(e){e.return!==null&&(cs(e,1),ly(e,1,0))}function Mh(e){for(;e===Al;)Al=ui[--di],ui[di]=null,Il=ui[--di],ui[di]=null;for(;e===js;)js=yr[--wr],yr[wr]=null,yn=yr[--wr],yr[wr]=null,vn=yr[--wr],yr[wr]=null}var ar=null,ir=null,Be=!1,Wr=null;function cy(e,t){var r=br(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function $m(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ar=e,ir=Gn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ar=e,ir=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=js!==null?{id:vn,overflow:yn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=br(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ar=e,ir=null,!0):!1;default:return!1}}function Sd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _d(e){if(Be){var t=ir;if(t){var r=t;if(!$m(e,t)){if(Sd(e))throw Error(L(418));t=Gn(r.nextSibling);var n=ar;t&&$m(e,t)?cy(n,r):(e.flags=e.flags&-4097|2,Be=!1,ar=e)}}else{if(Sd(e))throw Error(L(418));e.flags=e.flags&-4097|2,Be=!1,ar=e}}}function Pm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ar=e}function ja(e){if(e!==ar)return!1;if(!Be)return Pm(e),Be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yd(e.type,e.memoizedProps)),t&&(t=ir)){if(Sd(e))throw uy(),Error(L(418));for(;t;)cy(e,t),t=Gn(t.nextSibling)}if(Pm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ir=Gn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ir=null}}else ir=ar?Gn(e.stateNode.nextSibling):null;return!0}function uy(){for(var e=ir;e;)e=Gn(e.nextSibling)}function Pi(){ir=ar=null,Be=!1}function Fh(e){Wr===null?Wr=[e]:Wr.push(e)}var jS=Cn.ReactCurrentBatchConfig;function Qi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function Na(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rm(e){var t=e._init;return t(e._payload)}function dy(e){function t(v,m){if(e){var w=v.deletions;w===null?(v.deletions=[m],v.flags|=16):w.push(m)}}function r(v,m){if(!e)return null;for(;m!==null;)t(v,m),m=m.sibling;return null}function n(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function s(v,m){return v=Jn(v,m),v.index=0,v.sibling=null,v}function i(v,m,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<m?(v.flags|=2,m):w):(v.flags|=2,m)):(v.flags|=1048576,m)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,m,w,S){return m===null||m.tag!==6?(m=wu(w,v.mode,S),m.return=v,m):(m=s(m,w),m.return=v,m)}function l(v,m,w,S){var _=w.type;return _===si?d(v,m,w.props.children,S,w.key):m!==null&&(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===On&&Rm(_)===m.type)?(S=s(m,w.props),S.ref=Qi(v,m,w),S.return=v,S):(S=pl(w.type,w.key,w.props,null,v.mode,S),S.ref=Qi(v,m,w),S.return=v,S)}function u(v,m,w,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=bu(w,v.mode,S),m.return=v,m):(m=s(m,w.children||[]),m.return=v,m)}function d(v,m,w,S,_){return m===null||m.tag!==7?(m=_s(w,v.mode,S,_),m.return=v,m):(m=s(m,w),m.return=v,m)}function h(v,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=wu(""+m,v.mode,w),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case va:return w=pl(m.type,m.key,m.props,null,v.mode,w),w.ref=Qi(v,null,m),w.return=v,w;case ni:return m=bu(m,v.mode,w),m.return=v,m;case On:var S=m._init;return h(v,S(m._payload),w)}if(so(m)||Hi(m))return m=_s(m,v.mode,w,null),m.return=v,m;Na(v,m)}return null}function f(v,m,w,S){var _=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:a(v,m,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case va:return w.key===_?l(v,m,w,S):null;case ni:return w.key===_?u(v,m,w,S):null;case On:return _=w._init,f(v,m,_(w._payload),S)}if(so(w)||Hi(w))return _!==null?null:d(v,m,w,S,null);Na(v,w)}return null}function g(v,m,w,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(w)||null,a(m,v,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case va:return v=v.get(S.key===null?w:S.key)||null,l(m,v,S,_);case ni:return v=v.get(S.key===null?w:S.key)||null,u(m,v,S,_);case On:var E=S._init;return g(v,m,w,E(S._payload),_)}if(so(S)||Hi(S))return v=v.get(w)||null,d(m,v,S,_,null);Na(m,S)}return null}function y(v,m,w,S){for(var _=null,E=null,C=m,k=m=0,T=null;C!==null&&k<w.length;k++){C.index>k?(T=C,C=null):T=C.sibling;var P=f(v,C,w[k],S);if(P===null){C===null&&(C=T);break}e&&C&&P.alternate===null&&t(v,C),m=i(P,m,k),E===null?_=P:E.sibling=P,E=P,C=T}if(k===w.length)return r(v,C),Be&&cs(v,k),_;if(C===null){for(;k<w.length;k++)C=h(v,w[k],S),C!==null&&(m=i(C,m,k),E===null?_=C:E.sibling=C,E=C);return Be&&cs(v,k),_}for(C=n(v,C);k<w.length;k++)T=g(C,v,k,w[k],S),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?k:T.key),m=i(T,m,k),E===null?_=T:E.sibling=T,E=T);return e&&C.forEach(function(A){return t(v,A)}),Be&&cs(v,k),_}function b(v,m,w,S){var _=Hi(w);if(typeof _!="function")throw Error(L(150));if(w=_.call(w),w==null)throw Error(L(151));for(var E=_=null,C=m,k=m=0,T=null,P=w.next();C!==null&&!P.done;k++,P=w.next()){C.index>k?(T=C,C=null):T=C.sibling;var A=f(v,C,P.value,S);if(A===null){C===null&&(C=T);break}e&&C&&A.alternate===null&&t(v,C),m=i(A,m,k),E===null?_=A:E.sibling=A,E=A,C=T}if(P.done)return r(v,C),Be&&cs(v,k),_;if(C===null){for(;!P.done;k++,P=w.next())P=h(v,P.value,S),P!==null&&(m=i(P,m,k),E===null?_=P:E.sibling=P,E=P);return Be&&cs(v,k),_}for(C=n(v,C);!P.done;k++,P=w.next())P=g(C,v,k,P.value,S),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?k:P.key),m=i(P,m,k),E===null?_=P:E.sibling=P,E=P);return e&&C.forEach(function(D){return t(v,D)}),Be&&cs(v,k),_}function x(v,m,w,S){if(typeof w=="object"&&w!==null&&w.type===si&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case va:e:{for(var _=w.key,E=m;E!==null;){if(E.key===_){if(_=w.type,_===si){if(E.tag===7){r(v,E.sibling),m=s(E,w.props.children),m.return=v,v=m;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===On&&Rm(_)===E.type){r(v,E.sibling),m=s(E,w.props),m.ref=Qi(v,E,w),m.return=v,v=m;break e}r(v,E);break}else t(v,E);E=E.sibling}w.type===si?(m=_s(w.props.children,v.mode,S,w.key),m.return=v,v=m):(S=pl(w.type,w.key,w.props,null,v.mode,S),S.ref=Qi(v,m,w),S.return=v,v=S)}return o(v);case ni:e:{for(E=w.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){r(v,m.sibling),m=s(m,w.children||[]),m.return=v,v=m;break e}else{r(v,m);break}else t(v,m);m=m.sibling}m=bu(w,v.mode,S),m.return=v,v=m}return o(v);case On:return E=w._init,x(v,m,E(w._payload),S)}if(so(w))return y(v,m,w,S);if(Hi(w))return b(v,m,w,S);Na(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(r(v,m.sibling),m=s(m,w),m.return=v,v=m):(r(v,m),m=wu(w,v.mode,S),m.return=v,v=m),o(v)):r(v,m)}return x}var Ri=dy(!0),fy=dy(!1),Ml=rs(null),Fl=null,fi=null,Lh=null;function Dh(){Lh=fi=Fl=null}function Vh(e){var t=Ml.current;Ue(Ml),e._currentValue=t}function Ed(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ei(e,t){Fl=e,Lh=fi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ut=!0),e.firstContext=null)}function Sr(e){var t=e._currentValue;if(Lh!==e)if(e={context:e,memoizedValue:t,next:null},fi===null){if(Fl===null)throw Error(L(308));fi=e,Fl.dependencies={lanes:0,firstContext:e}}else fi=fi.next=e;return t}var gs=null;function zh(e){gs===null?gs=[e]:gs.push(e)}function hy(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,zh(t)):(r.next=s.next,s.next=r),t.interleaved=r,_n(e,n)}function _n(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var An=!1;function Uh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function py(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,je&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,_n(e,r)}return s=n.interleaved,s===null?(t.next=t,zh(n)):(t.next=s.next,s.next=t),n.interleaved=t,_n(e,r)}function ll(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,jh(e,r)}}function Om(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ll(e,t,r,n){var s=e.updateQueue;An=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,g=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,b=a;switch(f=t,g=r,b.tag){case 1:if(y=b.payload,typeof y=="function"){h=y.call(g,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,f=typeof y=="function"?y.call(g,h,f):y,f==null)break e;h=Ge({},h,f);break e;case 2:An=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ts|=o,e.lanes=o,e.memoizedState=h}}function Am(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(L(191,s));s.call(n)}}}var ca={},an=rs(ca),Lo=rs(ca),Do=rs(ca);function vs(e){if(e===ca)throw Error(L(174));return e}function Bh(e,t){switch(Le(Do,t),Le(Lo,e),Le(an,ca),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sd(t,e)}Ue(an),Le(an,t)}function Oi(){Ue(an),Ue(Lo),Ue(Do)}function my(e){vs(Do.current);var t=vs(an.current),r=sd(t,e.type);t!==r&&(Le(Lo,e),Le(an,r))}function Wh(e){Lo.current===e&&(Ue(an),Ue(Lo))}var He=rs(0);function Dl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hu=[];function Hh(){for(var e=0;e<hu.length;e++)hu[e]._workInProgressVersionPrimary=null;hu.length=0}var cl=Cn.ReactCurrentDispatcher,pu=Cn.ReactCurrentBatchConfig,Ns=0,qe=null,ut=null,gt=null,Vl=!1,go=!1,Vo=0,NS=0;function jt(){throw Error(L(321))}function qh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Xr(e[r],t[r]))return!1;return!0}function Gh(e,t,r,n,s,i){if(Ns=i,qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cl.current=e===null||e.memoizedState===null?RS:OS,e=r(n,s),go){i=0;do{if(go=!1,Vo=0,25<=i)throw Error(L(301));i+=1,gt=ut=null,t.updateQueue=null,cl.current=AS,e=r(n,s)}while(go)}if(cl.current=zl,t=ut!==null&&ut.next!==null,Ns=0,gt=ut=qe=null,Vl=!1,t)throw Error(L(300));return e}function Kh(){var e=Vo!==0;return Vo=0,e}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?qe.memoizedState=gt=e:gt=gt.next=e,gt}function _r(){if(ut===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=gt===null?qe.memoizedState:gt.next;if(t!==null)gt=t,ut=e;else{if(e===null)throw Error(L(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},gt===null?qe.memoizedState=gt=e:gt=gt.next=e}return gt}function zo(e,t){return typeof t=="function"?t(e):t}function mu(e){var t=_r(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=ut,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Ns&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,qe.lanes|=d,Ts|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,Xr(n,t.memoizedState)||(Ut=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,qe.lanes|=i,Ts|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function gu(e){var t=_r(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Xr(i,t.memoizedState)||(Ut=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function gy(){}function vy(e,t){var r=qe,n=_r(),s=t(),i=!Xr(n.memoizedState,s);if(i&&(n.memoizedState=s,Ut=!0),n=n.queue,Xh(by.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||gt!==null&&gt.memoizedState.tag&1){if(r.flags|=2048,Uo(9,wy.bind(null,r,n,s,t),void 0,null),yt===null)throw Error(L(349));Ns&30||yy(r,t,s)}return s}function yy(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function wy(e,t,r,n){t.value=r,t.getSnapshot=n,xy(t)&&Sy(e)}function by(e,t,r){return r(function(){xy(t)&&Sy(e)})}function xy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Xr(e,r)}catch{return!0}}function Sy(e){var t=_n(e,1);t!==null&&Gr(t,e,1,-1)}function Im(e){var t=rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:e},t.queue=e,e=e.dispatch=PS.bind(null,qe,e),[t.memoizedState,e]}function Uo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function _y(){return _r().memoizedState}function ul(e,t,r,n){var s=rn();qe.flags|=e,s.memoizedState=Uo(1|t,r,void 0,n===void 0?null:n)}function hc(e,t,r,n){var s=_r();n=n===void 0?null:n;var i=void 0;if(ut!==null){var o=ut.memoizedState;if(i=o.destroy,n!==null&&qh(n,o.deps)){s.memoizedState=Uo(t,r,i,n);return}}qe.flags|=e,s.memoizedState=Uo(1|t,r,i,n)}function Mm(e,t){return ul(8390656,8,e,t)}function Xh(e,t){return hc(2048,8,e,t)}function Ey(e,t){return hc(4,2,e,t)}function Cy(e,t){return hc(4,4,e,t)}function ky(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jy(e,t,r){return r=r!=null?r.concat([e]):null,hc(4,4,ky.bind(null,t,e),r)}function Qh(){}function Ny(e,t){var r=_r();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qh(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ty(e,t){var r=_r();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qh(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function $y(e,t,r){return Ns&21?(Xr(r,t)||(r=I0(),qe.lanes|=r,Ts|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ut=!0),e.memoizedState=r)}function TS(e,t){var r=Re;Re=r!==0&&4>r?r:4,e(!0);var n=pu.transition;pu.transition={};try{e(!1),t()}finally{Re=r,pu.transition=n}}function Py(){return _r().memoizedState}function $S(e,t,r){var n=Qn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ry(e))Oy(t,r);else if(r=hy(e,t,r,n),r!==null){var s=Ot();Gr(r,e,n,s),Ay(r,t,n)}}function PS(e,t,r){var n=Qn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ry(e))Oy(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Xr(a,o)){var l=t.interleaved;l===null?(s.next=s,zh(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=hy(e,t,s,n),r!==null&&(s=Ot(),Gr(r,e,n,s),Ay(r,t,n))}}function Ry(e){var t=e.alternate;return e===qe||t!==null&&t===qe}function Oy(e,t){go=Vl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ay(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,jh(e,r)}}var zl={readContext:Sr,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},RS={readContext:Sr,useCallback:function(e,t){return rn().memoizedState=[e,t===void 0?null:t],e},useContext:Sr,useEffect:Mm,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ul(4194308,4,ky.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ul(4194308,4,e,t)},useInsertionEffect:function(e,t){return ul(4,2,e,t)},useMemo:function(e,t){var r=rn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=rn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=$S.bind(null,qe,e),[n.memoizedState,e]},useRef:function(e){var t=rn();return e={current:e},t.memoizedState=e},useState:Im,useDebugValue:Qh,useDeferredValue:function(e){return rn().memoizedState=e},useTransition:function(){var e=Im(!1),t=e[0];return e=TS.bind(null,e[1]),rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=qe,s=rn();if(Be){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),yt===null)throw Error(L(349));Ns&30||yy(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Mm(by.bind(null,n,i,e),[e]),n.flags|=2048,Uo(9,wy.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=rn(),t=yt.identifierPrefix;if(Be){var r=yn,n=vn;r=(n&~(1<<32-qr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Vo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=NS++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},OS={readContext:Sr,useCallback:Ny,useContext:Sr,useEffect:Xh,useImperativeHandle:jy,useInsertionEffect:Ey,useLayoutEffect:Cy,useMemo:Ty,useReducer:mu,useRef:_y,useState:function(){return mu(zo)},useDebugValue:Qh,useDeferredValue:function(e){var t=_r();return $y(t,ut.memoizedState,e)},useTransition:function(){var e=mu(zo)[0],t=_r().memoizedState;return[e,t]},useMutableSource:gy,useSyncExternalStore:vy,useId:Py,unstable_isNewReconciler:!1},AS={readContext:Sr,useCallback:Ny,useContext:Sr,useEffect:Xh,useImperativeHandle:jy,useInsertionEffect:Ey,useLayoutEffect:Cy,useMemo:Ty,useReducer:gu,useRef:_y,useState:function(){return gu(zo)},useDebugValue:Qh,useDeferredValue:function(e){var t=_r();return ut===null?t.memoizedState=e:$y(t,ut.memoizedState,e)},useTransition:function(){var e=gu(zo)[0],t=_r().memoizedState;return[e,t]},useMutableSource:gy,useSyncExternalStore:vy,useId:Py,unstable_isNewReconciler:!1};function Fr(e,t){if(e&&e.defaultProps){t=Ge({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Cd(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ge({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var pc={isMounted:function(e){return(e=e._reactInternals)?Fs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ot(),s=Qn(e),i=wn(n,s);i.payload=t,r!=null&&(i.callback=r),t=Kn(e,i,s),t!==null&&(Gr(t,e,s,n),ll(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ot(),s=Qn(e),i=wn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Kn(e,i,s),t!==null&&(Gr(t,e,s,n),ll(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ot(),n=Qn(e),s=wn(r,n);s.tag=2,t!=null&&(s.callback=t),t=Kn(e,s,n),t!==null&&(Gr(t,e,n,r),ll(t,e,n))}};function Fm(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ao(r,n)||!Ao(s,i):!0}function Iy(e,t,r){var n=!1,s=es,i=t.contextType;return typeof i=="object"&&i!==null?i=Sr(i):(s=Ht(t)?ks:$t.current,n=t.contextTypes,i=(n=n!=null)?$i(e,s):es),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Lm(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&pc.enqueueReplaceState(t,t.state,null)}function kd(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Uh(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Sr(i):(i=Ht(t)?ks:$t.current,s.context=$i(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Cd(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&pc.enqueueReplaceState(s,s.state,null),Ll(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ai(e,t){try{var r="",n=t;do r+=lx(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function vu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function jd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var IS=typeof WeakMap=="function"?WeakMap:Map;function My(e,t,r){r=wn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Bl||(Bl=!0,Fd=n),jd(e,t)},r}function Fy(e,t,r){r=wn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){jd(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){jd(e,t),typeof n!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Dm(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new IS;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=XS.bind(null,e,t,r),t.then(e,e))}function Vm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zm(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=wn(-1,1),t.tag=2,Kn(r,t,1))),r.lanes|=1),e)}var MS=Cn.ReactCurrentOwner,Ut=!1;function Rt(e,t,r,n){t.child=e===null?fy(t,null,r,n):Ri(t,e.child,r,n)}function Um(e,t,r,n,s){r=r.render;var i=t.ref;return Ei(t,s),n=Gh(e,t,r,n,i,s),r=Kh(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,En(e,t,s)):(Be&&r&&Ih(t),t.flags|=1,Rt(e,t,n,s),t.child)}function Bm(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!sp(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Ly(e,t,i,n,s)):(e=pl(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ao,r(o,n)&&e.ref===t.ref)return En(e,t,s)}return t.flags|=1,e=Jn(i,n),e.ref=t.ref,e.return=t,t.child=e}function Ly(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Ao(i,n)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ut=!0);else return t.lanes=e.lanes,En(e,t,s)}return Nd(e,t,r,n,s)}function Dy(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(pi,tr),tr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(pi,tr),tr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Le(pi,tr),tr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Le(pi,tr),tr|=n;return Rt(e,t,s,r),t.child}function Vy(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Nd(e,t,r,n,s){var i=Ht(r)?ks:$t.current;return i=$i(t,i),Ei(t,s),r=Gh(e,t,r,n,i,s),n=Kh(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,En(e,t,s)):(Be&&n&&Ih(t),t.flags|=1,Rt(e,t,r,s),t.child)}function Wm(e,t,r,n,s){if(Ht(r)){var i=!0;Ol(t)}else i=!1;if(Ei(t,s),t.stateNode===null)dl(e,t),Iy(t,r,n),kd(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Sr(u):(u=Ht(r)?ks:$t.current,u=$i(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Lm(t,o,n,u),An=!1;var f=t.memoizedState;o.state=f,Ll(t,n,o,s),l=t.memoizedState,a!==n||f!==l||Wt.current||An?(typeof d=="function"&&(Cd(t,r,d,n),l=t.memoizedState),(a=An||Fm(t,r,a,n,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,py(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Fr(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Sr(l):(l=Ht(r)?ks:$t.current,l=$i(t,l));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Lm(t,o,n,l),An=!1,f=t.memoizedState,o.state=f,Ll(t,n,o,s);var y=t.memoizedState;a!==h||f!==y||Wt.current||An?(typeof g=="function"&&(Cd(t,r,g,n),y=t.memoizedState),(u=An||Fm(t,r,u,n,f,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Td(e,t,r,n,i,s)}function Td(e,t,r,n,s,i){Vy(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Tm(t,r,!1),En(e,t,i);n=t.stateNode,MS.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Ri(t,e.child,null,i),t.child=Ri(t,null,a,i)):Rt(e,t,a,i),t.memoizedState=n.state,s&&Tm(t,r,!0),t.child}function zy(e){var t=e.stateNode;t.pendingContext?Nm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nm(e,t.context,!1),Bh(e,t.containerInfo)}function Hm(e,t,r,n,s){return Pi(),Fh(s),t.flags|=256,Rt(e,t,r,n),t.child}var $d={dehydrated:null,treeContext:null,retryLane:0};function Pd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uy(e,t,r){var n=t.pendingProps,s=He.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Le(He,s&1),e===null)return _d(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=vc(o,n,0,null),e=_s(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Pd(r),t.memoizedState=$d,e):Jh(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return FS(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Jn(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Jn(a,i):(i=_s(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Pd(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=$d,n}return i=e.child,e=i.sibling,n=Jn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Jh(e,t){return t=vc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ta(e,t,r,n){return n!==null&&Fh(n),Ri(t,e.child,null,r),e=Jh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function FS(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=vu(Error(L(422))),Ta(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=vc({mode:"visible",children:n.children},s,0,null),i=_s(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ri(t,e.child,null,o),t.child.memoizedState=Pd(o),t.memoizedState=$d,i);if(!(t.mode&1))return Ta(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(L(419)),n=vu(i,n,void 0),Ta(e,t,o,n)}if(a=(o&e.childLanes)!==0,Ut||a){if(n=yt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,_n(e,s),Gr(n,e,s,-1))}return np(),n=vu(Error(L(421))),Ta(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=QS.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ir=Gn(s.nextSibling),ar=t,Be=!0,Wr=null,e!==null&&(yr[wr++]=vn,yr[wr++]=yn,yr[wr++]=js,vn=e.id,yn=e.overflow,js=t),t=Jh(t,n.children),t.flags|=4096,t)}function qm(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ed(e.return,t,r)}function yu(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function By(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Rt(e,t,n.children,r),n=He.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qm(e,r,t);else if(e.tag===19)qm(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Le(He,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Dl(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),yu(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Dl(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}yu(t,!0,r,null,i);break;case"together":yu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function dl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function En(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ts|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=Jn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Jn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function LS(e,t,r){switch(t.tag){case 3:zy(t),Pi();break;case 5:my(t);break;case 1:Ht(t.type)&&Ol(t);break;case 4:Bh(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Le(Ml,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Le(He,He.current&1),t.flags|=128,null):r&t.child.childLanes?Uy(e,t,r):(Le(He,He.current&1),e=En(e,t,r),e!==null?e.sibling:null);Le(He,He.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return By(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(He,He.current),n)break;return null;case 22:case 23:return t.lanes=0,Dy(e,t,r)}return En(e,t,r)}var Wy,Rd,Hy,qy;Wy=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Rd=function(){};Hy=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,vs(an.current);var i=null;switch(r){case"input":s=ed(e,s),n=ed(e,n),i=[];break;case"select":s=Ge({},s,{value:void 0}),n=Ge({},n,{value:void 0}),i=[];break;case"textarea":s=nd(e,s),n=nd(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Pl)}id(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(jo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(jo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&De("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};qy=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ji(e,t){if(!Be)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function DS(e,t,r){var n=t.pendingProps;switch(Mh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(t),null;case 1:return Ht(t.type)&&Rl(),Nt(t),null;case 3:return n=t.stateNode,Oi(),Ue(Wt),Ue($t),Hh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ja(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wr!==null&&(Vd(Wr),Wr=null))),Rd(e,t),Nt(t),null;case 5:Wh(t);var s=vs(Do.current);if(r=t.type,e!==null&&t.stateNode!=null)Hy(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return Nt(t),null}if(e=vs(an.current),ja(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[nn]=t,n[Fo]=i,e=(t.mode&1)!==0,r){case"dialog":De("cancel",n),De("close",n);break;case"iframe":case"object":case"embed":De("load",n);break;case"video":case"audio":for(s=0;s<oo.length;s++)De(oo[s],n);break;case"source":De("error",n);break;case"img":case"image":case"link":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"input":tm(n,i),De("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},De("invalid",n);break;case"textarea":nm(n,i),De("invalid",n)}id(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&ka(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ka(n.textContent,a,e),s=["children",""+a]):jo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&De("scroll",n)}switch(r){case"input":ya(n),rm(n,i,!0);break;case"textarea":ya(n),sm(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Pl)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=b0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[nn]=t,e[Fo]=n,Wy(e,t,!1,!1),t.stateNode=e;e:{switch(o=od(r,n),r){case"dialog":De("cancel",e),De("close",e),s=n;break;case"iframe":case"object":case"embed":De("load",e),s=n;break;case"video":case"audio":for(s=0;s<oo.length;s++)De(oo[s],e);s=n;break;case"source":De("error",e),s=n;break;case"img":case"image":case"link":De("error",e),De("load",e),s=n;break;case"details":De("toggle",e),s=n;break;case"input":tm(e,n),s=ed(e,n),De("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ge({},n,{value:void 0}),De("invalid",e);break;case"textarea":nm(e,n),s=nd(e,n),De("invalid",e);break;default:s=n}id(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?_0(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&x0(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&No(e,l):typeof l=="number"&&No(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(jo.hasOwnProperty(i)?l!=null&&i==="onScroll"&&De("scroll",e):l!=null&&xh(e,i,l,o))}switch(r){case"input":ya(e),rm(e,n,!1);break;case"textarea":ya(e),sm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Zn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?bi(e,!!n.multiple,i,!1):n.defaultValue!=null&&bi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Pl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nt(t),null;case 6:if(e&&t.stateNode!=null)qy(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=vs(Do.current),vs(an.current),ja(t)){if(n=t.stateNode,r=t.memoizedProps,n[nn]=t,(i=n.nodeValue!==r)&&(e=ar,e!==null))switch(e.tag){case 3:ka(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ka(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[nn]=t,t.stateNode=n}return Nt(t),null;case 13:if(Ue(He),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Be&&ir!==null&&t.mode&1&&!(t.flags&128))uy(),Pi(),t.flags|=98560,i=!1;else if(i=ja(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[nn]=t}else Pi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nt(t),i=!1}else Wr!==null&&(Vd(Wr),Wr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||He.current&1?ft===0&&(ft=3):np())),t.updateQueue!==null&&(t.flags|=4),Nt(t),null);case 4:return Oi(),Rd(e,t),e===null&&Io(t.stateNode.containerInfo),Nt(t),null;case 10:return Vh(t.type._context),Nt(t),null;case 17:return Ht(t.type)&&Rl(),Nt(t),null;case 19:if(Ue(He),i=t.memoizedState,i===null)return Nt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Ji(i,!1);else{if(ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Dl(e),o!==null){for(t.flags|=128,Ji(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Le(He,He.current&1|2),t.child}e=e.sibling}i.tail!==null&&rt()>Ii&&(t.flags|=128,n=!0,Ji(i,!1),t.lanes=4194304)}else{if(!n)if(e=Dl(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ji(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Be)return Nt(t),null}else 2*rt()-i.renderingStartTime>Ii&&r!==1073741824&&(t.flags|=128,n=!0,Ji(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=rt(),t.sibling=null,r=He.current,Le(He,n?r&1|2:r&1),t):(Nt(t),null);case 22:case 23:return rp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?tr&1073741824&&(Nt(t),t.subtreeFlags&6&&(t.flags|=8192)):Nt(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function VS(e,t){switch(Mh(t),t.tag){case 1:return Ht(t.type)&&Rl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Oi(),Ue(Wt),Ue($t),Hh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wh(t),null;case 13:if(Ue(He),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Pi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(He),null;case 4:return Oi(),null;case 10:return Vh(t.type._context),null;case 22:case 23:return rp(),null;case 24:return null;default:return null}}var $a=!1,Tt=!1,zS=typeof WeakSet=="function"?WeakSet:Set,re=null;function hi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Je(e,t,n)}else r.current=null}function Od(e,t,r){try{r()}catch(n){Je(e,t,n)}}var Gm=!1;function US(e,t){if(gd=Nl,e=J0(),Ah(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var g;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===r&&++u===s&&(a=o),f===i&&++d===n&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(vd={focusedElem:e,selectionRange:r},Nl=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,x=y.memoizedState,v=t.stateNode,m=v.getSnapshotBeforeUpdate(t.elementType===t.type?b:Fr(t.type,b),x);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(S){Je(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return y=Gm,Gm=!1,y}function vo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Od(t,r,i)}s=s.next}while(s!==n)}}function mc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ad(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Gy(e){var t=e.alternate;t!==null&&(e.alternate=null,Gy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nn],delete t[Fo],delete t[bd],delete t[ES],delete t[CS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ky(e){return e.tag===5||e.tag===3||e.tag===4}function Km(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ky(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Id(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Pl));else if(n!==4&&(e=e.child,e!==null))for(Id(e,t,r),e=e.sibling;e!==null;)Id(e,t,r),e=e.sibling}function Md(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Md(e,t,r),e=e.sibling;e!==null;)Md(e,t,r),e=e.sibling}var Et=null,Vr=!1;function Tn(e,t,r){for(r=r.child;r!==null;)Xy(e,t,r),r=r.sibling}function Xy(e,t,r){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(ac,r)}catch{}switch(r.tag){case 5:Tt||hi(r,t);case 6:var n=Et,s=Vr;Et=null,Tn(e,t,r),Et=n,Vr=s,Et!==null&&(Vr?(e=Et,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Et.removeChild(r.stateNode));break;case 18:Et!==null&&(Vr?(e=Et,r=r.stateNode,e.nodeType===8?du(e.parentNode,r):e.nodeType===1&&du(e,r),Ro(e)):du(Et,r.stateNode));break;case 4:n=Et,s=Vr,Et=r.stateNode.containerInfo,Vr=!0,Tn(e,t,r),Et=n,Vr=s;break;case 0:case 11:case 14:case 15:if(!Tt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Od(r,t,o),s=s.next}while(s!==n)}Tn(e,t,r);break;case 1:if(!Tt&&(hi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Je(r,t,a)}Tn(e,t,r);break;case 21:Tn(e,t,r);break;case 22:r.mode&1?(Tt=(n=Tt)||r.memoizedState!==null,Tn(e,t,r),Tt=n):Tn(e,t,r);break;default:Tn(e,t,r)}}function Xm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new zS),t.forEach(function(n){var s=JS.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ar(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Et=a.stateNode,Vr=!1;break e;case 3:Et=a.stateNode.containerInfo,Vr=!0;break e;case 4:Et=a.stateNode.containerInfo,Vr=!0;break e}a=a.return}if(Et===null)throw Error(L(160));Xy(i,o,s),Et=null,Vr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Je(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Qy(t,e),t=t.sibling}function Qy(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ar(t,e),tn(e),n&4){try{vo(3,e,e.return),mc(3,e)}catch(b){Je(e,e.return,b)}try{vo(5,e,e.return)}catch(b){Je(e,e.return,b)}}break;case 1:Ar(t,e),tn(e),n&512&&r!==null&&hi(r,r.return);break;case 5:if(Ar(t,e),tn(e),n&512&&r!==null&&hi(r,r.return),e.flags&32){var s=e.stateNode;try{No(s,"")}catch(b){Je(e,e.return,b)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&y0(s,i),od(a,o);var u=od(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?_0(s,h):d==="dangerouslySetInnerHTML"?x0(s,h):d==="children"?No(s,h):xh(s,d,h,u)}switch(a){case"input":td(s,i);break;case"textarea":w0(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?bi(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?bi(s,!!i.multiple,i.defaultValue,!0):bi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fo]=i}catch(b){Je(e,e.return,b)}}break;case 6:if(Ar(t,e),tn(e),n&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(b){Je(e,e.return,b)}}break;case 3:if(Ar(t,e),tn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ro(t.containerInfo)}catch(b){Je(e,e.return,b)}break;case 4:Ar(t,e),tn(e);break;case 13:Ar(t,e),tn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ep=rt())),n&4&&Xm(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Tt=(u=Tt)||d,Ar(t,e),Tt=u):Ar(t,e),tn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(re=e,d=e.child;d!==null;){for(h=re=d;re!==null;){switch(f=re,g=f.child,f.tag){case 0:case 11:case 14:case 15:vo(4,f,f.return);break;case 1:hi(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(b){Je(n,r,b)}}break;case 5:hi(f,f.return);break;case 22:if(f.memoizedState!==null){Jm(h);continue}}g!==null?(g.return=f,re=g):Jm(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=S0("display",o))}catch(b){Je(e,e.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){Je(e,e.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ar(t,e),tn(e),n&4&&Xm(e);break;case 21:break;default:Ar(t,e),tn(e)}}function tn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ky(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(No(s,""),n.flags&=-33);var i=Km(e);Md(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Km(e);Id(e,a,o);break;default:throw Error(L(161))}}catch(l){Je(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function BS(e,t,r){re=e,Jy(e)}function Jy(e,t,r){for(var n=(e.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||$a;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Tt;a=$a;var u=Tt;if($a=o,(Tt=l)&&!u)for(re=s;re!==null;)o=re,l=o.child,o.tag===22&&o.memoizedState!==null?Ym(s):l!==null?(l.return=o,re=l):Ym(s);for(;i!==null;)re=i,Jy(i),i=i.sibling;re=s,$a=a,Tt=u}Qm(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):Qm(e)}}function Qm(e){for(;re!==null;){var t=re;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tt||mc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Tt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Fr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Am(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Am(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ro(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Tt||t.flags&512&&Ad(t)}catch(f){Je(t,t.return,f)}}if(t===e){re=null;break}if(r=t.sibling,r!==null){r.return=t.return,re=r;break}re=t.return}}function Jm(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var r=t.sibling;if(r!==null){r.return=t.return,re=r;break}re=t.return}}function Ym(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{mc(4,t)}catch(l){Je(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){Je(t,s,l)}}var i=t.return;try{Ad(t)}catch(l){Je(t,i,l)}break;case 5:var o=t.return;try{Ad(t)}catch(l){Je(t,o,l)}}}catch(l){Je(t,t.return,l)}if(t===e){re=null;break}var a=t.sibling;if(a!==null){a.return=t.return,re=a;break}re=t.return}}var WS=Math.ceil,Ul=Cn.ReactCurrentDispatcher,Yh=Cn.ReactCurrentOwner,xr=Cn.ReactCurrentBatchConfig,je=0,yt=null,ot=null,Ct=0,tr=0,pi=rs(0),ft=0,Bo=null,Ts=0,gc=0,Zh=0,yo=null,zt=null,ep=0,Ii=1/0,dn=null,Bl=!1,Fd=null,Xn=null,Pa=!1,Vn=null,Wl=0,wo=0,Ld=null,fl=-1,hl=0;function Ot(){return je&6?rt():fl!==-1?fl:fl=rt()}function Qn(e){return e.mode&1?je&2&&Ct!==0?Ct&-Ct:jS.transition!==null?(hl===0&&(hl=I0()),hl):(e=Re,e!==0||(e=window.event,e=e===void 0?16:U0(e.type)),e):1}function Gr(e,t,r,n){if(50<wo)throw wo=0,Ld=null,Error(L(185));oa(e,r,n),(!(je&2)||e!==yt)&&(e===yt&&(!(je&2)&&(gc|=r),ft===4&&Fn(e,Ct)),qt(e,n),r===1&&je===0&&!(t.mode&1)&&(Ii=rt()+500,fc&&ns()))}function qt(e,t){var r=e.callbackNode;jx(e,t);var n=jl(e,e===yt?Ct:0);if(n===0)r!==null&&am(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&am(r),t===1)e.tag===0?kS(Zm.bind(null,e)):ay(Zm.bind(null,e)),SS(function(){!(je&6)&&ns()}),r=null;else{switch(M0(n)){case 1:r=kh;break;case 4:r=O0;break;case 16:r=kl;break;case 536870912:r=A0;break;default:r=kl}r=iw(r,Yy.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Yy(e,t){if(fl=-1,hl=0,je&6)throw Error(L(327));var r=e.callbackNode;if(Ci()&&e.callbackNode!==r)return null;var n=jl(e,e===yt?Ct:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Hl(e,n);else{t=n;var s=je;je|=2;var i=ew();(yt!==e||Ct!==t)&&(dn=null,Ii=rt()+500,Ss(e,t));do try{GS();break}catch(a){Zy(e,a)}while(!0);Dh(),Ul.current=i,je=s,ot!==null?t=0:(yt=null,Ct=0,t=ft)}if(t!==0){if(t===2&&(s=dd(e),s!==0&&(n=s,t=Dd(e,s))),t===1)throw r=Bo,Ss(e,0),Fn(e,n),qt(e,rt()),r;if(t===6)Fn(e,n);else{if(s=e.current.alternate,!(n&30)&&!HS(s)&&(t=Hl(e,n),t===2&&(i=dd(e),i!==0&&(n=i,t=Dd(e,i))),t===1))throw r=Bo,Ss(e,0),Fn(e,n),qt(e,rt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:us(e,zt,dn);break;case 3:if(Fn(e,n),(n&130023424)===n&&(t=ep+500-rt(),10<t)){if(jl(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ot(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=wd(us.bind(null,e,zt,dn),t);break}us(e,zt,dn);break;case 4:if(Fn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-qr(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=rt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*WS(n/1960))-n,10<n){e.timeoutHandle=wd(us.bind(null,e,zt,dn),n);break}us(e,zt,dn);break;case 5:us(e,zt,dn);break;default:throw Error(L(329))}}}return qt(e,rt()),e.callbackNode===r?Yy.bind(null,e):null}function Dd(e,t){var r=yo;return e.current.memoizedState.isDehydrated&&(Ss(e,t).flags|=256),e=Hl(e,t),e!==2&&(t=zt,zt=r,t!==null&&Vd(t)),e}function Vd(e){zt===null?zt=e:zt.push.apply(zt,e)}function HS(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Xr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fn(e,t){for(t&=~Zh,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-qr(t),n=1<<r;e[r]=-1,t&=~n}}function Zm(e){if(je&6)throw Error(L(327));Ci();var t=jl(e,0);if(!(t&1))return qt(e,rt()),null;var r=Hl(e,t);if(e.tag!==0&&r===2){var n=dd(e);n!==0&&(t=n,r=Dd(e,n))}if(r===1)throw r=Bo,Ss(e,0),Fn(e,t),qt(e,rt()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,us(e,zt,dn),qt(e,rt()),null}function tp(e,t){var r=je;je|=1;try{return e(t)}finally{je=r,je===0&&(Ii=rt()+500,fc&&ns())}}function $s(e){Vn!==null&&Vn.tag===0&&!(je&6)&&Ci();var t=je;je|=1;var r=xr.transition,n=Re;try{if(xr.transition=null,Re=1,e)return e()}finally{Re=n,xr.transition=r,je=t,!(je&6)&&ns()}}function rp(){tr=pi.current,Ue(pi)}function Ss(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,xS(r)),ot!==null)for(r=ot.return;r!==null;){var n=r;switch(Mh(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Rl();break;case 3:Oi(),Ue(Wt),Ue($t),Hh();break;case 5:Wh(n);break;case 4:Oi();break;case 13:Ue(He);break;case 19:Ue(He);break;case 10:Vh(n.type._context);break;case 22:case 23:rp()}r=r.return}if(yt=e,ot=e=Jn(e.current,null),Ct=tr=t,ft=0,Bo=null,Zh=gc=Ts=0,zt=yo=null,gs!==null){for(t=0;t<gs.length;t++)if(r=gs[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}gs=null}return e}function Zy(e,t){do{var r=ot;try{if(Dh(),cl.current=zl,Vl){for(var n=qe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Vl=!1}if(Ns=0,gt=ut=qe=null,go=!1,Vo=0,Yh.current=null,r===null||r.return===null){ft=1,Bo=t,ot=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=Ct,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Vm(o);if(g!==null){g.flags&=-257,zm(g,o,a,i,t),g.mode&1&&Dm(i,u,t),t=g,l=u;var y=t.updateQueue;if(y===null){var b=new Set;b.add(l),t.updateQueue=b}else y.add(l);break e}else{if(!(t&1)){Dm(i,u,t),np();break e}l=Error(L(426))}}else if(Be&&a.mode&1){var x=Vm(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),zm(x,o,a,i,t),Fh(Ai(l,a));break e}}i=l=Ai(l,a),ft!==4&&(ft=2),yo===null?yo=[i]:yo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=My(i,l,t);Om(i,v);break e;case 1:a=l;var m=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Xn===null||!Xn.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=Fy(i,a,t);Om(i,S);break e}}i=i.return}while(i!==null)}rw(r)}catch(_){t=_,ot===r&&r!==null&&(ot=r=r.return);continue}break}while(!0)}function ew(){var e=Ul.current;return Ul.current=zl,e===null?zl:e}function np(){(ft===0||ft===3||ft===2)&&(ft=4),yt===null||!(Ts&268435455)&&!(gc&268435455)||Fn(yt,Ct)}function Hl(e,t){var r=je;je|=2;var n=ew();(yt!==e||Ct!==t)&&(dn=null,Ss(e,t));do try{qS();break}catch(s){Zy(e,s)}while(!0);if(Dh(),je=r,Ul.current=n,ot!==null)throw Error(L(261));return yt=null,Ct=0,ft}function qS(){for(;ot!==null;)tw(ot)}function GS(){for(;ot!==null&&!yx();)tw(ot)}function tw(e){var t=sw(e.alternate,e,tr);e.memoizedProps=e.pendingProps,t===null?rw(e):ot=t,Yh.current=null}function rw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=VS(r,t),r!==null){r.flags&=32767,ot=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ft=6,ot=null;return}}else if(r=DS(r,t,tr),r!==null){ot=r;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);ft===0&&(ft=5)}function us(e,t,r){var n=Re,s=xr.transition;try{xr.transition=null,Re=1,KS(e,t,r,n)}finally{xr.transition=s,Re=n}return null}function KS(e,t,r,n){do Ci();while(Vn!==null);if(je&6)throw Error(L(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Nx(e,i),e===yt&&(ot=yt=null,Ct=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Pa||(Pa=!0,iw(kl,function(){return Ci(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=xr.transition,xr.transition=null;var o=Re;Re=1;var a=je;je|=4,Yh.current=null,US(e,r),Qy(r,e),pS(vd),Nl=!!gd,vd=gd=null,e.current=r,BS(r),wx(),je=a,Re=o,xr.transition=i}else e.current=r;if(Pa&&(Pa=!1,Vn=e,Wl=s),i=e.pendingLanes,i===0&&(Xn=null),Sx(r.stateNode),qt(e,rt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Bl)throw Bl=!1,e=Fd,Fd=null,e;return Wl&1&&e.tag!==0&&Ci(),i=e.pendingLanes,i&1?e===Ld?wo++:(wo=0,Ld=e):wo=0,ns(),null}function Ci(){if(Vn!==null){var e=M0(Wl),t=xr.transition,r=Re;try{if(xr.transition=null,Re=16>e?16:e,Vn===null)var n=!1;else{if(e=Vn,Vn=null,Wl=0,je&6)throw Error(L(331));var s=je;for(je|=4,re=e.current;re!==null;){var i=re,o=i.child;if(re.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(re=u;re!==null;){var d=re;switch(d.tag){case 0:case 11:case 15:vo(8,d,i)}var h=d.child;if(h!==null)h.return=d,re=h;else for(;re!==null;){d=re;var f=d.sibling,g=d.return;if(Gy(d),d===u){re=null;break}if(f!==null){f.return=g,re=f;break}re=g}}}var y=i.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,re=o;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vo(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,re=v;break e}re=i.return}}var m=e.current;for(re=m;re!==null;){o=re;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,re=w;else e:for(o=m;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mc(9,a)}}catch(_){Je(a,a.return,_)}if(a===o){re=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,re=S;break e}re=a.return}}if(je=s,ns(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(ac,e)}catch{}n=!0}return n}finally{Re=r,xr.transition=t}}return!1}function eg(e,t,r){t=Ai(r,t),t=My(e,t,1),e=Kn(e,t,1),t=Ot(),e!==null&&(oa(e,1,t),qt(e,t))}function Je(e,t,r){if(e.tag===3)eg(e,e,r);else for(;t!==null;){if(t.tag===3){eg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Xn===null||!Xn.has(n))){e=Ai(r,e),e=Fy(t,e,1),t=Kn(t,e,1),e=Ot(),t!==null&&(oa(t,1,e),qt(t,e));break}}t=t.return}}function XS(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ot(),e.pingedLanes|=e.suspendedLanes&r,yt===e&&(Ct&r)===r&&(ft===4||ft===3&&(Ct&130023424)===Ct&&500>rt()-ep?Ss(e,0):Zh|=r),qt(e,t)}function nw(e,t){t===0&&(e.mode&1?(t=xa,xa<<=1,!(xa&130023424)&&(xa=4194304)):t=1);var r=Ot();e=_n(e,t),e!==null&&(oa(e,t,r),qt(e,r))}function QS(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),nw(e,r)}function JS(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),nw(e,r)}var sw;sw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Wt.current)Ut=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ut=!1,LS(e,t,r);Ut=!!(e.flags&131072)}else Ut=!1,Be&&t.flags&1048576&&ly(t,Il,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;dl(e,t),e=t.pendingProps;var s=$i(t,$t.current);Ei(t,r),s=Gh(null,t,n,e,s,r);var i=Kh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ht(n)?(i=!0,Ol(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Uh(t),s.updater=pc,t.stateNode=s,s._reactInternals=t,kd(t,n,e,r),t=Td(null,t,n,!0,i,r)):(t.tag=0,Be&&i&&Ih(t),Rt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(dl(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=ZS(n),e=Fr(n,e),s){case 0:t=Nd(null,t,n,e,r);break e;case 1:t=Wm(null,t,n,e,r);break e;case 11:t=Um(null,t,n,e,r);break e;case 14:t=Bm(null,t,n,Fr(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Fr(n,s),Nd(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Fr(n,s),Wm(e,t,n,s,r);case 3:e:{if(zy(t),e===null)throw Error(L(387));n=t.pendingProps,i=t.memoizedState,s=i.element,py(e,t),Ll(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ai(Error(L(423)),t),t=Hm(e,t,n,r,s);break e}else if(n!==s){s=Ai(Error(L(424)),t),t=Hm(e,t,n,r,s);break e}else for(ir=Gn(t.stateNode.containerInfo.firstChild),ar=t,Be=!0,Wr=null,r=fy(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Pi(),n===s){t=En(e,t,r);break e}Rt(e,t,n,r)}t=t.child}return t;case 5:return my(t),e===null&&_d(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,yd(n,s)?o=null:i!==null&&yd(n,i)&&(t.flags|=32),Vy(e,t),Rt(e,t,o,r),t.child;case 6:return e===null&&_d(t),null;case 13:return Uy(e,t,r);case 4:return Bh(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ri(t,null,n,r):Rt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Fr(n,s),Um(e,t,n,s,r);case 7:return Rt(e,t,t.pendingProps,r),t.child;case 8:return Rt(e,t,t.pendingProps.children,r),t.child;case 12:return Rt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Le(Ml,n._currentValue),n._currentValue=o,i!==null)if(Xr(i.value,o)){if(i.children===s.children&&!Wt.current){t=En(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=wn(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Ed(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(L(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Ed(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Rt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ei(t,r),s=Sr(s),n=n(s),t.flags|=1,Rt(e,t,n,r),t.child;case 14:return n=t.type,s=Fr(n,t.pendingProps),s=Fr(n.type,s),Bm(e,t,n,s,r);case 15:return Ly(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Fr(n,s),dl(e,t),t.tag=1,Ht(n)?(e=!0,Ol(t)):e=!1,Ei(t,r),Iy(t,n,s),kd(t,n,s,r),Td(null,t,n,!0,e,r);case 19:return By(e,t,r);case 22:return Dy(e,t,r)}throw Error(L(156,t.tag))};function iw(e,t){return R0(e,t)}function YS(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(e,t,r,n){return new YS(e,t,r,n)}function sp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ZS(e){if(typeof e=="function")return sp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_h)return 11;if(e===Eh)return 14}return 2}function Jn(e,t){var r=e.alternate;return r===null?(r=br(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function pl(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")sp(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case si:return _s(r.children,s,i,t);case Sh:o=8,s|=8;break;case Qu:return e=br(12,r,t,s|2),e.elementType=Qu,e.lanes=i,e;case Ju:return e=br(13,r,t,s),e.elementType=Ju,e.lanes=i,e;case Yu:return e=br(19,r,t,s),e.elementType=Yu,e.lanes=i,e;case m0:return vc(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case h0:o=10;break e;case p0:o=9;break e;case _h:o=11;break e;case Eh:o=14;break e;case On:o=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=br(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function _s(e,t,r,n){return e=br(7,e,n,t),e.lanes=r,e}function vc(e,t,r,n){return e=br(22,e,n,t),e.elementType=m0,e.lanes=r,e.stateNode={isHidden:!1},e}function wu(e,t,r){return e=br(6,e,null,t),e.lanes=r,e}function bu(e,t,r){return t=br(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function e_(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eu(0),this.expirationTimes=eu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eu(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ip(e,t,r,n,s,i,o,a,l){return e=new e_(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=br(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uh(i),e}function t_(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ni,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function ow(e){if(!e)return es;e=e._reactInternals;e:{if(Fs(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(Ht(r))return oy(e,r,t)}return t}function aw(e,t,r,n,s,i,o,a,l){return e=ip(r,n,!0,e,s,i,o,a,l),e.context=ow(null),r=e.current,n=Ot(),s=Qn(r),i=wn(n,s),i.callback=t??null,Kn(r,i,s),e.current.lanes=s,oa(e,s,n),qt(e,n),e}function yc(e,t,r,n){var s=t.current,i=Ot(),o=Qn(s);return r=ow(r),t.context===null?t.context=r:t.pendingContext=r,t=wn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Kn(s,t,o),e!==null&&(Gr(e,s,o,i),ll(e,s,o)),o}function ql(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function op(e,t){tg(e,t),(e=e.alternate)&&tg(e,t)}function r_(){return null}var lw=typeof reportError=="function"?reportError:function(e){console.error(e)};function ap(e){this._internalRoot=e}wc.prototype.render=ap.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));yc(e,t,null,null)};wc.prototype.unmount=ap.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$s(function(){yc(null,e,null,null)}),t[Sn]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var t=D0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mn.length&&t!==0&&t<Mn[r].priority;r++);Mn.splice(r,0,e),r===0&&z0(e)}};function lp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rg(){}function n_(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=ql(o);i.call(u)}}var o=aw(t,n,e,0,null,!1,!1,"",rg);return e._reactRootContainer=o,e[Sn]=o.current,Io(e.nodeType===8?e.parentNode:e),$s(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=ql(l);a.call(u)}}var l=ip(e,0,!1,null,null,!1,!1,"",rg);return e._reactRootContainer=l,e[Sn]=l.current,Io(e.nodeType===8?e.parentNode:e),$s(function(){yc(t,l,r,n)}),l}function xc(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ql(o);a.call(l)}}yc(t,o,e,s)}else o=n_(r,t,e,s,n);return ql(o)}F0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=io(t.pendingLanes);r!==0&&(jh(t,r|1),qt(t,rt()),!(je&6)&&(Ii=rt()+500,ns()))}break;case 13:$s(function(){var n=_n(e,1);if(n!==null){var s=Ot();Gr(n,e,1,s)}}),op(e,1)}};Nh=function(e){if(e.tag===13){var t=_n(e,134217728);if(t!==null){var r=Ot();Gr(t,e,134217728,r)}op(e,134217728)}};L0=function(e){if(e.tag===13){var t=Qn(e),r=_n(e,t);if(r!==null){var n=Ot();Gr(r,e,t,n)}op(e,t)}};D0=function(){return Re};V0=function(e,t){var r=Re;try{return Re=e,t()}finally{Re=r}};ld=function(e,t,r){switch(t){case"input":if(td(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=dc(n);if(!s)throw Error(L(90));v0(n),td(n,s)}}}break;case"textarea":w0(e,r);break;case"select":t=r.value,t!=null&&bi(e,!!r.multiple,t,!1)}};k0=tp;j0=$s;var s_={usingClientEntryPoint:!1,Events:[la,li,dc,E0,C0,tp]},Yi={findFiberByHostInstance:ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i_={bundleType:Yi.bundleType,version:Yi.version,rendererPackageName:Yi.rendererPackageName,rendererConfig:Yi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$0(e),e===null?null:e.stateNode},findFiberByHostInstance:Yi.findFiberByHostInstance||r_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ra=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ra.isDisabled&&Ra.supportsFiber)try{ac=Ra.inject(i_),on=Ra}catch{}}cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s_;cr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lp(t))throw Error(L(200));return t_(e,t,null,r)};cr.createRoot=function(e,t){if(!lp(e))throw Error(L(299));var r=!1,n="",s=lw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ip(e,1,!1,null,null,r,!1,n,s),e[Sn]=t.current,Io(e.nodeType===8?e.parentNode:e),new ap(t)};cr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=$0(t),e=e===null?null:e.stateNode,e};cr.flushSync=function(e){return $s(e)};cr.hydrate=function(e,t,r){if(!bc(t))throw Error(L(200));return xc(null,e,t,!0,r)};cr.hydrateRoot=function(e,t,r){if(!lp(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=lw;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=aw(t,null,e,1,r??null,s,!1,i,o),e[Sn]=t.current,Io(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new wc(t)};cr.render=function(e,t,r){if(!bc(t))throw Error(L(200));return xc(null,e,t,!1,r)};cr.unmountComponentAtNode=function(e){if(!bc(e))throw Error(L(40));return e._reactRootContainer?($s(function(){xc(null,null,e,!1,function(){e._reactRootContainer=null,e[Sn]=null})}),!0):!1};cr.unstable_batchedUpdates=tp;cr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!bc(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return xc(e,t,r,!1,n)};cr.version="18.3.1-next-f1338f8080-20240426";function cw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cw)}catch(e){console.error(e)}}cw(),c0.exports=cr;var Sc=c0.exports,ng=Sc;Ku.createRoot=ng.createRoot,Ku.hydrateRoot=ng.hydrateRoot;const o_=[{name:"",priceCoefficient:26.3026,maxWeight:11.9,growthSpeed:28.5,type:"",specialMutations:[""]},{name:"",priceCoefficient:687.682,maxWeight:3.4,growthSpeed:133,type:""},{name:"",priceCoefficient:66.2398,maxWeight:10.2,growthSpeed:33.33,type:""},{name:"",priceCoefficient:43.5424,maxWeight:34,growthSpeed:17,type:""},{name:"",priceCoefficient:2579.0104,maxWeight:3.4,growthSpeed:275,type:""},{name:"",priceCoefficient:12.2462,maxWeight:136,growthSpeed:7.5,type:""},{name:"",priceCoefficient:215.0425,maxWeight:13.6,growthSpeed:50,type:"",specialMutations:[""]},{name:"",priceCoefficient:10.7111,maxWeight:170,growthSpeed:6,type:"",specialMutations:[""]},{name:"",priceCoefficient:484.155,maxWeight:13.6,growthSpeed:75,type:""},{name:"",priceCoefficient:537.9143,maxWeight:13.6,growthSpeed:75,type:""},{name:"",priceCoefficient:103.5096,maxWeight:40.8,growthSpeed:27.78,type:""},{name:"",priceCoefficient:579.7213,maxWeight:10.2,growthSpeed:80,type:""},{name:"",priceCoefficient:2108.1851,maxWeight:5.1,growthSpeed:200,type:""},{name:"",priceCoefficient:2578.4733,maxWeight:5.2,growthSpeed:200,type:""},{name:"",priceCoefficient:188.7409,maxWeight:37.4,growthSpeed:40.5,type:"",specialMutations:[""]},{name:"",priceCoefficient:527.5836,maxWeight:20,growthSpeed:83.5,type:""},{name:"",priceCoefficient:2484.6553,maxWeight:10.2,growthSpeed:280,type:"",specialMutations:[""]},{name:"",priceCoefficient:1657.661,maxWeight:10.5,growthSpeed:166,type:""},{name:"",priceCoefficient:145.9826,maxWeight:40.8,growthSpeed:32.5,type:""},{name:"",priceCoefficient:12.9595,maxWeight:204,growthSpeed:6.5,type:"",specialMutations:[""]},{name:"",priceCoefficient:8702.3915,maxWeight:8.5,growthSpeed:888,type:"",specialMutations:[""]},{name:"",priceCoefficient:2147.9813,maxWeight:13.6,growthSpeed:278,type:""},{name:"",priceCoefficient:790.1983,maxWeight:23.8,growthSpeed:135,type:""},{name:"",priceCoefficient:202.944,maxWeight:61.2,growthSpeed:55.55,type:""},{name:"",priceCoefficient:370.3206,maxWeight:51,growthSpeed:80,type:"",specialMutations:[""]},{name:"",priceCoefficient:4614.5318,maxWeight:17,growthSpeed:570,type:""},{name:"",priceCoefficient:24833.3587,maxWeight:10.2,growthSpeed:2400,type:""},{name:"",priceCoefficient:24836.8915,maxWeight:10.2,growthSpeed:2400,type:""},{name:"",priceCoefficient:8780.9359,maxWeight:20.4,growthSpeed:1333.33,type:""},{name:"",priceCoefficient:49659.0636,maxWeight:10.2,growthSpeed:2400,type:""},{name:"",priceCoefficient:9525.0487,maxWeight:34,growthSpeed:720,type:""},{name:"",priceCoefficient:33143.6022,maxWeight:10.2,growthSpeed:2400,type:""},{name:"",priceCoefficient:330.8416,maxWeight:3.4,growthSpeed:111,type:""},{name:"",priceCoefficient:1351.1872,maxWeight:3.4,growthSpeed:180,type:""},{name:"",priceCoefficient:1503.7848,maxWeight:5.1,growthSpeed:205,type:""},{name:"",priceCoefficient:662.4846,maxWeight:10.2,growthSpeed:111,type:""},{name:"",priceCoefficient:321.9977,maxWeight:20.4,growthSpeed:58,type:""},{name:"",priceCoefficient:3045.3677,maxWeight:5.1,growthSpeed:280,type:""},{name:"",priceCoefficient:3920.9258,maxWeight:8.5,growthSpeed:375,type:""},{name:"",priceCoefficient:3973.0842,maxWeight:10.2,growthSpeed:416,type:""},{name:"",priceCoefficient:3387.5121,maxWeight:17,growthSpeed:460,type:""},{name:"",priceCoefficient:3512.9681,maxWeight:20.4,growthSpeed:520,type:""},{name:"",priceCoefficient:8368.8326,maxWeight:23.8,growthSpeed:1142.5,type:""},{name:"",priceCoefficient:33134.0877,maxWeight:10.2,growthSpeed:2966.6,type:""},{name:"",priceCoefficient:11154.0159,maxWeight:23.8,growthSpeed:1524,type:""},{name:"",priceCoefficient:83565.844,maxWeight:5.1,growthSpeed:0,type:""}],rr=o_.map(e=>({...e,priceCoefficient:Number(e.priceCoefficient.toFixed(4))})),a_=new Set(["","",""]),cp=e=>`/carzyfarm/${a_.has(e)?`${e}1.png`:`${e}.png`}`,zd=[{version:"V7.6.1",date:"2026.2.27",items:["100","",""]},{version:"V7.6.0",date:"2026.2.27",items:[""]},{version:"V7.5.3",date:"2026.2.27",items:["0bug"]},{version:"V7.5.2",date:"2026.2.27",items:["bug"]},{version:"V7.5.1",date:"2026.2.26",items:["1"]},{version:"V7.5.0",date:"2026.2.26",items:[""]},{version:"V7.4.2",date:"2026.2.25",items:[""]},{version:"V7.4.1",date:"2026.2.25",items:[""]},{version:"V7.4.0",date:"2026.2.24",items:["",""]},{version:"V7.3.4",date:"2026.2.24",items:[""]},{version:"V7.3.3",date:"2026.2.22",items:[""]},{version:"V7.3.2",date:"2026.2.21",items:["","",""]},{version:"V7.3.1",date:"2026.2.15",items:[""]},{version:"V7.3.0",date:"2026.2.15",items:["",""]},{version:"V7.2.0",date:"2026.2.12",items:[""]},{version:"V7.1.1",date:"2026.2.12",items:[""]},{version:"V7.1.0",date:"2026.2.12",items:[""]},{version:"V7.0.0",date:"2026.2.11",items:["UI"]},{version:"V6.7.1",date:"2026.2.11",items:["bug"]},{version:"V6.7.0",date:"2026.2.11",items:[""]},{version:"V6.6.2",date:"2026.2.11",items:[""]},{version:"V6.6.1",date:"2026.2.11",items:[""]},{version:"V6.6.0",date:"2026.2.11",items:[""]},{version:"V6.5.2",date:"2026.2.11",items:[""]},{version:"V6.5.1",date:"2026.2.11",items:[""]},{version:"V6.5.0",date:"2026.2.10",items:[""]},{version:"V6.4.1",date:"2026.2.10",items:[""]},{version:"V6.4.0",date:"2026.2.10",items:[""]},{version:"V6.3.3",date:"2026.2.10",items:["PWA"]},{version:"V6.3.2",date:"2026.2.10",items:[""]},{version:"V6.3.1",date:"2026.2.10",items:["",""]},{version:"V6.3.0",date:"2026.2.10",items:[""]},{version:"V6.2.3",date:"2026.2.9",items:[""]},{version:"V6.2.2",date:"2026.2.8",items:[""]},{version:"V6.2.1",date:"2026.2.8",items:[""]},{version:"V6.2.0",date:"2026.2.8",items:[""]},{version:"V6.1.1",date:"2026.2.8",items:[""]},{version:"V6.1.0",date:"2026.2.8",items:[""]},{version:"V6.0.1",date:"2026.2.8",items:[""]},{version:"V6.0.0",date:"2026.2.8",items:[""]},{version:"V5.2.2",date:"2026.2.5",items:[""]},{version:"V5.2.1",date:"2026.2.5",items:[""]},{version:"V5.2.0",date:"2026.2.5",items:[""]},{version:"V5.1.1",date:"2026.2.5",items:[""]},{version:"V5.1.0",date:"2026.2.5",items:[""]},{version:"V5.0.1",date:"2026.2.5",items:["bug",""]},{version:"V5.0.0",date:"2026.2.5",items:["fknc.top"]},{version:"V4.12.1",date:"2026.2.4",items:["",""]},{version:"V4.12.0",date:"2026.2.4",items:[""]},{version:"V4.11.2",date:"2026.2.3",items:[""]},{version:"V4.11.1",date:"2026.2.3",items:[""]},{version:"V4.11.0",date:"2026.2.3",items:["",""]},{version:"V4.10.1",date:"2026.1.30",items:[""]},{version:"V4.10.0",date:"2026.1.30",items:[""]},{version:"V4.9.0",date:"2026.1.30",items:[""]},{version:"V4.8.3",date:"2026.1.30",items:[""]},{version:"V4.8.2",date:"2026.1.30",items:[""]},{version:"V4.8.1",date:"2026.1.30",items:["+="]},{version:"V4.8.0",date:"2026.1.30",items:[""]},{version:"V4.7.1",date:"2026.1.30",items:[""]},{version:"V4.7.0",date:"2026.1.30",items:["",""]},{version:"V4.6.0",date:"2026.1.29",items:[""]},{version:"V4.5.0",date:"2026.1.29",items:[""]},{version:"V4.4.0",date:"2026.1.29",items:[""]},{version:"V4.3.2",date:"2026.1.29",items:[""]},{version:"V4.3.1",date:"2026.1.29",items:[""]},{version:"V4.3.0",date:"2026.1.29",items:[""]},{version:"V4.2.0",date:"2026.1.29",items:[""]},{version:"V4.1.0",date:"2026.1.28",items:[""]},{version:"V4.0.4",date:"2026.1.28",items:[""]},{version:"V4.0.3",date:"2026.1.28",items:[""]},{version:"V4.0.2",date:"2026.1.27",items:[""]},{version:"V4.0.1",date:"2026.1.27",items:[""]},{version:"V4.0.0",date:"2026.1.27",items:[""]},{version:"V3.7.0",date:"2026.1.26",items:["",""]},{version:"V3.6.1",date:"2026.1.24",items:["inputbutton"]},{version:"V3.6.0",date:"2026.1.24",items:["","",""]},{version:"V3.5.2",date:"2026.1.22",items:["webbug"]},{version:"V3.5.1",date:"2026.1.22",items:[""]},{version:"V3.5.0",date:"2026.1.21",items:[""]},{version:"V3.4.6",date:"2026.1.21",items:["",""]},{version:"V3.4.5",date:"2026.1.21",items:[""]},{version:"V3.4.4",date:"2026.1.21",items:[""]},{version:"V3.4.3",date:"2026.1.20",items:[""]},{version:"V3.4.2",date:"2026.1.20",items:[""]},{version:"V3.4.0",date:"2026.1.20",items:["",""]},{version:"V3.3.0",date:"2026.1.20",items:[""]},{version:"V3.2.0",date:"2026.1.20",items:["web"]},{version:"V3.1.4",date:"2026.1.19",items:["bug"]},{version:"V3.1.3",date:"2026.1.19",items:[""]},{version:"V3.1.1",date:"2026.1.19",items:[""]},{version:"V3.1.0",date:"2026.1.19",items:["","1",""]},{version:"V3.0.4",date:"2026.1.19",items:[""]},{version:"V3.0.3",date:"2026.1.19",items:["GradientButton",""]},{version:"V3.0.2",date:"2026.1.19",items:["bug",""]},{version:"V3.0.1",date:"2026.1.19",items:[""]},{version:"V3.0.0",date:"2026.1.19",items:["","",'""']},{version:"V2.4.7",date:"2026.1.18",items:[""]},{version:"V2.4.6",date:"2026.1.18",items:["svgbug"]},{version:"V2.4.5",date:"2026.1.17",items:[""]},{version:"V2.4.4",date:"2026.1.17",items:["bug"]},{version:"V2.4.3",date:"2026.1.17",items:[""]},{version:"V2.4.2",date:"2026.1.16",items:["/",""]},{version:"V2.4.1",date:"2026.1.16",items:["",""]},{version:"V2.4.0",date:"2026.1.16",items:[""]},{version:"V2.3.2",date:"2026.1.16",items:["",""]},{version:"V2.3.1",date:"2026.1.16",items:[""]},{version:"V2.3.0",date:"2026.1.16",items:[""]},{version:"V2.2.0",date:"2026.1.15",items:["","","","","","",""]},{version:"V2.1.1",date:"2026.1.15",items:[""]},{version:"V2.1.0",date:"2026.1.15",items:["","",""]},{version:"V2.0.3",date:"2026.1.14",items:["",""]},{version:"V2.0.2",date:"2026.1.14",items:["","SEO"]},{version:"V2.0.1",date:"2026.1.14",items:["IOS"]},{version:"V2.0.0",date:"2026.1.14",items:["","","","","","",""]},{version:"V1.6.4",date:"2026.1.14",items:[""]},{version:"V1.6.3",date:"2026.1.14",items:[""]},{version:"V1.6.2",date:"2026.1.14",items:["",""]},{version:"V1.6.1",date:"2026.1.14",items:["","","hover"]},{version:"V1.6.0",date:"2026.1.14",items:["",""]},{version:"V1.5.1",date:"2026.1.13",items:["bug"]},{version:"V1.5.0",date:"2026.1.13",items:["","header","","checkbox","","","",""]},{version:"V1.4.1",date:"2026.1.13",items:["1.5 -> 2.25"]},{version:"V1.4.0",date:"2026.1.13",items:[""]},{version:"V1.3.0",date:"2026.1.13",items:[""]},{version:"V1.2.2",date:"2026.1.13",items:[""]},{version:"V1.2.1",date:"2026.1.13",items:[""]},{version:"V1.2.0",date:"2026.1.13",items:["UI","","","","","","","",'""""',"","","Modal","Footer"]},{version:"V1.1.0",date:"2026.1.12",items:["","","","/",""]},{version:"V1.0.0",date:"2026.1.12",items:["","","","","UI"]}],up=p.createContext({});function uw(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=uw(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ze(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=uw(e))&&(n&&(n+=" "),n+=t);return n}const l_={aliceblue:"9ehhb",antiquewhite:"9sgk7",aqua:"1ekf",aquamarine:"4zsno",azure:"9eiv3",beige:"9lhp8",bisque:"9zg04",black:"0",blanchedalmond:"9zhe5",blue:"73",blueviolet:"5e31e",brown:"6g016",burlywood:"8ouiv",cadetblue:"3qba8",chartreuse:"4zshs",chocolate:"87k0u",coral:"9yvyo",cornflowerblue:"3xael",cornsilk:"9zjz0",crimson:"8l4xo",cyan:"1ekf",darkblue:"3v",darkcyan:"rkb",darkgoldenrod:"776yz",darkgray:"6mbhl",darkgreen:"jr4",darkgrey:"6mbhl",darkkhaki:"7ehkb",darkmagenta:"5f91n",darkolivegreen:"3bzfz",darkorange:"9yygw",darkorchid:"5z6x8",darkred:"5f8xs",darksalmon:"9441m",darkseagreen:"5lwgf",darkslateblue:"2th1n",darkslategray:"1ugcv",darkslategrey:"1ugcv",darkturquoise:"14up",darkviolet:"5rw7n",deeppink:"9yavn",deepskyblue:"11xb",dimgray:"442g9",dimgrey:"442g9",dodgerblue:"16xof",firebrick:"6y7tu",floralwhite:"9zkds",forestgreen:"1cisi",fuchsia:"9y70f",gainsboro:"8m8kc",ghostwhite:"9pq0v",goldenrod:"8j4f4",gold:"9zda8",gray:"50i2o",green:"pa8",greenyellow:"6senj",grey:"50i2o",honeydew:"9eiuo",hotpink:"9yrp0",indianred:"80gnw",indigo:"2xcoy",ivory:"9zldc",khaki:"9edu4",lavenderblush:"9ziet",lavender:"90c8q",lawngreen:"4vk74",lemonchiffon:"9zkct",lightblue:"6s73a",lightcoral:"9dtog",lightcyan:"8s1rz",lightgoldenrodyellow:"9sjiq",lightgray:"89jo3",lightgreen:"5nkwg",lightgrey:"89jo3",lightpink:"9z6wx",lightsalmon:"9z2ii",lightseagreen:"19xgq",lightskyblue:"5arju",lightslategray:"4nwk9",lightslategrey:"4nwk9",lightsteelblue:"6wau6",lightyellow:"9zlcw",lime:"1edc",limegreen:"1zcxe",linen:"9shk6",magenta:"9y70f",maroon:"4zsow",mediumaquamarine:"40eju",mediumblue:"5p",mediumorchid:"79qkz",mediumpurple:"5r3rv",mediumseagreen:"2d9ip",mediumslateblue:"4tcku",mediumspringgreen:"1di2",mediumturquoise:"2uabw",mediumvioletred:"7rn9h",midnightblue:"z980",mintcream:"9ljp6",mistyrose:"9zg0x",moccasin:"9zfzp",navajowhite:"9zest",navy:"3k",oldlace:"9wq92",olive:"50hz4",olivedrab:"472ub",orange:"9z3eo",orangered:"9ykg0",orchid:"8iu3a",palegoldenrod:"9bl4a",palegreen:"5yw0o",paleturquoise:"6v4ku",palevioletred:"8k8lv",papayawhip:"9zi6t",peachpuff:"9ze0p",peru:"80oqn",pink:"9z8wb",plum:"8nba5",powderblue:"6wgdi",purple:"4zssg",rebeccapurple:"3zk49",red:"9y6tc",rosybrown:"7cv4f",royalblue:"2jvtt",saddlebrown:"5fmkz",salmon:"9rvci",sandybrown:"9jn1c",seagreen:"1tdnb",seashell:"9zje6",sienna:"6973h",silver:"7ir40",skyblue:"5arjf",slateblue:"45e4t",slategray:"4e100",slategrey:"4e100",snow:"9zke2",springgreen:"1egv",steelblue:"2r1kk",tan:"87yx8",teal:"pds",thistle:"8ggk8",tomato:"9yqfb",turquoise:"2j4r4",violet:"9b10u",wheat:"9ld4j",white:"9zldr",whitesmoke:"9lhpx",yellow:"9zl6o",yellowgreen:"61fzm"},mt=Math.round;function xu(e,t){const r=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],n=r.map(s=>parseFloat(s));for(let s=0;s<3;s+=1)n[s]=t(n[s]||0,r[s]||"",s);return r[3]?n[3]=r[3].includes("%")?n[3]/100:n[3]:n[3]=1,n}const sg=(e,t,r)=>r===0?e:e/100;function Zi(e,t){const r=t||255;return e>r?r:e<0?0:e}class ht{constructor(t){M(this,"isValid",!0);M(this,"r",0);M(this,"g",0);M(this,"b",0);M(this,"a",1);M(this,"_h");M(this,"_s");M(this,"_l");M(this,"_v");M(this,"_max");M(this,"_min");M(this,"_brightness");function r(s){return s[0]in t&&s[1]in t&&s[2]in t}if(t)if(typeof t=="string"){let i=function(o){return s.startsWith(o)};var n=i;const s=t.trim();if(/^#?[A-F\d]{3,8}$/i.test(s))this.fromHexString(s);else if(i("rgb"))this.fromRgbString(s);else if(i("hsl"))this.fromHslString(s);else if(i("hsv")||i("hsb"))this.fromHsvString(s);else{const o=l_[s.toLowerCase()];o&&this.fromHexString(parseInt(o,36).toString(16).padStart(6,"0"))}}else if(t instanceof ht)this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this._h=t._h,this._s=t._s,this._l=t._l,this._v=t._v;else if(r("rgb"))this.r=Zi(t.r),this.g=Zi(t.g),this.b=Zi(t.b),this.a=typeof t.a=="number"?Zi(t.a,1):1;else if(r("hsl"))this.fromHsl(t);else if(r("hsv"))this.fromHsv(t);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(t))}setR(t){return this._sc("r",t)}setG(t){return this._sc("g",t)}setB(t){return this._sc("b",t)}setA(t){return this._sc("a",t,1)}setHue(t){const r=this.toHsv();return r.h=t,this._c(r)}getLuminance(){function t(i){const o=i/255;return o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4)}const r=t(this.r),n=t(this.g),s=t(this.b);return .2126*r+.7152*n+.0722*s}getHue(){if(typeof this._h>"u"){const t=this.getMax()-this.getMin();t===0?this._h=0:this._h=mt(60*(this.r===this.getMax()?(this.g-this.b)/t+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/t+2:(this.r-this.g)/t+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const t=this.getMax()-this.getMin();t===0?this._s=0:this._s=t/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(t=10){const r=this.getHue(),n=this.getSaturation();let s=this.getLightness()-t/100;return s<0&&(s=0),this._c({h:r,s:n,l:s,a:this.a})}lighten(t=10){const r=this.getHue(),n=this.getSaturation();let s=this.getLightness()+t/100;return s>1&&(s=1),this._c({h:r,s:n,l:s,a:this.a})}mix(t,r=50){const n=this._c(t),s=r/100,i=a=>(n[a]-this[a])*s+this[a],o={r:mt(i("r")),g:mt(i("g")),b:mt(i("b")),a:mt(i("a")*100)/100};return this._c(o)}tint(t=10){return this.mix({r:255,g:255,b:255,a:1},t)}shade(t=10){return this.mix({r:0,g:0,b:0,a:1},t)}onBackground(t){const r=this._c(t),n=this.a+r.a*(1-this.a),s=i=>mt((this[i]*this.a+r[i]*r.a*(1-this.a))/n);return this._c({r:s("r"),g:s("g"),b:s("b"),a:n})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}clone(){return this._c(this)}toHexString(){let t="#";const r=(this.r||0).toString(16);t+=r.length===2?r:"0"+r;const n=(this.g||0).toString(16);t+=n.length===2?n:"0"+n;const s=(this.b||0).toString(16);if(t+=s.length===2?s:"0"+s,typeof this.a=="number"&&this.a>=0&&this.a<1){const i=mt(this.a*255).toString(16);t+=i.length===2?i:"0"+i}return t}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const t=this.getHue(),r=mt(this.getSaturation()*100),n=mt(this.getLightness()*100);return this.a!==1?`hsla(${t},${r}%,${n}%,${this.a})`:`hsl(${t},${r}%,${n}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(t,r,n){const s=this.clone();return s[t]=Zi(r,n),s}_c(t){return new this.constructor(t)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(t){const r=t.replace("#","");function n(s,i){return parseInt(r[s]+r[i||s],16)}r.length<6?(this.r=n(0),this.g=n(1),this.b=n(2),this.a=r[3]?n(3)/255:1):(this.r=n(0,1),this.g=n(2,3),this.b=n(4,5),this.a=r[6]?n(6,7)/255:1)}fromHsl({h:t,s:r,l:n,a:s}){if(this._h=t%360,this._s=r,this._l=n,this.a=typeof s=="number"?s:1,r<=0){const f=mt(n*255);this.r=f,this.g=f,this.b=f}let i=0,o=0,a=0;const l=t/60,u=(1-Math.abs(2*n-1))*r,d=u*(1-Math.abs(l%2-1));l>=0&&l<1?(i=u,o=d):l>=1&&l<2?(i=d,o=u):l>=2&&l<3?(o=u,a=d):l>=3&&l<4?(o=d,a=u):l>=4&&l<5?(i=d,a=u):l>=5&&l<6&&(i=u,a=d);const h=n-u/2;this.r=mt((i+h)*255),this.g=mt((o+h)*255),this.b=mt((a+h)*255)}fromHsv({h:t,s:r,v:n,a:s}){this._h=t%360,this._s=r,this._v=n,this.a=typeof s=="number"?s:1;const i=mt(n*255);if(this.r=i,this.g=i,this.b=i,r<=0)return;const o=t/60,a=Math.floor(o),l=o-a,u=mt(n*(1-r)*255),d=mt(n*(1-r*l)*255),h=mt(n*(1-r*(1-l))*255);switch(a){case 0:this.g=h,this.b=u;break;case 1:this.r=d,this.b=u;break;case 2:this.r=u,this.b=h;break;case 3:this.r=u,this.g=d;break;case 4:this.r=h,this.g=u;break;case 5:default:this.g=u,this.b=d;break}}fromHsvString(t){const r=xu(t,sg);this.fromHsv({h:r[0],s:r[1],v:r[2],a:r[3]})}fromHslString(t){const r=xu(t,sg);this.fromHsl({h:r[0],s:r[1],l:r[2],a:r[3]})}fromRgbString(t){const r=xu(t,(n,s)=>s.includes("%")?mt(n/100*255):n);this.r=r[0],this.g=r[1],this.b=r[2],this.a=r[3]}}const Oa=2,ig=.16,c_=.05,u_=.05,d_=.15,dw=5,fw=4,f_=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function og(e,t,r){let n;return Math.round(e.h)>=60&&Math.round(e.h)<=240?n=r?Math.round(e.h)-Oa*t:Math.round(e.h)+Oa*t:n=r?Math.round(e.h)+Oa*t:Math.round(e.h)-Oa*t,n<0?n+=360:n>=360&&(n-=360),n}function ag(e,t,r){if(e.h===0&&e.s===0)return e.s;let n;return r?n=e.s-ig*t:t===fw?n=e.s+ig:n=e.s+c_*t,n>1&&(n=1),r&&t===dw&&n>.1&&(n=.1),n<.06&&(n=.06),Math.round(n*100)/100}function lg(e,t,r){let n;return r?n=e.v+u_*t:n=e.v-d_*t,n=Math.max(0,Math.min(1,n)),Math.round(n*100)/100}function dp(e,t={}){const r=[],n=new ht(e),s=n.toHsv();for(let i=dw;i>0;i-=1){const o=new ht({h:og(s,i,!0),s:ag(s,i,!0),v:lg(s,i,!0)});r.push(o)}r.push(n);for(let i=1;i<=fw;i+=1){const o=new ht({h:og(s,i),s:ag(s,i),v:lg(s,i)});r.push(o)}return t.theme==="dark"?f_.map(({index:i,amount:o})=>new ht(t.backgroundColor||"#141414").mix(r[i],o).toHexString()):r.map(i=>i.toHexString())}const Su={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Ud=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];Ud.primary=Ud[5];const Bd=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];Bd.primary=Bd[5];const Wd=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];Wd.primary=Wd[5];const Hd=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];Hd.primary=Hd[5];const qd=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];qd.primary=qd[5];const Gd=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];Gd.primary=Gd[5];const Kd=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];Kd.primary=Kd[5];const Xd=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Xd.primary=Xd[5];const Gl=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Gl.primary=Gl[5];const Qd=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];Qd.primary=Qd[5];const Jd=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];Jd.primary=Jd[5];const Yd=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];Yd.primary=Yd[5];const Zd=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Zd.primary=Zd[5];const _u={red:Ud,volcano:Bd,orange:Wd,gold:Hd,yellow:qd,lime:Gd,green:Kd,cyan:Xd,blue:Gl,geekblue:Qd,purple:Jd,magenta:Yd,grey:Zd};function Er(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function h_(e,t){if(!e)return!1;if(e.contains)return e.contains(t);let r=t;for(;r;){if(r===e)return!0;r=r.parentNode}return!1}const cg="data-rc-order",ug="data-rc-priority",p_="rc-util-key",ef=new Map;function hw({mark:e}={}){return e?e.startsWith("data-")?e:`data-${e}`:p_}function _c(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function m_(e){return e==="queue"?"prependQueue":e?"prepend":"append"}function fp(e){return Array.from((ef.get(e)||e).children).filter(t=>t.tagName==="STYLE")}function pw(e,t={}){if(!Er())return null;const{csp:r,prepend:n,priority:s=0}=t,i=m_(n),o=i==="prependQueue",a=document.createElement("style");a.setAttribute(cg,i),o&&s&&a.setAttribute(ug,`${s}`),r!=null&&r.nonce&&(a.nonce=r==null?void 0:r.nonce),a.innerHTML=e;const l=_c(t),{firstChild:u}=l;if(n){if(o){const d=(t.styles||fp(l)).filter(h=>{if(!["prepend","prependQueue"].includes(h.getAttribute(cg)))return!1;const f=Number(h.getAttribute(ug)||0);return s>=f});if(d.length)return l.insertBefore(a,d[d.length-1].nextSibling),a}l.insertBefore(a,u)}else l.appendChild(a);return a}function mw(e,t={}){let{styles:r}=t;return r||(r=fp(_c(t))),r.find(n=>n.getAttribute(hw(t))===e)}function Wo(e,t={}){const r=mw(e,t);r&&_c(t).removeChild(r)}function g_(e,t){const r=ef.get(e);if(!r||!h_(document,r)){const n=pw("",t),{parentNode:s}=n;ef.set(e,s),e.removeChild(n)}}function Yn(e,t,r={}){var l,u,d;const n=_c(r),s=fp(n),i={...r,styles:s};g_(n,i);const o=mw(t,i);if(o)return(l=i.csp)!=null&&l.nonce&&o.nonce!==((u=i.csp)==null?void 0:u.nonce)&&(o.nonce=(d=i.csp)==null?void 0:d.nonce),o.innerHTML!==e&&(o.innerHTML=e),o;const a=pw(e,i);return a.setAttribute(hw(i),t),a}function gw(e){var t;return(t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e)}function v_(e){return gw(e)instanceof ShadowRoot}function y_(e){return v_(e)?gw(e):null}let tf={};const w_=e=>{};function b_(e,t){}function x_(e,t){}function S_(){tf={}}function vw(e,t,r){!t&&!tf[r]&&(e(!1,r),tf[r]=!0)}function Gt(e,t){vw(b_,e,t)}function __(e,t){vw(x_,e,t)}Gt.preMessage=w_;Gt.resetWarned=S_;Gt.noteOnce=__;function E_(e){return e.replace(/-(.)/g,(t,r)=>r.toUpperCase())}function C_(e,t){Gt(e,`[@ant-design/icons] ${t}`)}function dg(e){return typeof e=="object"&&typeof e.name=="string"&&typeof e.theme=="string"&&(typeof e.icon=="object"||typeof e.icon=="function")}function fg(e={}){return Object.keys(e).reduce((t,r)=>{const n=e[r];switch(r){case"class":t.className=n,delete t.class;break;default:delete t[r],t[E_(r)]=n}return t},{})}function rf(e,t,r){return r?Pe.createElement(e.tag,{key:t,...fg(e.attrs),...r},(e.children||[]).map((n,s)=>rf(n,`${t}-${e.tag}-${s}`))):Pe.createElement(e.tag,{key:t,...fg(e.attrs)},(e.children||[]).map((n,s)=>rf(n,`${t}-${e.tag}-${s}`)))}function yw(e){return dp(e)[0]}function ww(e){return e?Array.isArray(e)?e:[e]:[]}const k_=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
  vertical-align: inherit;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,j_=e=>{const{csp:t,prefixCls:r,layer:n}=p.useContext(up);let s=k_;r&&(s=s.replace(/anticon/g,r)),n&&(s=`@layer ${n} {
${s}
}`),p.useEffect(()=>{const i=e.current,o=y_(i);Yn(s,"@ant-design-icons",{prepend:!n,csp:t,attachTo:o})},[])},bo={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function N_({primaryColor:e,secondaryColor:t}){bo.primaryColor=e,bo.secondaryColor=t||yw(e),bo.calculated=!!t}function T_(){return{...bo}}const Ui=e=>{const{icon:t,className:r,onClick:n,style:s,primaryColor:i,secondaryColor:o,...a}=e,l=p.useRef(null);let u=bo;if(i&&(u={primaryColor:i,secondaryColor:o||yw(i)}),j_(l),C_(dg(t),`icon should be icon definiton, but got ${t}`),!dg(t))return null;let d=t;return d&&typeof d.icon=="function"&&(d={...d,icon:d.icon(u.primaryColor,u.secondaryColor)}),rf(d.icon,`svg-${d.name}`,{className:r,onClick:n,style:s,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",...a,ref:l})};Ui.displayName="IconReact";Ui.getTwoToneColors=T_;Ui.setTwoToneColors=N_;function bw(e){const[t,r]=ww(e);return Ui.setTwoToneColors({primaryColor:t,secondaryColor:r})}function $_(){const e=Ui.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nf.apply(this,arguments)}bw(Gl.primary);const nt=p.forwardRef((e,t)=>{const{className:r,icon:n,spin:s,rotate:i,tabIndex:o,onClick:a,twoToneColor:l,...u}=e,{prefixCls:d="anticon",rootClassName:h}=p.useContext(up),f=ze(h,d,{[`${d}-${n.name}`]:!!n.name,[`${d}-spin`]:!!s||n.name==="loading"},r);let g=o;g===void 0&&a&&(g=-1);const y=i?{msTransform:`rotate(${i}deg)`,transform:`rotate(${i}deg)`}:void 0,[b,x]=ww(l);return p.createElement("span",nf({role:"img","aria-label":n.name},u,{ref:t,tabIndex:g,onClick:a,className:f}),p.createElement(Ui,{icon:n,primaryColor:b,secondaryColor:x,style:y}))});nt.getTwoToneColor=$_;nt.setTwoToneColor=bw;var P_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 128c-212.1 0-384 171.9-384 384v360c0 13.3 10.7 24 24 24h184c35.3 0 64-28.7 64-64V624c0-35.3-28.7-64-64-64H200v-48c0-172.3 139.7-312 312-312s312 139.7 312 312v48H688c-35.3 0-64 28.7-64 64v208c0 35.3 28.7 64 64 64h184c13.3 0 24-10.7 24-24V512c0-212.1-171.9-384-384-384zM328 632v192H200V632h128zm496 192H696V632h128v192z"}}]},name:"customer-service",theme:"outlined"};function sf(){return sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sf.apply(this,arguments)}const R_=(e,t)=>p.createElement(nt,sf({},e,{ref:t,icon:P_})),O_=p.forwardRef(R_);var A_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},of.apply(this,arguments)}const I_=(e,t)=>p.createElement(nt,of({},e,{ref:t,icon:A_})),M_=p.forwardRef(I_);var F_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},af.apply(this,arguments)}const L_=(e,t)=>p.createElement(nt,af({},e,{ref:t,icon:F_})),D_=p.forwardRef(L_);var V_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lf.apply(this,arguments)}const z_=(e,t)=>p.createElement(nt,lf({},e,{ref:t,icon:V_})),U_=p.forwardRef(z_);var B_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cf.apply(this,arguments)}const W_=(e,t)=>p.createElement(nt,cf({},e,{ref:t,icon:B_})),Aa=p.forwardRef(W_);var H_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};function uf(){return uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uf.apply(this,arguments)}const q_=(e,t)=>p.createElement(nt,uf({},e,{ref:t,icon:H_})),Ia=p.forwardRef(q_);var G_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"};function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},df.apply(this,arguments)}const K_=(e,t)=>p.createElement(nt,df({},e,{ref:t,icon:G_})),X_=p.forwardRef(K_);var Q_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M834.1 469.2A347.49 347.49 0 00751.2 354l-29.1-26.7a8.09 8.09 0 00-13 3.3l-13 37.3c-8.1 23.4-23 47.3-44.1 70.8-1.4 1.5-3 1.9-4.1 2-1.1.1-2.8-.1-4.3-1.5-1.4-1.2-2.1-3-2-4.8 3.7-60.2-14.3-128.1-53.7-202C555.3 171 510 123.1 453.4 89.7l-41.3-24.3c-5.4-3.2-12.3 1-12 7.3l2.2 48c1.5 32.8-2.3 61.8-11.3 85.9-11 29.5-26.8 56.9-47 81.5a295.64 295.64 0 01-47.5 46.1 352.6 352.6 0 00-100.3 121.5A347.75 347.75 0 00160 610c0 47.2 9.3 92.9 27.7 136a349.4 349.4 0 0075.5 110.9c32.4 32 70 57.2 111.9 74.7C418.5 949.8 464.5 959 512 959s93.5-9.2 136.9-27.3A348.6 348.6 0 00760.8 857c32.4-32 57.8-69.4 75.5-110.9a344.2 344.2 0 0027.7-136c0-48.8-10-96.2-29.9-140.9z"}}]},name:"fire",theme:"filled"};function ff(){return ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ff.apply(this,arguments)}const J_=(e,t)=>p.createElement(nt,ff({},e,{ref:t,icon:Q_})),Y_=p.forwardRef(J_);var Z_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 310H732.4c13.6-21.4 21.6-46.8 21.6-74 0-76.1-61.9-138-138-138-41.4 0-78.7 18.4-104 47.4-25.3-29-62.6-47.4-104-47.4-76.1 0-138 61.9-138 138 0 27.2 7.9 52.6 21.6 74H144c-17.7 0-32 14.3-32 32v200c0 4.4 3.6 8 8 8h40v344c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V550h40c4.4 0 8-3.6 8-8V342c0-17.7-14.3-32-32-32zm-334-74c0-38.6 31.4-70 70-70s70 31.4 70 70-31.4 70-70 70h-70v-70zm-138-70c38.6 0 70 31.4 70 70v70h-70c-38.6 0-70-31.4-70-70s31.4-70 70-70zM180 482V378h298v104H180zm48 68h250v308H228V550zm568 308H546V550h250v308zm48-376H546V378h298v104z"}}]},name:"gift",theme:"outlined"};function hf(){return hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hf.apply(this,arguments)}const e2=(e,t)=>p.createElement(nt,hf({},e,{ref:t,icon:Z_})),t2=p.forwardRef(e2);var r2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M536.1 273H488c-4.4 0-8 3.6-8 8v275.3c0 2.6 1.2 5 3.3 6.5l165.3 120.7c3.6 2.6 8.6 1.9 11.2-1.7l28.6-39c2.7-3.7 1.9-8.7-1.7-11.2L544.1 528.5V281c0-4.4-3.6-8-8-8zm219.8 75.2l156.8 38.3c5 1.2 9.9-2.6 9.9-7.7l.8-161.5c0-6.7-7.7-10.5-12.9-6.3L752.9 334.1a8 8 0 003 14.1zm167.7 301.1l-56.7-19.5a8 8 0 00-10.1 4.8c-1.9 5.1-3.9 10.1-6 15.1-17.8 42.1-43.3 80-75.9 112.5a353 353 0 01-112.5 75.9 352.18 352.18 0 01-137.7 27.8c-47.8 0-94.1-9.3-137.7-27.8a353 353 0 01-112.5-75.9c-32.5-32.5-58-70.4-75.9-112.5A353.44 353.44 0 01171 512c0-47.8 9.3-94.2 27.8-137.8 17.8-42.1 43.3-80 75.9-112.5a353 353 0 01112.5-75.9C430.6 167.3 477 158 524.8 158s94.1 9.3 137.7 27.8A353 353 0 01775 261.7c10.2 10.3 19.8 21 28.6 32.3l59.8-46.8C784.7 146.6 662.2 81.9 524.6 82 285 82.1 92.6 276.7 95 516.4 97.4 751.9 288.9 942 524.8 942c185.5 0 343.5-117.6 403.7-282.3 1.5-4.2-.7-8.9-4.9-10.4z"}}]},name:"history",theme:"outlined"};function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pf.apply(this,arguments)}const n2=(e,t)=>p.createElement(nt,pf({},e,{ref:t,icon:r2})),s2=p.forwardRef(n2);var i2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};function mf(){return mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mf.apply(this,arguments)}const o2=(e,t)=>p.createElement(nt,mf({},e,{ref:t,icon:i2})),hp=p.forwardRef(o2);var a2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gf.apply(this,arguments)}const l2=(e,t)=>p.createElement(nt,gf({},e,{ref:t,icon:a2})),xw=p.forwardRef(l2);var c2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"};function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vf.apply(this,arguments)}const u2=(e,t)=>p.createElement(nt,vf({},e,{ref:t,icon:c2})),d2=p.forwardRef(u2);var f2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};function yf(){return yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yf.apply(this,arguments)}const h2=(e,t)=>p.createElement(nt,yf({},e,{ref:t,icon:f2})),p2=p.forwardRef(h2);var m2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"};function wf(){return wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wf.apply(this,arguments)}const g2=(e,t)=>p.createElement(nt,wf({},e,{ref:t,icon:m2})),v2=p.forwardRef(g2);var y2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 160h-92v-40c0-4.4-3.6-8-8-8H256c-4.4 0-8 3.6-8 8v40h-92a44 44 0 00-44 44v148c0 81.7 60 149.6 138.2 162C265.7 630.2 359 721.7 476 734.5v105.2H280c-17.7 0-32 14.3-32 32V904c0 4.4 3.6 8 8 8h512c4.4 0 8-3.6 8-8v-32.3c0-17.7-14.3-32-32-32H548V734.5C665 721.7 758.3 630.2 773.8 514 852 501.6 912 433.7 912 352V204a44 44 0 00-44-44zM184 352V232h64v207.6a91.99 91.99 0 01-64-87.6zm520 128c0 49.1-19.1 95.4-53.9 130.1-34.8 34.8-81 53.9-130.1 53.9h-16c-49.1 0-95.4-19.1-130.1-53.9-34.8-34.8-53.9-81-53.9-130.1V184h384v296zm136-128c0 41-26.9 75.8-64 87.6V232h64v120z"}}]},name:"trophy",theme:"outlined"};function bf(){return bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bf.apply(this,arguments)}const w2=(e,t)=>p.createElement(nt,bf({},e,{ref:t,icon:y2})),b2=p.forwardRef(w2);var x2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zm-40 376H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"unlock",theme:"outlined"};function xf(){return xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xf.apply(this,arguments)}const S2=(e,t)=>p.createElement(nt,xf({},e,{ref:t,icon:x2})),_2=p.forwardRef(S2);var E2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"};function Sf(){return Sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sf.apply(this,arguments)}const C2=(e,t)=>p.createElement(nt,Sf({},e,{ref:t,icon:E2})),k2=p.forwardRef(C2);var j2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};function _f(){return _f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_f.apply(this,arguments)}const N2=(e,t)=>p.createElement(nt,_f({},e,{ref:t,icon:j2})),T2=p.forwardRef(N2);var Sw={exports:{}},Oe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp=Symbol.for("react.element"),mp=Symbol.for("react.portal"),Ec=Symbol.for("react.fragment"),Cc=Symbol.for("react.strict_mode"),kc=Symbol.for("react.profiler"),jc=Symbol.for("react.provider"),Nc=Symbol.for("react.context"),$2=Symbol.for("react.server_context"),Tc=Symbol.for("react.forward_ref"),$c=Symbol.for("react.suspense"),Pc=Symbol.for("react.suspense_list"),Rc=Symbol.for("react.memo"),Oc=Symbol.for("react.lazy"),P2=Symbol.for("react.offscreen"),_w;_w=Symbol.for("react.module.reference");function kr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case pp:switch(e=e.type,e){case Ec:case kc:case Cc:case $c:case Pc:return e;default:switch(e=e&&e.$$typeof,e){case $2:case Nc:case Tc:case Oc:case Rc:case jc:return e;default:return t}}case mp:return t}}}Oe.ContextConsumer=Nc;Oe.ContextProvider=jc;Oe.Element=pp;Oe.ForwardRef=Tc;Oe.Fragment=Ec;Oe.Lazy=Oc;Oe.Memo=Rc;Oe.Portal=mp;Oe.Profiler=kc;Oe.StrictMode=Cc;Oe.Suspense=$c;Oe.SuspenseList=Pc;Oe.isAsyncMode=function(){return!1};Oe.isConcurrentMode=function(){return!1};Oe.isContextConsumer=function(e){return kr(e)===Nc};Oe.isContextProvider=function(e){return kr(e)===jc};Oe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pp};Oe.isForwardRef=function(e){return kr(e)===Tc};Oe.isFragment=function(e){return kr(e)===Ec};Oe.isLazy=function(e){return kr(e)===Oc};Oe.isMemo=function(e){return kr(e)===Rc};Oe.isPortal=function(e){return kr(e)===mp};Oe.isProfiler=function(e){return kr(e)===kc};Oe.isStrictMode=function(e){return kr(e)===Cc};Oe.isSuspense=function(e){return kr(e)===$c};Oe.isSuspenseList=function(e){return kr(e)===Pc};Oe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ec||e===kc||e===Cc||e===$c||e===Pc||e===P2||typeof e=="object"&&e!==null&&(e.$$typeof===Oc||e.$$typeof===Rc||e.$$typeof===jc||e.$$typeof===Nc||e.$$typeof===Tc||e.$$typeof===_w||e.getModuleId!==void 0)};Oe.typeOf=kr;Sw.exports=Oe;var Eu=Sw.exports;function gp(e,t,r){const n=p.useRef({});return(!("value"in n.current)||r(n.current.condition,t))&&(n.current.value=e(),n.current.condition=t),n.current.value}const R2=Symbol.for("react.element"),O2=Symbol.for("react.transitional.element"),A2=Symbol.for("react.fragment");function Ew(e){return e&&typeof e=="object"&&(e.$$typeof===R2||e.$$typeof===O2)&&e.type===A2}const I2=Number(p.version.split(".")[0]),M2=(e,t)=>{typeof e=="function"?e(t):typeof e=="object"&&e&&"current"in e&&(e.current=t)},Cw=(...e)=>{const t=e.filter(Boolean);return t.length<=1?t[0]:r=>{e.forEach(n=>{M2(n,r)})}},kw=(...e)=>gp(()=>Cw(...e),e,(t,r)=>t.length!==r.length||t.every((n,s)=>n!==r[s])),vp=e=>{var r,n;if(!e)return!1;if(jw(e)&&I2>=19)return!0;const t=Eu.isMemo(e)?e.type.type:e.type;return!(typeof t=="function"&&!((r=t.prototype)!=null&&r.render)&&t.$$typeof!==Eu.ForwardRef||typeof e=="function"&&!((n=e.prototype)!=null&&n.render)&&e.$$typeof!==Eu.ForwardRef)};function jw(e){return p.isValidElement(e)&&!Ew(e)}const yp=e=>{if(e&&jw(e)){const t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null},F2=280,vt=({isOpen:e,onClose:t,title:r,children:n,onBack:s,contentClassName:i})=>{const[o,a]=p.useState(!1),[l,u]=p.useState(!1);p.useEffect(()=>{if(e){u(!0),a(!1);const g=setTimeout(()=>{a(!0)},20);return()=>clearTimeout(g)}else if(l){a(!1);const g=setTimeout(()=>{u(!1)},F2);return()=>clearTimeout(g)}},[e,l]);const d=e&&o?"modal-overlay-enter":e&&!o?"modal-overlay-initial":"modal-overlay-exit",h=e&&o?"modal-content-enter":e&&!o?"modal-content-initial":"modal-content-exit",f=c.jsx("div",{className:`modal-overlay ${d}`,onClick:t,children:c.jsxs("div",{className:`modal-content ${h}${i?` ${i}`:""}`,onClick:g=>g.stopPropagation(),children:[r&&c.jsxs("div",{className:"modal-header-fixed",children:[s&&c.jsx("span",{className:"modal-back-link",onClick:s,children:c.jsx(hp,{})}),c.jsxs("div",{className:"modal-title-wrapper",children:[c.jsx("img",{src:"/carzyfarm/.png",alt:"",className:"modal-title-image"}),c.jsx("h3",{className:"modal-title",children:r})]})]}),c.jsx("button",{className:"modal-close",onClick:t,children:""}),c.jsx("div",{className:"modal-body",children:c.jsx("div",{className:"modal-body-content",children:n})})]})});return l?Sc.createPortal(f,document.body):null};function Ac(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function L2(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}const D2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class wp extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class V2 extends wp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class hg extends wp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ef extends wp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Cf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Cf||(Cf={}));class z2{constructor(t,{headers:r={},customFetch:n,region:s=Cf.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=D2(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return L2(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:d,timeout:h}=n;let f={},{region:g}=n;g||(g=this.region);const y=new URL(`${this.url}/${r}`);g&&g!=="any"&&(f["x-region"]=g,y.searchParams.set("forceFunctionRegion",g));let b;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",b=u):typeof u=="string"?(f["Content-Type"]="text/plain",b=u):typeof FormData<"u"&&u instanceof FormData?b=u:(f["Content-Type"]="application/json",b=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?b=JSON.stringify(u):b=u;let x=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(x=o.signal,d.addEventListener("abort",()=>o.abort())):x=o.signal);const v=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:b,signal:x}).catch(_=>{throw new V2(_)}),m=v.headers.get("x-relay-error");if(m&&m==="true")throw new hg(v);if(!v.ok)throw new Ef(v);let w=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield v.json():w==="application/octet-stream"||w==="application/pdf"?S=yield v.blob():w==="text/event-stream"?S=v:w==="multipart/form-data"?S=yield v.formData():S=yield v.text(),{data:S,error:null,response:v}}catch(a){return{data:null,error:a,response:a instanceof Ef||a instanceof hg?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var U2=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},B2=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,u=i.status,d=i.statusText;if(i.ok){var h,f;if(r.method!=="HEAD"){var g;const v=await i.text();v===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((g=r.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?a=v:a=JSON.parse(v))}const b=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");b&&x&&x.length>1&&(l=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,d="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var y;const b=await i.text();try{o=JSON.parse(b),Array.isArray(o)&&i.status===404&&(a=[],o=null,u=200,d="OK")}catch{i.status===404&&b===""?(u=204,d="No Content"):o={message:b}}if(o&&r.isMaybeSingle&&(!(o==null||(y=o.details)===null||y===void 0)&&y.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new U2(o)}return{error:o,data:a,count:l,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="";const l=i==null?void 0:i.cause;if(l){var u,d,h,f;const y=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",b=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";a=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"Error"}: ${y}`,b&&(a+=` (${b})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var g;a=(g=i==null?void 0:i.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},W2=class extends B2{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const pg=new RegExp("[,()]");var ei=class extends W2{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&pg.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&pg.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},H2=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),n&&l.append("Prefer",`count=${n}`),new ei({method:s,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new ei({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),n&&l.append("Prefer",`count=${n}`),s||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);a.searchParams.set("columns",d.join(","))}}return new ei({method:o,url:a,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new ei({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new ei({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},q2=class Nw{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new H2(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Nw(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let u;const d=g=>g!==null&&typeof g=="object"&&(!Array.isArray(g)||g.some(d)),h=n&&Object.values(r).some(d);h?(a="POST",u=r):n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{l.searchParams.append(g,y)})):(a="POST",u=r);const f=new Headers(this.headers);return h?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new ei({method:a,url:l,headers:f,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class G2{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const K2="2.90.1",X2=`realtime-js/${K2}`,Tw="1.0.0",Q2="2.0.0",mg=Tw,kf=1e4,J2=1e3,Y2=100;var In;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(In||(In={}));var ct;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ct||(ct={}));var zr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(zr||(zr={}));var jf;(function(e){e.websocket="websocket"})(jf||(jf={}));var fs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(fs||(fs={}));class Z2{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,i;const o=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+h.length,g=new ArrayBuffer(this.HEADER_LENGTH+f);let y=new DataView(g),b=0;y.setUint8(b++,this.KINDS.userBroadcastPush),y.setUint8(b++,l.length),y.setUint8(b++,a.length),y.setUint8(b++,o.length),y.setUint8(b++,u.length),y.setUint8(b++,h.length),y.setUint8(b++,r),Array.from(l,v=>y.setUint8(b++,v.charCodeAt(0))),Array.from(a,v=>y.setUint8(b++,v.charCodeAt(0))),Array.from(o,v=>y.setUint8(b++,v.charCodeAt(0))),Array.from(u,v=>y.setUint8(b++,v.charCodeAt(0))),Array.from(h,v=>y.setUint8(b++,v.charCodeAt(0)));var x=new Uint8Array(g.byteLength+n.byteLength);return x.set(new Uint8Array(g),0),x.set(new Uint8Array(n),g.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+s));l=l+s;const d=n.decode(t.slice(l,l+i));l=l+i;const h=n.decode(t.slice(l,l+o));l=l+o;const f=t.slice(l,t.byteLength),g=a===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,y={type:this.BROADCAST_EVENT,event:d,payload:g};return o>0&&(y.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class $w{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Fe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Fe||(Fe={}));const gg=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=eE(o,e,t,s),i),{}):{}},eE=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Pw(i,o):Nf(o)},Pw=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return sE(t,r)}switch(e){case Fe.bool:return tE(t);case Fe.float4:case Fe.float8:case Fe.int2:case Fe.int4:case Fe.int8:case Fe.numeric:case Fe.oid:return rE(t);case Fe.json:case Fe.jsonb:return nE(t);case Fe.timestamp:return iE(t);case Fe.abstime:case Fe.date:case Fe.daterange:case Fe.int4range:case Fe.int8range:case Fe.money:case Fe.reltime:case Fe.text:case Fe.time:case Fe.timestamptz:case Fe.timetz:case Fe.tsrange:case Fe.tstzrange:return Nf(t);default:return Nf(t)}},Nf=e=>e,tE=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},rE=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},nE=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},sE=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Pw(t,a))}return e},iE=e=>typeof e=="string"?e.replace(" ","T"):e,Rw=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Cu{constructor(t,r,n={},s=kf){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var vg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(vg||(vg={}));class xo{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xo.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=xo.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=xo.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(x=>x.presence_ref),g=h.map(x=>x.presence_ref),y=d.filter(x=>g.indexOf(x.presence_ref)<0),b=h.filter(x=>f.indexOf(x.presence_ref)<0);y.length>0&&(a[u]=y),b.length>0&&(l[u]=b)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(g=>g.presence_ref),f=d.filter(g=>h.indexOf(g.presence_ref)<0);t[a].unshift(...f)}n(a,d,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(yg||(yg={}));var So;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(So||(So={}));var fn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(fn||(fn={}));class mi{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Cu(this,zr.join,this.params,this.timeout),this.rejoinTimer=new $w(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ct.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zr.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new xo(this),this.broadcastEndpointURL=Rw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ct.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[So.PRESENCE]&&this.bindings[So.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(fn.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(fn.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){t==null||t(fn.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,x=(y=b==null?void 0:b.length)!==null&&y!==void 0?y:0,v=[];for(let m=0;m<x;m++){const w=b[m],{filter:{event:S,schema:_,table:E,filter:C}}=w,k=g&&g[m];if(k&&k.event===S&&mi.isFilterValueEqual(k.schema,_)&&mi.isFilterValueEqual(k.table,E)&&mi.isFilterValueEqual(k.filter,C))v.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=ct.errored,t==null||t(fn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(fn.SUBSCRIBED);return}}).receive("error",g=>{this.state=ct.errored,t==null||t(fn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(fn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ct.joined&&t===So.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ct.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Cu(this,zr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ct.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Cu(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Y2){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=zr;if(n&&[a,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var y,b,x;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(b=g.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(g=>g.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var y,b,x,v,m,w,S,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const E=g.id,C=(y=g.filter)===null||y===void 0?void 0:y.event;return E&&((b=r.ids)===null||b===void 0?void 0:b.includes(E))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))&&(!(!((v=g.filter)===null||v===void 0)&&v.table)||g.filter.table===((m=r.data)===null||m===void 0?void 0:m.table))}else{const E=(S=(w=g==null?void 0:g.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return E==="*"||E===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:b,table:x,commit_timestamp:v,type:m,errors:w}=y;f=Object.assign(Object.assign({},{schema:b,table:x,commit_timestamp:v,eventType:m,new:{},old:{},errors:w}),this._getPayloadRecords(y))}g.callback(f,n)})}_isClosed(){return this.state===ct.closed}_isJoined(){return this.state===ct.joined}_isJoining(){return this.state===ct.joining}_isLeaving(){return this.state===ct.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&mi.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(zr.close,{},t)}_onError(t){this._on(zr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ct.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=gg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=gg(t.columns,t.old_record)),r}}const ku=()=>{},Ma={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oE=[1e3,2e3,5e3,1e4],aE=1e4,lE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cE{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=kf,this.transport=null,this.heartbeatIntervalMs=Ma.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ku,this.ref=0,this.reconnectTimer=null,this.vsn=mg,this.logger=ku,this.conn=null,this.sendBuffer=[],this.serializer=new Z2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${jf.websocket}`,this.httpEndpoint=Rw(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=G2.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case In.connecting:return fs.Connecting;case In.open:return fs.Open;case In.closing:return fs.Closing;default:return fs.Closed}}isConnected(){return this.connectionState()===fs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new mi(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(J2,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ma.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===In.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===In.open||this.conn.readyState===In.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(zr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([lE],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:X2};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(zr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new $w(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ma.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,a,l,u,d,h,f,g;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:kf,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Ma.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:ku,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:mg,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>oE[y-1]||aE,this.vsn){case Tw:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(y,b)=>b(JSON.stringify(y)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(y,b)=>b(JSON.parse(y));break;case Q2:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Ho=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function uE(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function dE(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function fE(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const a=uE(e.baseUrl,n,s),l=await dE(e.auth),u=await t(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const g=h?f:void 0,y=g==null?void 0:g.error;throw new Ho((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:g})}return{status:u.status,headers:u.headers,data:f}}}}function Fa(e){return e.join("")}var hE=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Fa(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fa(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fa(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fa(e.namespace)}`}),!0}catch(t){if(t instanceof Ho&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Ho&&r.status===409)return;throw r}}};function Us(e){return e.join("")}var pE=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Us(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Us(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Us(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Us(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Us(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Us(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Ho&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Ho&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},mE=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=fE({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new hE(this.client,t),this.tableOps=new pE(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Ic=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function We(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var gE=class extends Ic{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Tf=class extends Ic{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const bp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),vE=()=>Response,$f=e=>{if(Array.isArray(e))return e.map(r=>$f(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=$f(n)}),t},yE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},wE=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function qo(e){"@babel/helpers - typeof";return qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qo(e)}function bE(e,t){if(qo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xE(e){var t=bE(e,"string");return qo(t)=="symbol"?t:t+""}function SE(e,t,r){return(t=xE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wg(Object(r),!0).forEach(function(n){SE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const ju=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},_E=async(e,t,r)=>{e instanceof await vE()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,i=(n==null?void 0:n.statusCode)||s+"";t(new gE(ju(n),s,i))}).catch(n=>{t(new Tf(ju(n),n))}):t(new Tf(ju(e),e))},EE=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(yE(n)?(s.headers=de({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),de(de({},s),r))};async function ua(e,t,r,n,s,i){return new Promise((o,a)=>{e(r,EE(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>_E(l,a,n))})}async function Go(e,t,r,n){return ua(e,"GET",t,r,n)}async function Lr(e,t,r,n,s){return ua(e,"POST",t,n,s,r)}async function Pf(e,t,r,n,s){return ua(e,"PUT",t,n,s,r)}async function CE(e,t,r,n){return ua(e,"HEAD",t,de(de({},r),{},{noResolveJson:!0}),n)}async function xp(e,t,r,n,s){return ua(e,"DELETE",t,n,s,r)}var kE=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(We(t))return{data:null,error:t};throw t}}};let Ow;Ow=Symbol.toStringTag;var jE=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Ow]="BlobDownloadBuilder",this.promise=null}asStream(){return new kE(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(We(t))return{data:null,error:t};throw t}}};const NE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var TE=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=bp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let i;const o=de(de({},bg),n);let a=de(de({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(a=de(de({},a),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),h=await(e=="PUT"?Pf:Lr)(s.fetch,`${s.url}/object/${d}`,i,de({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(We(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const u=de({upsert:bg.upsert},n),d=de(de({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await Pf(s.fetch,a.toString(),l,{headers:d})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(We(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=de({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await Lr(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),a=o.searchParams.get("token");if(!a)throw new Ic("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await Lr(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await Lr(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),i=await Lr(n.fetch,`${n.url}/object/sign/${s}`,de({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await Lr(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>de(de({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>Go(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new jE(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:$f(await Go(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await CE(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(We(n)&&n instanceof Tf){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${a}`)}}}async remove(e){var t=this;try{return{data:await xp(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=de(de(de({},NE),t),{},{prefix:e||""});return{data:await Lr(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=de({},e);return{data:await Lr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Aw="2.90.1",Iw={"X-Client-Info":`storage-js/${Aw}`};var $E=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=de(de({},Iw),t),this.fetch=bp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Go(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Go(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Lr(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await Pf(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await Lr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await xp(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},PE=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=de(de({},Iw),t),this.fetch=bp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Lr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Go(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await xp(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!wE(e))throw new Ic("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new mE({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const Sp={"X-Client-Info":`storage-js/${Aw}`,"Content-Type":"application/json"};var Mw=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function nr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Nu=class extends Mw{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},RE=class extends Mw{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const _p=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),OE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},xg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),AE=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new Nu(xg(i),n,o))}).catch(()=>{const i=n+"";t(new Nu(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new Nu(s.statusText||`HTTP ${n} error`,n,i))}}else t(new RE(xg(e),e))},IE=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(OE(n)?(s.headers=de({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,de(de({},s),r)):s};async function ME(e,t,r,n,s,i){return new Promise((o,a)=>{e(r,IE(t,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>AE(l,a,n))})}async function sr(e,t,r,n,s){return ME(e,"POST",t,n,s,r)}var FE=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=de(de({},Sp),t),this.fetch=_p(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await sr(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await sr(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await sr(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await sr(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}}},LE=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=de(de({},Sp),t),this.fetch=_p(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await sr(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await sr(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await sr(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await sr(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await sr(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}},DE=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=de(de({},Sp),t),this.fetch=_p(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await sr(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await sr(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await sr(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await sr(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}},VE=class extends DE{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new zE(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},zE=class extends FE{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,de(de({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,de(de({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new UE(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},UE=class extends LE{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,de(de({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,de(de({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,de(de({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,de(de({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,de(de({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},BE=class extends $E{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new TE(this.url,this.headers,e,this.fetch)}get vectors(){return new VE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new PE(this.url+"/iceberg",this.headers,this.fetch)}};const Fw="2.90.1",ti=30*1e3,Rf=3,Tu=Rf*ti,WE="http://localhost:9999",HE="supabase.auth.token",qE={"X-Client-Info":`gotrue-js/${Fw}`},Of="X-Supabase-Api-Version",Lw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},GE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,KE=10*60*1e3;class Ko extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ie(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class XE extends Ko{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function QE(e){return ie(e)&&e.name==="AuthApiError"}class hs extends Ko{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class kn extends Ko{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class er extends kn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function JE(e){return ie(e)&&e.name==="AuthSessionMissingError"}class Bs extends kn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class La extends kn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Da extends kn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function YE(e){return ie(e)&&e.name==="AuthImplicitGrantRedirectError"}class Sg extends kn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ZE extends kn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Af extends kn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function $u(e){return ie(e)&&e.name==="AuthRetryableFetchError"}class _g extends kn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class If extends kn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Kl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Eg=` 	
\r=`.split(""),eC=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Eg.length;t+=1)e[Eg[t].charCodeAt(0)]=-2;for(let t=0;t<Kl.length;t+=1)e[Kl[t].charCodeAt(0)]=t;return e})();function Cg(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Kl[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Kl[n]),t.queuedBits-=6}}function Dw(e,t,r){const n=eC[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function kg(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{nC(o,n,r)};for(let o=0;o<e.length;o+=1)Dw(e.charCodeAt(o),s,i);return t.join("")}function tC(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function rC(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}tC(n,t)}}function nC(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ki(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Dw(e.charCodeAt(s),r,n);return new Uint8Array(t)}function sC(e){const t=[];return rC(e,r=>t.push(r)),new Uint8Array(t)}function ys(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Cg(s,r,n)),Cg(null,r,n),t.join("")}function iC(e){return Math.round(Date.now()/1e3)+e}function oC(){return Symbol("auth-callback")}const _t=()=>typeof window<"u"&&typeof document<"u",is={tested:!1,writable:!1},Vw=()=>{if(!_t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(is.tested)return is.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),is.tested=!0,is.writable=!0}catch{is.tested=!0,is.writable=!1}return is.writable};function aC(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const zw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),lC=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ri=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},os=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},St=async(e,t)=>{await e.removeItem(t)};class Mc{constructor(){this.promise=new Mc.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Mc.promiseConstructor=Promise;function Pu(e){const t=e.split(".");if(t.length!==3)throw new If("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!GE.test(t[n]))throw new If("JWT not in base64url format");return{header:JSON.parse(kg(t[0])),payload:JSON.parse(kg(t[1])),signature:ki(t[2]),raw:{header:t[0],payload:t[1]}}}async function cC(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function uC(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function dC(e){return("0"+e.toString(16)).substr(-2)}function fC(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,dC).join("")}async function hC(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function pC(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await hC(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ws(e,t,r=!1){const n=fC();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ri(e,`${t}-code-verifier`,s);const i=await pC(n);return[i,n===i?"plain":"s256"]}const mC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gC(e){const t=e.headers.get(Of);if(!t||!t.match(mC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function vC(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function yC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const wC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hs(e){if(!wC.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ru(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bC(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function jg(e){return JSON.parse(JSON.stringify(e))}const ds=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xC=[502,503,504];async function Ng(e){var t;if(!lC(e))throw new Af(ds(e),0);if(xC.includes(e.status))throw new Af(ds(e),e.status);let r;try{r=await e.json()}catch(i){throw new hs(ds(i),i)}let n;const s=gC(e);if(s&&s.getTime()>=Lw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new _g(ds(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new er}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new _g(ds(r),e.status,r.weak_password.reasons);throw new XE(ds(r),e.status||500,n)}const SC=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ue(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Of]||(i[Of]=Lw["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await _C(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function _C(e,t,r,n,s,i){const o=SC(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Af(ds(l),0)}if(a.ok||await Ng(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Ng(l)}}function Ir(e){var t;let r=null;kC(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=iC(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Tg(e){const t=Ir(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ln(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function EC(e){return{data:e,error:null}}function CC(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Ac(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function $g(e){return e}function kC(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ou=["global","local","others"];class jC{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=zw(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Ou[0]){if(Ou.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ou.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ln})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ac(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:CC,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ie(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ln})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:$g});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const b=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=b}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ie(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Hs(t);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ln})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Hs(t);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ln})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Hs(t);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ln})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Hs(t.userId);try{const{data:r,error:n}=await ue(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Hs(t.userId),Hs(t.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:$g});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const b=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=b}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ie(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ue(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}}function Pg(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const qs={debug:!!(globalThis&&Vw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Uw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class NC extends Uw{}async function TC(e,t,r){qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),qs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new NC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(qs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function $C(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Bw(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function PC(e){return parseInt(e,16)}function RC(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function OC(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=Bw(e.address),y=d?`${d}://${n}`:n,b=e.statement?`${e.statement}
`:"",x=`${y} wants you to sign in with your Ethereum account:
${g}

${b}`;let v=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),a&&(v+=`
Not Before: ${a.toISOString()}`),l&&(v+=`
Request ID: ${l}`),u){let m=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);m+=`
- ${w}`}v+=m}return`${x}
${v}`}class st extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Xl extends st{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function AC({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new st({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Ww(o)){if(i.rp.id!==o)return new st({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function IC({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new st({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Ww(n)){if(r.rpId!==n)return new st({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class MC{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const FC=new MC;function LC(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Ac(e,["challenge","user","excludeCredentials"]),i=ki(t).buffer,o=Object.assign(Object.assign({},r),{id:ki(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:ki(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function DC(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ac(e,["challenge","allowCredentials"]),s=ki(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:ki(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function VC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:ys(new Uint8Array(e.response.attestationObject)),clientDataJSON:ys(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function zC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ys(new Uint8Array(s.authenticatorData)),clientDataJSON:ys(new Uint8Array(s.clientDataJSON)),signature:ys(new Uint8Array(s.signature)),userHandle:s.userHandle?ys(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Ww(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Rg(){var e,t;return!!(_t()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function UC(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Xl("Browser returned unexpected credential type",t)}:{data:null,error:new Xl("Empty credential response",t)}}catch(t){return{data:null,error:AC({error:t,options:e})}}}async function BC(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Xl("Browser returned unexpected credential type",t)}:{data:null,error:new Xl("Empty credential response",t)}}catch(t){return{data:null,error:IC({error:t,options:e})}}}const WC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},HC={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ql(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const a=n[i];t(a)?n[i]=Ql(a,o):n[i]=Ql(o)}else n[i]=o}return n}function qC(e,t){return Ql(WC,e,t||{})}function GC(e,t){return Ql(HC,e,t||{})}class KC{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:a};const l=s??FC.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=qC(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await UC({publicKey:u,signal:l});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=GC(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await BC(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return ie(o)?{data:null,error:o}:{data:null,error:new hs("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ko("rpId is required for WebAuthn authentication")};try{if(!Rg())return{data:null,error:new hs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return ie(o)?{data:null,error:o}:{data:null,error:new hs("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ko("rpId is required for WebAuthn registration")};try{if(!Rg())return{data:null,error:new hs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return ie(o)?{data:null,error:o}:{data:null,error:new hs("Unexpected error in register",o)}}}}$C();const XC={url:WE,storageKey:HE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Og(e,t,r){return await r()}const Gs={};class Xo{get jwks(){var t,r;return(r=(t=Gs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Gs[this.storageKey]=Object.assign(Object.assign({},Gs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Gs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Gs[this.storageKey]=Object.assign(Object.assign({},Gs[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},XC),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Xo.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Xo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&_t()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new jC({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=zw(i.fetch),this.lock=i.lock||Og,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&_t()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=TC:this.lock=Og,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new KC(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Vw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Pg(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Pg(this.memoryStorage)),_t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Fw}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(_t()&&(r=aC(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),_t()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),YE(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ie(r)?this._returnResult({error:r}):this._returnResult({error:new hs("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ir}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Ws(this.storage,this.storageKey)),i=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:y},xform:Ir})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ir})}else throw new La("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await St(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await St(this.storage,`${this.storageKey}-code-verifier`),ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Tg})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Tg})}else throw new La("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Bs;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,a,l,u,d,h,f;let g,y;if("message"in t)g=t.message,y=t.signature;else{const{chain:b,wallet:x,statement:v,options:m}=t;let w;if(_t())if(typeof x=="object")w=x;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")w=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const S=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),_=await w.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=Bw(_[0]);let C=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const T=await w.request({method:"eth_chainId"});C=PC(T)}const k={domain:S.host,address:E,statement:v,uri:S.href,version:"1",chainId:C,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=OC(k),y=await w.request({method:"personal_sign",params:[RC(g),E]})}try{const{data:b,error:x}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:y},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ir});if(x)throw x;if(!b||!b.session||!b.user){const v=new Bs;return this._returnResult({data:{user:null,session:null},error:v})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:x})}catch(b){if(ie(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(t){var r,n,s,i,o,a,l,u,d,h,f,g;let y,b;if("message"in t)y=t.message,b=t.signature;else{const{chain:x,wallet:v,statement:m,options:w}=t;let S;if(_t())if(typeof v=="object")S=v;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))S=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const _=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const E=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),m?{statement:m}:null));let C;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")C=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)C=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)y=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),b=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${_.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const E=await S.signMessage(new TextEncoder().encode(y),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=E}}try{const{data:x,error:v}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:ys(b)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Ir});if(v)throw v;if(!x||!x.session||!x.user){const m=new Bs;return this._returnResult({data:{user:null,session:null},error:m})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:v})}catch(x){if(ie(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await os(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new ZE;const{data:i,error:o}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ir});if(await St(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Bs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await St(this.storage,`${this.storageKey}-code-verifier`),ie(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ir}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new Bs;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ws(this.storage,this.storageKey));const{error:h}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:d}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new La("You must provide either an email or phone number.")}catch(a){if(await St(this.storage,`${this.storageKey}-code-verifier`),ie(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ir});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Ws(this.storage,this.storageKey));const u=await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:EC});return!((i=u.data)===null||i===void 0)&&i.url&&_t()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await St(this.storage,`${this.storageKey}-code-verifier`),ie(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new er;const{error:s}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(ie(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new La("You must provide either an email or phone number and a type")}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await os(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Tu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await os(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Ru()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=bC(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ln}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new er}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ln})})}catch(r){if(ie(r))return JE(r)&&(await this._removeSession(),await St(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new er;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Ws(this.storage,this.storageKey));const{data:u,error:d}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ln});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await St(this.storage,`${this.storageKey}-code-verifier`),ie(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new er;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Pu(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(ie(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new er;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!_t())throw new Da("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Da(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Sg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Da("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Sg("No code detected.");const{data:m,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new Da("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const g=f-d;g*1e3<=ti&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:b,error:x}=await this._getUser(i);if(x)throw x;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(n){if(ie(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await os(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(QE(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await St(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=oC(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ws(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await St(this.storage,`${this.storageKey}-code-verifier`),ie(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return _t()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ie(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:d}=t,h=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ir}),{data:f,error:g}=h;return g?this._returnResult({data:{user:null,session:null},error:g}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Bs}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:g}))}catch(s){if(await St(this.storage,`${this.storageKey}-code-verifier`),ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await uC(async s=>(s>0&&await cC(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ir})),(s,i)=>{const o=200*Math.pow(2,s);return i&&$u(i)&&Date.now()+o-n<ti})}catch(n){if(this._debug(r,"error",n),ie(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),_t()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await os(this.storage,this.storageKey);if(s&&this.userStorage){let o=await os(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ri(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Ru()}else if(s&&!s.user&&!s.user){const o=await os(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await St(this.storage,this.storageKey+"-user"),await ri(this.storage,this.storageKey,s)):s.user=Ru()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Tu;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Tu}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),$u(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new er;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Mc;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new er;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),ie(i)){const o={data:null,error:i};return $u(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await St(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ri(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=jg(s);await ri(this.storage,this.storageKey,i)}else{const s=jg(r);await ri(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await St(this.storage,this.storageKey),await St(this.storage,this.storageKey+"-code-verifier"),await St(this.storage,this.storageKey+"-user"),this.userStorage&&await St(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&_t()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ti);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ti);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ti}ms, refresh threshold is ${Rf} ticks`),s<=Rf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Uw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_t()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ws(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await ue(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?VC(t.webauthn.credential_response):zC(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:LC(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:DC(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Pu(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await ue(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new er})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new er});const o=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&_t()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new er});const o=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&_t()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await ue(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new er})})}catch(t){if(ie(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await ue(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new er})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+KE>s)return n;const{data:i,error:o}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:y}=await this.getSession();if(y||!g.session)return this._returnResult({data:null,error:y});n=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Pu(n);r!=null&&r.allowExpired||vC(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const d=yC(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,sC(`${a}.${l}`)))throw new If("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}}Xo.nextInstanceID={};const QC=Xo,JC="2.90.1";let ao="";typeof Deno<"u"?ao="deno":typeof document<"u"?ao="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ao="react-native":ao="node";const YC={"X-Client-Info":`supabase-js-${ao}/${JC}`},ZC={headers:YC},ek={schema:"public"},tk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rk={};function Qo(e){"@babel/helpers - typeof";return Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(e)}function nk(e,t){if(Qo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sk(e){var t=nk(e,"string");return Qo(t)=="symbol"?t:t+""}function ik(e,t,r){return(t=sk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ag(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ag(Object(r),!0).forEach(function(n){ik(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ag(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const ok=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ak=()=>Headers,lk=(e,t,r)=>{const n=ok(r),s=ak();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Qe(Qe({},o),{},{headers:u}))}};function ck(e){return e.endsWith("/")?e:e+"/"}function uk(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:d,global:h}=t,f={db:Qe(Qe({},l),s),auth:Qe(Qe({},u),i),realtime:Qe(Qe({},d),o),storage:{},global:Qe(Qe(Qe({},h),a),{},{headers:Qe(Qe({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function dk(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ck(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var fk=class extends QC{constructor(e){super(e)}},hk=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=dk(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:ek,realtime:rk,auth:Qe(Qe({},tk),{},{storageKey:o}),global:ZC},l=uk(r??{},a);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=lk(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Qe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new q2(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new BE(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new z2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fk({url:this.authUrl.href,headers:Qe(Qe({},f),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new cE(this.realtimeUrl.href,Qe(Qe({},e),{},{params:Qe(Qe({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const pk=(e,t,r)=>new hk(e,t,r);function mk(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}mk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const gk="https://nwacdthvbfukhxqyvuxh.supabase.co",vk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im53YWNkdGh2YmZ1a2h4cXl2dXhoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgzMzg4MDYsImV4cCI6MjA4MzkxNDgwNn0.qc68CNG1oomnjHz7KRBGgiWLprDkKhrdQc2jnSKycQs",ge=pk(gk,vk),Ig=async e=>{var s;const t=typeof window<"u"?window.location.hostname:"";if(!ge)throw new Error("Supabase client is not initialized. Please check your environment variables.");try{const{data:i}=await ge.auth.getUser();(s=i==null?void 0:i.user)!=null&&s.id&&(e.user_id=i.user.id)}catch{}if(!(t==="localhost"||t==="127.0.0.1"||t==="0.0.0.0"||t==="")){let i=100;if(e.actual_price!=null&&Number.isFinite(e.actual_price)&&e.actual_price>0&&(i=(1-Math.abs(e.calculated_price-e.actual_price)/e.actual_price)*100),i<98)return!0}const{error:n}=await ge.from("price_feedback").insert([e]);if(n)throw n;return!0},yk=async e=>{if(!ge)throw new Error("Supabase client is not initialized. Please check your environment variables.");const{data:t,error:r}=await ge.from("price_feedback").select("id").eq("id",e).single();if(r||!t)throw new Error("");const{error:n}=await ge.from("price_feedback").delete().eq("id",e);if(n)throw n;return!0},Mg={},wk="Asia/Shanghai",Ep=()=>new Date().toLocaleDateString("en-CA",{timeZone:wk}),Va=async e=>{const t=typeof window<"u"?window.location.hostname:"";if(t==="localhost"||t==="127.0.0.1"||t==="0.0.0.0"||t==="")return Promise.resolve();const r=async()=>{if(!ge)throw new Error("Supabase client is not initialized. Please check your environment variables.");const i=Ep(),{data:o,error:a}=await ge.from("crop_daily_stats").select("id, query_count").eq("crop_name",e).eq("query_date",i).maybeSingle();if(a)throw a;if(o!=null&&o.id){const{error:l}=await ge.from("crop_daily_stats").update({query_count:(o.query_count??0)+1}).eq("id",o.id);if(l)throw l}else{const{error:l}=await ge.from("crop_daily_stats").insert({crop_name:e,query_date:i,query_count:1});if(l)throw l}},s=(Mg[e]??Promise.resolve()).then(r).catch(console.error);return Mg[e]=s,s},Fg={p:Promise.resolve()},za=async e=>{const t=typeof window<"u"?window.location.hostname:"";if(t==="localhost"||t==="127.0.0.1"||t==="0.0.0.0"||t===""||!ge)return Promise.resolve();const n=Fg.p.then(async()=>{try{await ge.rpc("log_user_query",{p_crop_name:e||null})}catch(s){console.error(s)}});return Fg.p=n,n},bk=async()=>{if(!ge)throw new Error("Supabase client is not initialized. Please check your environment variables.");const e=Ep(),{data:t,error:r}=await ge.from("crop_daily_stats").select("crop_name, query_count").eq("query_date",e);if(r)throw r;const n={};return t==null||t.forEach(s=>{s.crop_name&&(n[s.crop_name]=s.query_count??0)}),n},xk=e=>{if(!ge)return()=>{};const t=Ep();let r={};const n=(i,o)=>{!i||i.query_date!==t||(o?delete r[i.crop_name]:r[i.crop_name]=i.query_count??0,e({...r}))};bk().then(i=>{r={...i},e(i)}).catch(console.error);const s=ge.channel("crop_daily_stats_realtime");return s.on("postgres_changes",{event:"*",schema:"public",table:"crop_daily_stats"},i=>{i.eventType==="DELETE"&&i.old?n(i.old,!0):(i.eventType==="INSERT"||i.eventType==="UPDATE")&&i.new&&n(i.new,!1)}).subscribe(),()=>{ge.removeChannel(s)}},Sk=async e=>{if(!ge)throw new Error("Supabase client is not initialized.");const{error:t}=await ge.from("user_feedback").insert([{content:e}]);if(t)throw t;return!0},_k=async(e,t)=>{const{data:r,error:n}=await ge.auth.signInWithPassword({email:e,password:t});if(n)throw n;return r},Ek=async()=>{const{error:e}=await ge.auth.signOut();if(e)throw e},Lg=async()=>{const{data:{session:e}}=await ge.auth.getSession();return e},Ck=async e=>{const t=e.trim(),{data:r,error:n}=await ge.rpc("set_display_name",{p_display_name:t});if(n)return{ok:!1,error:n.message||""};if(!((r==null?void 0:r.ok)===!0)){const i=r==null?void 0:r.error;let o="";return i==="taken"?o="":i==="empty"?o="":i==="not_authenticated"&&(o=""),{ok:!1,error:o}}return{ok:!0}},Hw=async()=>{const{data:e,error:t}=await ge.rpc("assign_random_display_name");if(t)return{ok:!1,error:t.message||""};const r=e;if(!(r!=null&&r.ok))return{ok:!1,error:(r==null?void 0:r.error)||""};const n=typeof r.display_name=="string"?r.display_name:void 0;return n&&await ge.auth.refreshSession(),{ok:!0,displayName:n}},kk=async e=>{const t=Number.isFinite(e)?Math.floor(e):1,r=Math.min(18,Math.max(1,t||1)),{error:n}=await ge.auth.updateUser({data:{avatar_index:r}});return n?{ok:!1,error:n.message}:{ok:!0}},Au=async()=>{var n;const{data:e,error:t}=await ge.rpc("use_free_query");if(t){if(t.code==="PGRST202"||(n=t.message)!=null&&n.includes("use_free_query"))return{allowed:!1};throw t}return{allowed:(e==null?void 0:e.allowed)===!0}},Mf=async()=>{const{data:e,error:t}=await ge.rpc("get_my_subscription");if(t)return{subscriptionEndAt:null,isActive:!1};const r=e==null?void 0:e.subscription_end_at,n=(e==null?void 0:e.is_active)===!0;return{subscriptionEndAt:r!=null?new Date(r).getTime():null,isActive:n}},jk=async()=>{const{data:e,error:t}=await ge.rpc("get_membership_leaderboard");return t?{ok:!1,items:[],error:t.message||""}:{ok:!0,items:(e??[]).map((s,i)=>{const o=s.avatar_index;let a=1;if(o!=null){const d=typeof o=="number"?o:parseInt(String(o),10);Number.isFinite(d)&&(a=Math.min(18,Math.max(1,d||1)))}const l=s.days_left;let u=0;if(l!=null){const d=typeof l=="number"?l:parseInt(String(l),10);Number.isFinite(d)&&(u=Math.max(0,d))}return{userId:s.user_id??`unknown-${i}`,displayName:s.display_name??null,email:s.email??null,avatarIndex:a,daysLeft:u}})}},Nk=async()=>{const{data:e,error:t}=await ge.rpc("get_user_query_leaderboard",{p_limit:100});return t?{ok:!1,items:[],error:t.message||""}:{ok:!0,items:(e??[]).map((s,i)=>{const o=s.avatar_index;let a=1;if(o!=null){const f=typeof o=="number"?o:parseInt(String(o),10);Number.isFinite(f)&&(a=Math.min(18,Math.max(1,f||1)))}const l=s.query_count;let u=0;if(l!=null){const f=typeof l=="number"?l:parseInt(String(l),10);Number.isFinite(f)&&(u=Math.max(0,f))}const d=s.rank_pos;let h=i+1;if(d!=null){const f=typeof d=="number"?d:parseInt(String(d),10);Number.isFinite(f)&&(h=f)}return{userId:s.user_id??`unknown-${i}`,displayName:s.display_name??null,email:s.email??null,avatarIndex:a,queryCount:u,rankPos:h}})}},Tk=async()=>{const{data:e,error:t}=await ge.rpc("get_feedback_leaderboard",{p_limit:100});return t?{ok:!1,items:[],error:t.message||""}:{ok:!0,items:(e??[]).map((s,i)=>{const o=s.avatar_index;let a=1;if(o!=null){const f=typeof o=="number"?o:parseInt(String(o),10);Number.isFinite(f)&&(a=Math.min(18,Math.max(1,f||1)))}const l=s.feedback_count;let u=0;if(l!=null){const f=typeof l=="number"?l:parseInt(String(l),10);Number.isFinite(f)&&(u=Math.max(0,f))}const d=s.rank_pos;let h=i+1;if(d!=null){const f=typeof d=="number"?d:parseInt(String(d),10);Number.isFinite(f)&&(h=f)}return{userId:s.user_id??`unknown-${i}`,displayName:s.display_name??null,email:s.email??null,avatarIndex:a,feedbackCount:u,rankPos:h}})}},$k=async()=>{const{data:e,error:t}=await ge.rpc("get_or_create_invite_code");if(t)return{ok:!1,error:t.message||""};const r=(e==null?void 0:e.ok)===!0,n=e==null?void 0:e.invite_code;return!r||!n?{ok:!1,error:(e==null?void 0:e.error)||""}:{ok:!0,inviteCode:n}},Pk=async e=>{const t=(e||"").trim();if(!t)return{ok:!1,error:""};const{data:r,error:n}=await ge.rpc("bind_invite_relation",{p_invite_code:t});if(n)return{ok:!1,error:n.message||""};if(!((r==null?void 0:r.ok)===!0)){const i=r==null?void 0:r.error;return{ok:!1,error:i==="already_bound"?"":i==="code_not_found"?"":i==="cannot_invite_self"?"":i==="invalid_code"?" 6 ":i||""}}return{ok:!0}},Rk=async()=>{const{data:e,error:t}=await ge.rpc("get_my_invite_stats");return t?{ok:!1,error:t.message||""}:(e==null?void 0:e.ok)===!0?{ok:!0,invitedCount:(e==null?void 0:e.invited_count)??0,rewardDays:(e==null?void 0:e.reward_days)??0}:{ok:!1,error:(e==null?void 0:e.error)||""}};function Dg(e){return e==="invalid_format"||e==="invalid_encoding"?"":e==="invalid_payload"||e==="invalid_version_or_exp"?"":e==="invalid_signature"?"":e==="code_already_used"?"":e==="missing_code"?"":e==="unauthorized"?"":e==="server_config"?"":e==="db_error"?"":e||""}const Ok=async e=>{const t=(e||"").trim();if(!t)return{ok:!1,error:""};const{data:r,error:n}=await ge.functions.invoke("activate-subscription",{body:{activation_code:t}});if(n){const s=n.message||"";if(s.includes("Failed to send")||s.includes("fetch")||s.includes("network"))return{ok:!1,error:" Supabase  Edge Functionactivate-subscription ACTIVATION_PUBLIC_KEY"};let i;if(n instanceof Ef&&n.context)try{const o=n.context,a=o.json?await o.json():typeof o.body=="string"?JSON.parse(o.body):null;a&&typeof a=="object"&&typeof a.error=="string"&&(i=a.error)}catch{}return{ok:!1,error:Dg(i)||s}}return(r==null?void 0:r.ok)===!0?{ok:!0}:{ok:!1,error:Dg(r==null?void 0:r.error)}},Ak=e=>ge.auth.onAuthStateChange(e),qw=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),Gw=()=>{if(typeof window>"u")return!1;const e=window.location.hostname;return e==="localhost"||e==="127.0.0.1"||e==="0.0.0.0"},Ik=async e=>{if(!qw(e))throw new Error("");Gw()&&console.warn(" ");const{error:t}=await ge.auth.signInWithOtp({email:e,options:{shouldCreateUser:!1}});if(t)throw t;return!0},Mk=async(e,t,r)=>{const{data:n,error:s}=await ge.auth.verifyOtp({email:e,token:t,type:"email"});if(s)throw s;if(n.user){const{error:i}=await ge.auth.updateUser({password:r});if(i)throw await ge.auth.signOut(),i}return n},Fk=async e=>{if(!qw(e))throw new Error("");Gw()&&console.warn(" ");const{error:t}=await ge.auth.signInWithOtp({email:e,options:{shouldCreateUser:!0,emailRedirectTo:void 0}});if(t)throw t;return!0},Lk=async(e,t,r)=>{const{data:n,error:s}=await ge.auth.verifyOtp({email:e,token:t,type:"email"});if(s)throw s;if(n.user){const{error:i}=await ge.auth.updateUser({password:r});if(i)throw i}return n},Cp=({message:e})=>{const t=c.jsx("div",{className:"toast",children:c.jsx("div",{className:"toast-content",children:e})});return Sc.createPortal(t,document.body)},Kw=({hideSignOut:e=!1,hideSubscription:t=!1,contactModalOpen:r,onContactModalChange:n,subscriptionModalOpen:s,onSubscriptionModalChange:i,subscriptionState:o,onSubscriptionActivated:a})=>{const[l,u]=p.useState(!1),d=n!==void 0?r??!1:l,h=n!==void 0?ce=>n(ce):u,[f,g]=p.useState(!1),[y,b]=p.useState("author"),[x,v]=p.useState(!1),[m,w]=p.useState(""),[S,_]=p.useState(!1),[E,C]=p.useState(!1),[k,T]=p.useState(""),[P,A]=p.useState(!1),[D,W]=p.useState(!1),[Q,q]=p.useState(!1),G=i!==void 0?s??!1:Q,V=i!==void 0?ce=>i(ce):q,[R,U]=p.useState(!0),[H,se]=p.useState(""),[oe,Ee]=p.useState(!1),[ye,fe]=p.useState(""),j=(o==null?void 0:o.isActive)??!1,I=(o==null?void 0:o.subscriptionEndAt)??null,O=I!=null?Math.max(0,Math.ceil((I-Date.now())/(24*60*60*1e3))):null,z=()=>{g(!1),v(!1),U(!0),b("author")},K=()=>{b("author"),g(!0),U(!0)},N=()=>{b("assistant"),g(!0),U(!0)},B=()=>{U(!1)},Z=()=>{U(!1)},ee=async()=>{if(m.trim()){_(!0);try{await Sk(m.trim()),w(""),v(!1),h(!1),T(""),C(!0),setTimeout(()=>{C(!1)},2e3)}catch(ce){console.error(":",ce),alert("")}finally{_(!1)}}},le=async()=>{const ce=H.trim();if(!ce){fe("");return}Ee(!0),fe("");try{const{ok:ke,error:F}=await Ok(ce);if(ke){se(""),fe(""),a==null||a(),V(!1);try{const te=await Mf();if(te&&te.subscriptionEndAt){const xe=Math.max(0,Math.ceil((te.subscriptionEndAt-Date.now())/864e5));T(` ${xe} `)}else T("")}catch{T("")}C(!0),setTimeout(()=>{C(!1)},2500)}else fe(F||"")}catch(ke){fe(ke.message||"")}finally{Ee(!1)}},he="https://pay.ldxp.cn/shop/TX7BUFYY/cb2cs2",ne=()=>{window.open(he,"_blank","noopener,noreferrer")};return c.jsxs(c.Fragment,{children:[c.jsx("footer",{className:"footer",children:c.jsx("div",{className:"footer-content"})}),c.jsxs("div",{className:"footer-beian",children:[c.jsx("a",{href:"https://beian.miit.gov.cn/",target:"_blank",rel:"noopener noreferrer",children:"ICP2024055698-3"}),c.jsx("a",{href:"https://beian.mps.gov.cn/",target:"_blank",rel:"noopener noreferrer",children:"13092202000503"})]}),c.jsx(vt,{isOpen:P,onClose:()=>A(!1),title:"",children:c.jsx("div",{className:"changelog",children:zd.map(ce=>c.jsxs("div",{className:"changelog-item",children:[c.jsxs("h4",{className:"changelog-version",children:[ce.version," ",c.jsxs("span",{className:"changelog-date",children:["(",ce.date,")"]})]}),c.jsx("ul",{className:"changelog-list",children:ce.items.map((ke,F)=>c.jsx("li",{children:ke},F))})]},ce.version))})}),c.jsx(vt,{isOpen:d,onClose:()=>{h(!1),g(!1),v(!1),w(""),U(!0),b("author")},title:"",onBack:f||x?z:void 0,children:f?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"modal-qrcode-wrapper",children:[R&&c.jsx("div",{className:"modal-qrcode-placeholder",children:c.jsx("div",{className:"modal-qrcode-loading"})}),c.jsx("img",{src:y==="author"?"/carzyfarm/vx.jpg":"/carzyfarm/vx.jpg",alt:"",className:`modal-qrcode ${R?"modal-qrcode-hidden":""}`,onLoad:B,onError:Z})]}),c.jsx("p",{className:"modal-hint",children:""})]}):x?c.jsxs("div",{className:"feedback-form",children:[c.jsx("div",{className:"feedback-textarea-wrapper",children:c.jsx("textarea",{className:"feedback-textarea",value:m,onChange:ce=>w(ce.target.value),placeholder:"...",rows:8})}),c.jsx("button",{className:"feedback-submit-button",onClick:ee,disabled:!m.trim()||S,children:S?"...":""})]}):c.jsxs("div",{className:"contact-options",children:[c.jsxs("button",{className:"contact-option-button",onClick:K,children:[c.jsx("div",{className:"contact-option-title",children:" / "}),c.jsx("div",{className:"contact-option-desc",children:""})]}),c.jsxs("button",{className:"contact-option-button",onClick:N,children:[c.jsx("div",{className:"contact-option-title",children:" / "}),c.jsx("div",{className:"contact-option-desc",children:""})]}),c.jsxs("button",{className:"contact-option-button",onClick:()=>v(!0),children:[c.jsx("div",{className:"contact-option-title",children:""}),c.jsx("div",{className:"contact-option-desc",children:""})]})]})}),E&&c.jsx(Cp,{message:k}),c.jsx(vt,{isOpen:G,onClose:()=>{V(!1),se(""),fe("")},title:j?"":"",children:c.jsxs("div",{className:"subscription-modal-content",children:[j&&I!=null&&c.jsxs("div",{className:"modal-text subscription-status subscription-status-inline",children:[c.jsxs("p",{children:["",c.jsx("strong",{children:new Date(I).toLocaleDateString("zh-CN",{timeZone:"Asia/Shanghai",year:"numeric",month:"long",day:"numeric"})}),O!=null&&c.jsxs("span",{className:"subscription-days-left",children:[" ",O," "]})]}),c.jsx("p",{className:"subscription-tip",children:""})]}),c.jsxs("div",{className:"modal-text subscription-plans",children:[c.jsx("p",{className:"subscription-plans-title",children:j?"":""}),c.jsxs("p",{className:"subscription-plans-desc",children:["1. ",c.jsx("br",{}),"2. "]}),c.jsx("p",{className:"subscription-plans-title",children:""}),c.jsxs("ul",{className:"subscription-plans-list",children:[c.jsxs("li",{onClick:ne,children:[c.jsx("span",{className:"subscription-plan-name",children:""}),c.jsx("span",{className:"subscription-plan-price",children:"0.19 "})]}),c.jsxs("li",{onClick:ne,children:[c.jsx("span",{className:"subscription-plan-name",children:""}),c.jsx("span",{className:"subscription-plan-price",children:"0.99 "})]}),c.jsxs("li",{onClick:ne,className:"subscription-plan-item-recommended",children:[c.jsx("span",{className:"subscription-plan-name",children:""}),c.jsx("span",{className:"subscription-plan-tag",children:""}),c.jsx("span",{className:"subscription-plan-price",children:"1.99 "})]}),c.jsxs("li",{onClick:ne,children:[c.jsx("span",{className:"subscription-plan-name",children:""}),c.jsx("span",{className:"subscription-plan-price",children:"4.99 "})]}),c.jsxs("li",{onClick:ne,children:[c.jsx("span",{className:"subscription-plan-name",children:""}),c.jsx("span",{className:"subscription-plan-price",children:"9.99 "})]}),c.jsxs("li",{onClick:ne,children:[c.jsx("span",{className:"subscription-plan-name",children:""}),c.jsx("span",{className:"subscription-plan-price",children:"19.9 "})]})]}),c.jsxs("button",{type:"button",className:"subscription-plan-btn subscription-plan-btn-single",onClick:ne,children:["",c.jsx("span",{className:"subscription-plan-btn-arrow",children:""})]}),c.jsx("p",{className:"subscription-plans-hint",children:j?"":""})]}),c.jsxs("div",{className:"activation-code-form",children:[c.jsx("input",{type:"text",className:"activation-code-input",value:H,onChange:ce=>{se(ce.target.value),fe("")},placeholder:" CF- ",disabled:oe}),ye&&c.jsx("p",{className:"activation-code-error",children:ye}),c.jsx("button",{type:"button",className:"activation-code-submit",onClick:le,disabled:oe||!H.trim(),children:oe?"...":j?"":""})]})]})}),c.jsx(vt,{isOpen:D,onClose:()=>W(!1),title:"",children:c.jsxs("div",{className:"modal-text disclaimer-text",children:[c.jsx("p",{children:c.jsx("strong",{children:"1. "})}),c.jsx("p",{children:" ICP "}),c.jsx("p",{children:c.jsx("strong",{children:"2. "})}),c.jsx("p",{children:""}),c.jsx("p",{children:" 574689775@qq.com "}),c.jsx("p",{children:c.jsx("strong",{children:"3. "})}),c.jsx("p",{children:""}),c.jsx("p",{children:c.jsx("strong",{children:"4. "})}),c.jsx("p",{children:"100%"}),c.jsx("p",{children:""}),c.jsx("p",{children:c.jsx("strong",{children:"5. "})}),c.jsx("p",{children:""}),c.jsx("p",{children:c.jsx("strong",{children:"6. "})}),c.jsx("p",{children:""}),c.jsx("p",{children:c.jsx("strong",{children:"7. "})}),c.jsx("p",{children:""})]})})]})},sn=({children:e,fillColor:t="#000",strokeColor:r="#fff",strokeWidth:n=0,fontSize:s=16,fontWeight:i="normal",className:o="",style:a={},textAlign:l="center"})=>{const u=p.useRef(null),d=p.useRef(null),[h,f]=p.useState({width:0,height:0});return p.useEffect(()=>{if(d.current){const g=()=>{const b=d.current.getBoundingClientRect();f({width:b.width,height:b.height})};g();const y=new ResizeObserver(g);return y.observe(d.current),()=>y.disconnect()}},[e,s,i]),c.jsxs("span",{ref:u,className:`svg-text-container ${o}`,style:a,children:[h.width>0&&h.height>0&&c.jsx("svg",{className:"svg-text",width:h.width,height:h.height,style:{position:"absolute",top:"50%",left:0,transform:"translateY(-50%)",pointerEvents:"none"},children:c.jsx("text",{x:l==="left"?"0":l==="right"?"100%":"50%",y:"50%",textAnchor:l==="left"?"start":l==="right"?"end":"middle",dominantBaseline:"central",fontSize:s,fontWeight:i,fill:t,stroke:r,strokeWidth:n,paintOrder:"stroke fill",children:e})}),c.jsx("span",{ref:d,className:"svg-text-placeholder",style:{fontSize:s,fontWeight:i,visibility:"hidden",whiteSpace:"nowrap",lineHeight:1},children:e})]})},Xw=({children:e,onClick:t,className:r="",style:n={},disabled:s=!1})=>{const i=()=>{!s&&t&&t()},o=a=>{!s&&(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),t==null||t())};return c.jsx("div",{className:`gradient-button ${s?"disabled":""} ${r}`,onClick:i,onKeyDown:o,style:n,role:"button",tabIndex:s?-1:0,children:e})},Dk=400,Vk=({crops:e,onSelectCrop:t,onOpenUserCenter:r,queryCounts:n={}})=>{const s=p.useRef(new Map),i=p.useRef(new Map),o=p.useRef(""),a=p.useRef(new Map),l=p.useRef(!1),u=p.useRef({}),[d,h]=p.useState(new Set),f=p.useRef(new Map),g=p.useMemo(()=>new Map(e.map((E,C)=>[E.name,C])),[e]),y=p.useMemo(()=>{const E=Object.values(n);return E.length>0?Math.max(...E):1},[n]),b=E=>{if(E===0||y===0)return"#fff";const C=Math.min(E/y,1),k=255,T=Math.floor(160-91*C),P=Math.floor(122-122*C);return`rgb(${k}, ${T}, ${P})`},x=(E,C)=>{const k=(n[C.name]??0)-(n[E.name]??0);return k!==0?k:(g.get(C.name)??0)-(g.get(E.name)??0)},v=p.useMemo(()=>e.filter(E=>E.type==="").sort(x),[e,n,g]),m=p.useMemo(()=>e.filter(E=>E.type==="").sort(x),[e,n,g]);p.useEffect(()=>{const E=u.current,C=[];if(e.forEach(k=>{const T=k.name,P=n[T]??0,A=E[T]??0;P!==A&&P>0&&C.push(T)}),C.length===0){u.current={...n};return}h(k=>new Set([...k,...C])),C.forEach(k=>{const T=n[k]??0,P=f.current.get(k);P&&window.clearTimeout(P);const A=window.setTimeout(()=>{f.current.delete(k),h(D=>{const W=new Set(D);return W.delete(k),W}),u.current={...u.current,[k]:T}},Dk);f.current.set(k,A)})},[n,e]),p.useEffect(()=>()=>{f.current.forEach(E=>window.clearTimeout(E)),f.current.clear()},[]);const w=p.useMemo(()=>[...v,...m].map(E=>E.name).join(","),[v,m]);p.useLayoutEffect(()=>{const E=o.current,C=E!==""&&E!==w;if(l.current){const A=new Map;s.current.forEach((D,W)=>{A.set(W,D.getBoundingClientRect())}),i.current=A,o.current=w;return}if(!C){const A=new Map;s.current.forEach((D,W)=>{A.set(W,D.getBoundingClientRect())}),i.current=A,o.current=w;return}const k=new Map;s.current.forEach((A,D)=>{k.set(D,A.getBoundingClientRect())});const T=i.current,P=[];if(s.current.forEach((A,D)=>{const W=T.get(D),Q=k.get(D);if(!W||!Q)return;const q=W.left-Q.left,G=W.top-Q.top;Math.abs(q)<.5&&Math.abs(G)<.5||P.push({node:A,dx:q,dy:G})}),P.length===0){i.current=k,o.current=w;return}l.current=!0,a.current.forEach(A=>window.clearTimeout(A)),a.current.clear(),requestAnimationFrame(()=>{P.forEach(({node:A,dx:D,dy:W})=>{A.style.transition="none",A.style.transform=`translate(${D}px, ${W}px)`}),document.body.offsetHeight,requestAnimationFrame(()=>{P.forEach(({node:D})=>{D.style.transition="transform 600ms cubic-bezier(0.22, 1, 0.36, 1)",D.style.transform=""});const A=window.setTimeout(()=>{P.forEach(({node:D})=>{D.style.transition=""}),l.current=!1},650);a.current.set("all",A)})}),i.current=k,o.current=w},[w]);const S=E=>C=>{if(!C){s.current.delete(E);return}s.current.set(E,C)},_=E=>{const C=n[E.name]??0,k=C>=1e4?`${(C/1e4).toFixed(1)}`:C,T=b(C);return c.jsxs("div",{className:"crop-item",ref:S(E.name),onClick:()=>t(E),children:[c.jsxs("div",{className:"crop-item-image-wrapper",children:[C>0&&c.jsxs("div",{className:`crop-item-count${d.has(E.name)?" heat-shake":""}`,style:{borderColor:T,color:T},children:[c.jsx(Y_,{className:"crop-item-count-icon",style:{color:T}}),c.jsx("span",{className:"crop-item-count-text",children:k})]}),c.jsx("img",{src:cp(E.name),alt:E.name,className:"crop-item-image"})]}),c.jsx("div",{className:"crop-item-name",children:E.name})]},E.name)};return c.jsxs("div",{className:"crop-selector",children:[c.jsx("div",{className:"crop-title",children:c.jsx(sn,{fillColor:"#fff",strokeColor:"rgba(177, 95, 47, 1)",strokeWidth:5,fontSize:20,fontWeight:700,style:{width:"100%",height:"100%"},children:""})}),c.jsxs("div",{className:"crop-selector-content",children:[c.jsxs("div",{className:"champion-section",children:[c.jsxs("div",{className:"champion-title-row",children:[c.jsx("div",{className:"champion-title",children:""}),c.jsxs(Xw,{onClick:r,children:[c.jsx(T2,{style:{marginRight:"4px",color:"#000"}}),""]})]}),c.jsx("div",{className:"champion-grid",children:v.map(_)})]}),c.jsxs("div",{className:"champion-section champion-section-normal",children:[c.jsx("div",{className:"champion-title-row",children:c.jsx("div",{className:"champion-title",children:""})}),c.jsx("div",{className:"champion-grid",children:m.map(_)})]})]})]})},Jl=[{name:"",color:"",multiplier:1},{name:"",color:"",multiplier:1},{name:"",color:"",multiplier:2},{name:"",color:"",multiplier:2},{name:"",color:"",multiplier:2},{name:"",color:"",multiplier:2},{name:"",color:"",multiplier:2},{name:"",color:"",multiplier:2},{name:"",color:"",multiplier:3},{name:"",color:"",multiplier:3},{name:"",color:"",multiplier:4},{name:"",color:"",multiplier:4},{name:"",color:"",multiplier:3},{name:"",color:"",multiplier:10},{name:"",color:"",multiplier:5},{name:"",color:"",multiplier:5},{name:"",color:"",multiplier:5},{name:"",color:"",multiplier:5},{name:"",color:"",multiplier:5},{name:"",color:"",multiplier:5},{name:"",color:"",multiplier:5},{name:"",color:"",multiplier:6},{name:"",color:"",multiplier:5},{name:"",color:"",multiplier:8},{name:"",color:"",multiplier:10},{name:"",color:"",multiplier:10},{name:"",color:"",multiplier:10},{name:"",color:"",multiplier:20},{name:"",color:"",multiplier:15},{name:"",color:"",multiplier:30},{name:"",color:"",multiplier:18},{name:"",color:"",multiplier:40},{name:"",color:"",multiplier:1.5},{name:"",color:"",multiplier:1.5},{name:"",color:"",multiplier:1.5},{name:"",color:"",multiplier:1.5},{name:"",color:"",multiplier:2.5},{name:"",color:"",multiplier:2},{name:"",color:"",multiplier:2},{name:"",color:"",multiplier:10}],kp=e=>Jl.find(t=>t.name===e),Qw={:{label:"",bgColor:"#96B2C6",textColor:"#fff"},:{label:"",bgColor:"#27D777",textColor:"#fff"},:{label:"",bgColor:"#65C7FF",textColor:"#fff"},:{label:"",bgColor:"#D990F9",textColor:"#fff"},:{label:"",bgColor:"rgba(245, 130, 50, 1)",textColor:"#fff",gradient:"linear-gradient(90deg, rgba(245, 130, 50, 1) 0%, rgba(255, 186, 49, 1) 100%)"},:{label:"",bgColor:"rgba(121, 229, 255, 1)",textColor:"#fff",gradient:"linear-gradient(90deg, rgba(121, 229, 255, 1) 0%, rgba(238, 141, 250, 1) 49%, rgba(121, 229, 255, 1) 100%)"}},Vg=(e,t,r)=>{const n=new Set(["","","","",""]),s=new Set(["","","","","","","",""]);let i=1,o=0,a=1;r.forEach(h=>{const f=kp(h);f&&(n.has(h)?i=Math.max(i,f.multiplier):s.has(h)?a=Math.max(a,f.multiplier):o+=f.multiplier)});const u=Number(e.priceCoefficient.toFixed(4))*i*Math.pow(t,1.5)*(o+1)*a,d=Number(u.toFixed(4));return{totalMultiplier:o,price:d,formattedPrice:Dr(d)}},Dr=e=>{if(e>=1e8){const n=e/1e8;return n%1===0?`${n}`:`${n.toFixed(2)}`}if(e>=1e4){const n=e/1e4;return n%1===0?`${n}`:`${n.toFixed(2)}`}return`${Math.round(e)}`},Ps=e=>e.endsWith("")?{value:parseFloat(e.replace("","")),unit:""}:e.endsWith("")?{value:parseFloat(e.replace("","")),unit:""}:e.endsWith("")?{value:parseFloat(e.replace("","")),unit:""}:{value:parseFloat(e)||0,unit:""},Rs=(e,t)=>t===""?e*1e8:t===""?e*1e4:e,eo=e=>{const t=Dr(e),{value:r,unit:n}=Ps(t);return Rs(r,n)},zg=(e,t,r)=>{const n=new Set(["","","","",""]),s=new Set(["","","","","","","",""]);let i=1,o=0,a=1;r.forEach(h=>{const f=kp(h);f&&(n.has(h)?i=Math.max(i,f.multiplier):s.has(h)?a=Math.max(a,f.multiplier):o+=f.multiplier)});const u=Number(e.priceCoefficient.toFixed(4))*i*(o+1)*a;if(u===0||t<=0)return null;const d=Math.pow(t/u,2/3);return d<0?0:d>e.maxWeight?e.maxWeight:d},Yl=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Jw=new Map;Yl.forEach((e,t)=>{Jw.set(e,t)});function zk(e){const t=new Array(Yl.length).fill(0);e.forEach(n=>{const s=Jw.get(n);s!==void 0&&(t[s]=1)});const r=[];for(let n=0;n<t.length;n+=8){let s=0;for(let i=0;i<8&&n+i<t.length;i++)t[n+i]&&(s|=1<<7-i);r.push(s)}return new Uint8Array(r)}function Uk(e){const t=[],r=[];return e.forEach(n=>{for(let s=0;s<8;s++)r.push(n>>7-s&1)}),r.slice(0,Yl.length).forEach((n,s)=>{n===1&&t.push(Yl[s])}),t}function Bk(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Wk(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");for(;t.length%4;)t+="=";const r=atob(t);return new Uint8Array(r.split("").map(n=>n.charCodeAt(0)))}function Hk(e){const{cropIndex:t,weight:r,percentage:n,mutations:s}=e;if(t<0||t>=rr.length)throw new Error("Invalid crop index");if(r<0||r>1e3)throw new Error("Invalid weight");if(n<1||n>100)throw new Error("Invalid percentage");const i=new Uint8Array(9);i[0]=t;const o=Math.round(r*100);i[1]=o>>8&255,i[2]=o&255,i[3]=n;const a=zk(s);for(let l=0;l<5&&l<a.length;l++)i[4+l]=a[l];return Bk(i)}function qk(e){try{const t=Wk(e);if(t.length!==9)return null;const r=t[0],s=(t[1]<<8|t[2])/100,i=t[3],o=t.slice(4,9),a=Uk(o);return r>=rr.length||s<0||s>1e3||i<1||i>100?null:{cropIndex:r,weight:s,percentage:i,mutations:a}}catch{return null}}function Gk(e,t){const r=Hk(e);return`${window.location.origin+window.location.pathname}?s=${r}`}function Ff(){const t=new URLSearchParams(window.location.search).get("s");return t?qk(t):null}const Kk=({isOpen:e,onClose:t,crop:r,weight:n,mutations:s,calculatedPrice:i,formattedPrice:o})=>{const[a,l]=p.useState(null),[u,d]=p.useState(""),[h,f]=p.useState(!1),[g,y]=p.useState(""),[b,x]=p.useState(!1),{unit:v}=Ps(o),m=()=>{l(null),d(""),y(""),t()};return c.jsxs(c.Fragment,{children:[c.jsx(vt,{isOpen:e,onClose:m,title:"",children:c.jsxs("div",{className:"price-feedback",children:[c.jsx("div",{className:"feedback-question",children:c.jsx("p",{className:"feedback-question-text",children:""})}),c.jsxs("div",{className:"feedback-options",children:[c.jsx("button",{className:`feedback-option ${a===!0?"active":""}`,onClick:async()=>{if(l(!0),y(""),!r){y("");return}f(!0),y("");try{const w={crop_name:r.name,weight:n,mutations:s,calculated_price:i,actual_price:null,is_accurate:!0};await Ig(w),m(),x(!0),setTimeout(()=>{x(!1)},2e3)}catch(w){y(w.message||""),l(null)}finally{f(!1)}},disabled:h,children:h&&a===!0?"...":""}),c.jsx("button",{className:`feedback-option ${a===!1?"active":""}`,onClick:()=>{l(!1),y("")},disabled:h,children:""})]}),a===!1&&c.jsxs("div",{className:"feedback-actual-price",children:[c.jsxs("label",{className:"feedback-label",children:[" (",v,")"]}),c.jsxs("div",{className:"feedback-input-wrapper",children:[c.jsx("input",{type:"number",className:"feedback-input",value:u,onChange:w=>{d(w.target.value),y("")},placeholder:`${v}`,min:"0",step:"0.01"}),c.jsx("span",{className:"feedback-input-unit",children:v})]}),c.jsxs("p",{className:"feedback-hint",children:["",o,""]})]}),g&&c.jsx("div",{className:"feedback-error",children:g}),a===!1&&c.jsx("div",{className:"feedback-actions",children:c.jsx("button",{className:"feedback-submit",onClick:async()=>{if(a===null){y("");return}if(a===!1&&!u.trim()){y("");return}if(!r){y("");return}f(!0),y("");try{const w=Rs(parseFloat(u),v),S={crop_name:r.name,weight:n,mutations:s,calculated_price:i,actual_price:w,is_accurate:!1};await Ig(S),m(),x(!0),setTimeout(()=>{x(!1)},2e3)}catch(w){y(w.message||"")}finally{f(!1)}},disabled:h,children:h?"...":""})})]})}),b&&c.jsx("div",{className:"toast",children:c.jsx("div",{className:"toast-content",children:""})})]})},Yw="historyRecords",Xk=100,Qk=e=>{if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch(t){return console.error("Failed to parse history records",t),[]}},Fc=()=>{if(typeof window>"u")return[];const e=window.localStorage.getItem(Yw);return Qk(e)},Zl=e=>{if(typeof window>"u")return;const t=e.filter(o=>o.locked),r=e.filter(o=>!o.locked),n=Math.max(0,Xk-t.length),s=n>0?r.slice(0,n):[],i=[...t,...s];window.localStorage.setItem(Yw,JSON.stringify(i))},Jk=e=>{const t=Fc();if(e.sessionId){const n=t.findIndex(i=>i.sessionId===e.sessionId);let s;if(n>=0){const i=t.filter((o,a)=>a!==n);s=[e,...i]}else s=[e,...t];Zl(s);return}const r=[e,...t];Zl(r)},Yk=e=>{const r=Fc().map(n=>n.id===e?{...n,locked:!n.locked}:n);Zl(r)},Zk=e=>{const r=Fc().filter(n=>n.id!==e);Zl(r)},ej=e=>{const[t,r]=p.useState(e),n=p.useRef(null),s=p.useRef(null),i=p.useRef(0),o=p.useRef(0),a=p.useRef(""),l=p.useRef("");return p.useEffect(()=>{if(e===t)return;const u=Ps(e),d=Rs(u.value,u.unit),h=Ps(t),f=Rs(h.value,h.unit);if(Math.abs(d-f)<.01){r(e);return}i.current=f,o.current=d,a.current=h.unit,l.current=u.unit,n.current&&cancelAnimationFrame(n.current);const g=200;s.current=Date.now();const y=()=>{const b=Date.now(),x=b-(s.current||b),v=Math.min(x/g,1),m=1-Math.pow(1-v,3),w=i.current+(o.current-i.current)*m,S=Dr(w);r(S),v<1?n.current=requestAnimationFrame(y):(r(e),n.current=null)};return n.current=requestAnimationFrame(y),()=>{n.current&&cancelAnimationFrame(n.current)}},[e]),t},tj=({crop:e,onBack:t,weight:r,percentage:n,selectedMutations:s,onShareClick:i,onError:o})=>{const a=parseFloat(r)||0,l=a>0&&a<=e.maxWeight,u=()=>{if(l&&a>0){const d=rr.findIndex(h=>h.name===e.name);if(d!==-1){const h=parseFloat(n)||0,f=Gk({cropIndex:d,weight:a,percentage:h||Math.floor(a/e.maxWeight*100),mutations:s});i(f)}}else o("")};return c.jsxs("div",{className:"calculator-header",children:[t&&c.jsx("span",{className:"back-link",onClick:t,children:c.jsx(hp,{})}),c.jsx("h3",{className:"calculator-title",children:e.name}),c.jsx("button",{className:"share-header-button",onClick:u,title:"",children:c.jsx(v2,{})})]})};function Bt(e){const t=p.useRef(e);return t.current=e,p.useCallback((...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}const Ug=Er()?p.useLayoutEffect:p.useEffect,Os=(e,t)=>{const r=p.useRef(!0);Ug(()=>e(r.current),t),Ug(()=>(r.current=!1,()=>{r.current=!0}),[])},Iu=(e,t)=>{Os(r=>{if(!r)return e()},t)};function Lf(e){const t=p.useRef(!1),[r,n]=p.useState(e);p.useEffect(()=>(t.current=!1,()=>{t.current=!0}),[]);function s(i,o){o&&t.current||n(i)}return[r,s]}function Hr(e,t){let r=e;for(let n=0;n<t.length;n+=1){if(r==null)return;r=r[t[n]]}return r}function Zw(e,t,r,n){if(!t.length)return r;const[s,...i]=t;let o;return!e&&typeof s=="number"?o=[]:Array.isArray(e)?o=[...e]:o={...e},n&&r===void 0&&i.length===1?delete o[s][i[0]]:o[s]=Zw(o[s],i,r,n),o}function vr(e,t,r,n=!1){return t.length&&n&&r===void 0&&!Hr(e,t.slice(0,-1))?e:Zw(e,t,r,n)}function rj(e){return typeof e=="object"&&e!==null&&Object.getPrototypeOf(e)===Object.prototype}function Bg(e){return Array.isArray(e)?[]:{}}const nj=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function eb(e,t={}){const{prepareArray:r}=t,n=r||(()=>[]);let s=Bg(e[0]);return e.forEach(i=>{function o(a,l){const u=new Set(l),d=Hr(i,a),h=Array.isArray(d);if(h||rj(d)){if(!u.has(d)){u.add(d);const f=Hr(s,a);h?s=vr(s,a,n(f,d)):(!f||typeof f!="object")&&(s=vr(s,a,Bg(d))),nj(d).forEach(g=>{Object.getOwnPropertyDescriptor(d,g).enumerable&&o([...a,g],u)})}}else s=vr(s,a,d)}o([])}),s}function gi(...e){return eb(e)}function Jo(e,t={}){let r=[];return Pe.Children.forEach(e,n=>{n==null&&!t.keepEmpty||(Array.isArray(n)?r=r.concat(Jo(n)):Ew(n)&&n.props?r=r.concat(Jo(n.props.children,t)):r.push(n))}),r}const sj=p.createContext({});function ec(e){return e instanceof HTMLElement||e instanceof SVGElement}function tb(e){return e&&typeof e=="object"&&ec(e.nativeElement)?e.nativeElement:ec(e)?e:null}const Df=p.createContext(null);function ij({children:e,onBatchResize:t}){const r=p.useRef(0),n=p.useRef([]),s=p.useContext(Df),i=p.useCallback((o,a,l)=>{r.current+=1;const u=r.current;n.current.push({size:o,element:a,data:l}),Promise.resolve().then(()=>{u===r.current&&(t==null||t(n.current),n.current=[])}),s==null||s(o,a,l)},[t,s]);return p.createElement(Df.Provider,{value:i},e)}const zn=new Map;function oj(e){e.forEach(t=>{var n;const{target:r}=t;(n=zn.get(r))==null||n.forEach(s=>s(r))})}let Mu;function rb(){return Mu||(Mu=new ResizeObserver(oj)),Mu}function aj(e,t){zn.has(e)||(zn.set(e,new Set),rb().observe(e)),zn.get(e).add(t)}function lj(e,t){zn.has(e)&&(zn.get(e).delete(t),zn.get(e).size||(rb().unobserve(e),zn.delete(e)))}function cj(e,t){const{children:r,disabled:n}=e,s=p.useRef(null),i=p.useContext(Df),o=typeof r=="function",a=o?r(s):r,l=p.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!o&&p.isValidElement(a)&&vp(a),d=u?yp(a):null,h=kw(d,s),f=()=>tb(s.current);p.useImperativeHandle(t,()=>f());const g=p.useRef(e);g.current=e;const y=p.useCallback(b=>{const{onResize:x,data:v}=g.current,{width:m,height:w}=b.getBoundingClientRect(),{offsetWidth:S,offsetHeight:_}=b,E=Math.floor(m),C=Math.floor(w);if(l.current.width!==E||l.current.height!==C||l.current.offsetWidth!==S||l.current.offsetHeight!==_){const k={width:E,height:C,offsetWidth:S,offsetHeight:_};l.current=k;const T=S===Math.round(m)?m:S,P=_===Math.round(w)?w:_,A={...k,offsetWidth:T,offsetHeight:P};i==null||i(A,b,v),x&&Promise.resolve().then(()=>{x(A,b)})}},[]);return p.useEffect(()=>{const b=f();return b&&!n&&aj(b,y),()=>lj(b,y)},[s.current,n]),u?p.cloneElement(a,{ref:h}):a}const uj=p.forwardRef(cj);function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vf.apply(this,arguments)}const dj="rc-observer-key";function fj(e,t){const{children:r}=e;return(typeof r=="function"?[r]:Jo(r)).map((s,i)=>{const o=(s==null?void 0:s.key)||`${dj}-${i}`;return p.createElement(uj,Vf({},e,{key:o,ref:i===0?t:void 0}),s)})}const nb=p.forwardRef(fj);nb.Collection=ij;function zf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function hj(e){if(Array.isArray(e))return zf(e)}function pj(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sb(e,t){if(e){if(typeof e=="string")return zf(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zf(e,t):void 0}}function mj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Un(e){return hj(e)||pj(e)||sb(e)||mj()}let ib=e=>+setTimeout(e,16),ob=e=>clearTimeout(e);typeof window<"u"&&"requestAnimationFrame"in window&&(ib=e=>window.requestAnimationFrame(e),ob=e=>window.cancelAnimationFrame(e));let Wg=0;const jp=new Map;function ab(e){jp.delete(e)}const As=(e,t=1)=>{Wg+=1;const r=Wg;function n(s){if(s===0)ab(r),e();else{const i=ib(()=>{n(s-1)});jp.set(r,i)}}return n(t),r};As.cancel=e=>{const t=jp.get(e);return ab(e),ob(t)};const Hg="ant",Np="anticon",gj=["outlined","borderless","filled","underlined"],vj=(e,t)=>t||(e?`${Hg}-${e}`:Hg),Qr=p.createContext({getPrefixCls:vj,iconPrefixCls:Np}),{Consumer:Z$}=Qr,qg={};function lb(e){const t=p.useContext(Qr),{getPrefixCls:r,direction:n,getPopupContainer:s,renderEmpty:i}=t,o=t[e];return{classNames:qg,styles:qg,...o,getPrefixCls:r,direction:n,getPopupContainer:s,renderEmpty:i}}function Yo(e){for(var t=0,r,n=0,s=e.length;s>=4;++n,s-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}function Uf(e,t,r=!1){const n=new Set;function s(i,o,a=1){const l=n.has(i);if(Gt(!l,"Warning: There may be circular references"),l)return!1;if(i===o)return!0;if(r&&a>1)return!1;n.add(i);const u=a+1;if(Array.isArray(i)){if(!Array.isArray(o)||i.length!==o.length)return!1;for(let d=0;d<i.length;d++)if(!s(i[d],o[d],u))return!1;return!0}if(i&&o&&typeof i=="object"&&typeof o=="object"){const d=Object.keys(i);return d.length!==Object.keys(o).length?!1:d.every(h=>s(i[h],o[h],u))}return!1}return s(e,t)}const yj="%";function Bf(e){return e.join(yj)}let Gg=0;class wj{constructor(t){M(this,"instanceId");M(this,"cache",new Map);M(this,"updateTimes",new Map);M(this,"extracted",new Set);this.instanceId=t}get(t){return this.opGet(Bf(t))}opGet(t){return this.cache.get(t)||null}update(t,r){return this.opUpdate(Bf(t),r)}opUpdate(t,r){const n=this.cache.get(t),s=r(n);s===null?(this.cache.delete(t),this.updateTimes.delete(t)):(this.cache.set(t,s),this.updateTimes.set(t,Gg),Gg+=1)}}const Tp="data-token-hash",bn="data-css-hash",gn="__cssinjs_instance__";function bj(){const e=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){const t=document.body.querySelectorAll(`style[${bn}]`)||[],{firstChild:r}=document.head;Array.from(t).forEach(s=>{s[gn]||(s[gn]=e),s[gn]===e&&document.head.insertBefore(s,r)});const n={};Array.from(document.querySelectorAll(`style[${bn}]`)).forEach(s=>{var o;const i=s.getAttribute(bn);n[i]?s[gn]===e&&((o=s.parentNode)==null||o.removeChild(s)):n[i]=!0})}return new wj(e)}const da=p.createContext({hashPriority:"low",cache:bj(),defaultCache:!0,autoPrefix:!1});function xj(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}const wi=class wi{constructor(){M(this,"cache");M(this,"keys");M(this,"cacheCallTimes");this.cache=new Map,this.keys=[],this.cacheCallTimes=0}size(){return this.keys.length}internalGet(t,r=!1){let n={map:this.cache};return t.forEach(s=>{var i;n?n=(i=n==null?void 0:n.map)==null?void 0:i.get(s):n=void 0}),n!=null&&n.value&&r&&(n.value[1]=this.cacheCallTimes++),n==null?void 0:n.value}get(t){var r;return(r=this.internalGet(t,!0))==null?void 0:r[0]}has(t){return!!this.internalGet(t)}set(t,r){if(!this.has(t)){if(this.size()+1>wi.MAX_CACHE_SIZE+wi.MAX_CACHE_OFFSET){const[s]=this.keys.reduce((i,o)=>{const[,a]=i;return this.internalGet(o)[1]<a?[o,this.internalGet(o)[1]]:i},[this.keys[0],this.cacheCallTimes]);this.delete(s)}this.keys.push(t)}let n=this.cache;t.forEach((s,i)=>{if(i===t.length-1)n.set(s,{value:[r,this.cacheCallTimes++]});else{const o=n.get(s);o?o.map||(o.map=new Map):n.set(s,{map:new Map}),n=n.get(s).map}})}deleteByPath(t,r){var i;const n=t.get(r[0]);if(r.length===1)return n.map?t.set(r[0],{map:n.map}):t.delete(r[0]),(i=n.value)==null?void 0:i[0];const s=this.deleteByPath(n.map,r.slice(1));return(!n.map||n.map.size===0)&&!n.value&&t.delete(r[0]),s}delete(t){if(this.has(t))return this.keys=this.keys.filter(r=>!xj(r,t)),this.deleteByPath(this.cache,t)}};M(wi,"MAX_CACHE_SIZE",20),M(wi,"MAX_CACHE_OFFSET",5);let Wf=wi,Kg=0;class cb{constructor(t){M(this,"derivatives");M(this,"id");this.derivatives=Array.isArray(t)?t:[t],this.id=Kg,t.length===0&&(t.length>0,void 0),Kg+=1}getDerivativeToken(t){return this.derivatives.reduce((r,n)=>n(t,r),void 0)}}const Fu=new Wf;function Hf(e){const t=Array.isArray(e)?e:[e];return Fu.has(t)||Fu.set(t,new cb(t)),Fu.get(t)}const Sj=new WeakMap,Lu={};function _j(e,t){let r=Sj;for(let n=0;n<t.length;n+=1){const s=t[n];r.has(s)||r.set(s,new WeakMap),r=r.get(s)}return r.has(Lu)||r.set(Lu,e()),r.get(Lu)}const Xg=new WeakMap;function _o(e){let t=Xg.get(e)||"";return t||(Object.keys(e).forEach(r=>{const n=e[r];t+=r,n instanceof cb?t+=n.id:n&&typeof n=="object"?t+=_o(n):t+=n}),t=Yo(t),Xg.set(e,t)),t}function Ej(e,t){return Yo(`${t}_${_o(e)}`)}const qf=Er();function $e(e){return typeof e=="number"?`${e}px`:e}function ub(e){const{hashCls:t,hashPriority:r="low"}=e||{};if(!t)return"";const n=`.${t}`;return r==="low"?`:where(${n})`:n}const ml=(e,t="")=>`--${t?`${t}-`:""}${e}`.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase(),Cj=(e,t,r)=>{const{hashCls:n,hashPriority:s="low"}=r||{};return Object.keys(e).length?`${ub({hashCls:n,hashPriority:s})}.${t}${r!=null&&r.scope?`.${r.scope}`:""}{${Object.entries(e).map(([i,o])=>`${i}:${o};`).join("")}}`:""},db=(e,t,r)=>{const{hashCls:n,hashPriority:s="low",prefix:i,unitless:o,ignore:a,preserve:l}=r||{},u={},d={};return Object.entries(e).forEach(([h,f])=>{if(l!=null&&l[h])d[h]=f;else if((typeof f=="string"||typeof f=="number")&&!(a!=null&&a[h])){const g=ml(h,i);u[g]=typeof f=="number"&&!(o!=null&&o[h])?`${f}px`:String(f),d[h]=`var(${g})`}}),[d,Cj(u,t,{scope:r==null?void 0:r.scope,hashCls:n,hashPriority:s})]},Ua=new Map;function $p(e,t,r,n,s){const{cache:i}=p.useContext(da),o=[e,...t],a=Bf(o),l=h=>{i.opUpdate(a,f=>{const[g=0,y]=f||[void 0,void 0],x=y||r(),v=[g,x];return h?h(v):v})};p.useMemo(()=>{l()},[a]);const d=i.opGet(a)[1];return p.useInsertionEffect(()=>(l(([h,f])=>[h+1,f]),Ua.has(a)||(s==null||s(d),Ua.set(a,!0),Promise.resolve().then(()=>{Ua.delete(a)})),()=>{i.opUpdate(a,h=>{const[f=0,g]=h||[];return f-1===0?(n==null||n(g,!1),Ua.delete(a),null):[f-1,g]})}),[a]),d}const kj={},jj="css",ps=new Map;function Nj(e){ps.set(e,(ps.get(e)||0)+1)}function Tj(e,t){typeof document<"u"&&document.querySelectorAll(`style[${Tp}="${e}"]`).forEach(n=>{var s;n[gn]===t&&((s=n.parentNode)==null||s.removeChild(n))})}const $j=-1;function Pj(e,t){ps.set(e,(ps.get(e)||0)-1);const r=new Set;ps.forEach((n,s)=>{n<=0&&r.add(s)}),ps.size-r.size>$j&&r.forEach(n=>{Tj(n,t),ps.delete(n)})}const Rj=(e,t,r,n)=>{let i={...r.getDerivativeToken(e),...t};return n&&(i=n(i)),i},Oj="token";function Aj(e,t,r){const{cache:{instanceId:n},container:s,hashPriority:i}=p.useContext(da),{salt:o="",override:a=kj,formatToken:l,getComputedToken:u,cssVar:d}=r,h=_j(()=>Object.assign({},...t),t),f=_o(h),g=_o(a),y=_o(d);return $p(Oj,[o,e.id,f,g,y],()=>{const x=u?u(h,a,e):Rj(h,a,e,l),v={...x},m=`${o}_${d.prefix}`,w=Yo(m),S=`${jj}-${w}`;v._tokenKey=Ej(v,m);const[_,E]=db(x,d.key,{prefix:d.prefix,ignore:d.ignore,unitless:d.unitless,preserve:d.preserve,hashPriority:i,hashCls:d.hashed?S:void 0});return _._hashId=w,Nj(d.key),[_,S,v,E,d.key]},([,,,,x])=>{Pj(x,n)},([,,,x,v])=>{if(!x)return;const m=Yn(x,Yo(`css-var-${v}`),{mark:bn,prepend:"queue",attachTo:s,priority:-999});m[gn]=n,m.setAttribute(Tp,v)})}var Ij={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ve="-ms-",Eo="-moz-",Te="-webkit-",fb="comm",Pp="rule",Rp="decl",Mj="@import",Fj="@namespace",hb="@keyframes",Lj="@layer",pb=Math.abs,Op=String.fromCharCode,Gf=Object.assign;function Dj(e,t){return dt(e,0)^45?(((t<<2^dt(e,0))<<2^dt(e,1))<<2^dt(e,2))<<2^dt(e,3):0}function mb(e){return e.trim()}function hn(e,t){return(e=t.exec(e))?e[0]:e}function be(e,t,r){return e.replace(t,r)}function gl(e,t,r){return e.indexOf(t,r)}function dt(e,t){return e.charCodeAt(t)|0}function Is(e,t,r){return e.slice(t,r)}function Ur(e){return e.length}function gb(e){return e.length}function lo(e,t){return t.push(e),e}function Vj(e,t){return e.map(t).join("")}function Qg(e,t){return e.filter(function(r){return!hn(r,t)})}var Lc=1,Mi=1,vb=0,Cr=0,it=0,Bi="";function Dc(e,t,r,n,s,i,o,a){return{value:e,root:t,parent:r,type:n,props:s,children:i,line:Lc,column:Mi,length:o,return:"",siblings:a}}function Rn(e,t){return Gf(Dc("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Ks(e){for(;e.root;)e=Rn(e.root,{children:[e]});lo(e,e.siblings)}function zj(){return it}function Uj(){return it=Cr>0?dt(Bi,--Cr):0,Mi--,it===10&&(Mi=1,Lc--),it}function Kr(){return it=Cr<vb?dt(Bi,Cr++):0,Mi++,it===10&&(Mi=1,Lc++),it}function Bn(){return dt(Bi,Cr)}function vl(){return Cr}function Vc(e,t){return Is(Bi,e,t)}function Zo(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Bj(e){return Lc=Mi=1,vb=Ur(Bi=e),Cr=0,[]}function Wj(e){return Bi="",e}function Du(e){return mb(Vc(Cr-1,Kf(e===91?e+2:e===40?e+1:e)))}function Hj(e){for(;(it=Bn())&&it<33;)Kr();return Zo(e)>2||Zo(it)>3?"":" "}function qj(e,t){for(;--t&&Kr()&&!(it<48||it>102||it>57&&it<65||it>70&&it<97););return Vc(e,vl()+(t<6&&Bn()==32&&Kr()==32))}function Kf(e){for(;Kr();)switch(it){case e:return Cr;case 34:case 39:e!==34&&e!==39&&Kf(it);break;case 40:e===41&&Kf(e);break;case 92:Kr();break}return Cr}function Gj(e,t){for(;Kr()&&e+it!==57;)if(e+it===84&&Bn()===47)break;return"/*"+Vc(t,Cr-1)+"*"+Op(e===47?e:Kr())}function Kj(e){for(;!Zo(Bn());)Kr();return Vc(e,Cr)}function Jg(e){return Wj(yl("",null,null,null,[""],e=Bj(e),0,[0],e))}function yl(e,t,r,n,s,i,o,a,l){for(var u=0,d=0,h=o,f=0,g=0,y=0,b=1,x=1,v=1,m=0,w="",S=s,_=i,E=n,C=w;x;)switch(y=m,m=Kr()){case 40:if(y!=108&&dt(C,h-1)==58){gl(C+=be(Du(m),"&","&\f"),"&\f",pb(u?a[u-1]:0))!=-1&&(v=-1);break}case 34:case 39:case 91:C+=Du(m);break;case 9:case 10:case 13:case 32:C+=Hj(y);break;case 92:C+=qj(vl()-1,7);continue;case 47:switch(Bn()){case 42:case 47:lo(Xj(Gj(Kr(),vl()),t,r,l),l),(Zo(y||1)==5||Zo(Bn()||1)==5)&&Ur(C)&&Is(C,-1,void 0)!==" "&&(C+=" ");break;default:C+="/"}break;case 123*b:a[u++]=Ur(C)*v;case 125*b:case 59:case 0:switch(m){case 0:case 125:x=0;case 59+d:v==-1&&(C=be(C,/\f/g,"")),g>0&&(Ur(C)-h||b===0&&y===47)&&lo(g>32?Zg(C+";",n,r,h-1,l):Zg(be(C," ","")+";",n,r,h-2,l),l);break;case 59:C+=";";default:if(lo(E=Yg(C,t,r,u,d,s,a,w,S=[],_=[],h,i),i),m===123)if(d===0)yl(C,t,E,E,S,i,h,a,_);else{switch(f){case 99:if(dt(C,3)===110)break;case 108:if(dt(C,2)===97)break;default:d=0;case 100:case 109:case 115:}d?yl(e,E,E,n&&lo(Yg(e,E,E,0,0,s,a,w,s,S=[],h,_),_),s,_,h,a,n?S:_):yl(C,E,E,E,[""],_,0,a,_)}}u=d=g=0,b=v=1,w=C="",h=o;break;case 58:h=1+Ur(C),g=y;default:if(b<1){if(m==123)--b;else if(m==125&&b++==0&&Uj()==125)continue}switch(C+=Op(m),m*b){case 38:v=d>0?1:(C+="\f",-1);break;case 44:a[u++]=(Ur(C)-1)*v,v=1;break;case 64:Bn()===45&&(C+=Du(Kr())),f=Bn(),d=h=Ur(w=C+=Kj(vl())),m++;break;case 45:y===45&&Ur(C)==2&&(b=0)}}return i}function Yg(e,t,r,n,s,i,o,a,l,u,d,h){for(var f=s-1,g=s===0?i:[""],y=gb(g),b=0,x=0,v=0;b<n;++b)for(var m=0,w=Is(e,f+1,f=pb(x=o[b])),S=e;m<y;++m)(S=mb(x>0?g[m]+" "+w:be(w,/&\f/g,g[m])))&&(l[v++]=S);return Dc(e,t,r,s===0?Pp:a,l,u,d,h)}function Xj(e,t,r,n){return Dc(e,t,r,fb,Op(zj()),Is(e,2,-2),0,n)}function Zg(e,t,r,n,s){return Dc(e,t,r,Rp,Is(e,0,n),Is(e,n+1,-1),n,s)}function yb(e,t,r){switch(Dj(e,t)){case 5103:return Te+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:case 6391:case 5879:case 5623:case 6135:case 4599:return Te+e+e;case 4855:return Te+e.replace("add","source-over").replace("substract","source-out").replace("intersect","source-in").replace("exclude","xor")+e;case 4789:return Eo+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Te+e+Eo+e+Ve+e+e;case 5936:switch(dt(e,t+11)){case 114:return Te+e+Ve+be(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Te+e+Ve+be(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Te+e+Ve+be(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Te+e+Ve+e+e;case 6165:return Te+e+Ve+"flex-"+e+e;case 5187:return Te+e+be(e,/(\w+).+(:[^]+)/,Te+"box-$1$2"+Ve+"flex-$1$2")+e;case 5443:return Te+e+Ve+"flex-item-"+be(e,/flex-|-self/g,"")+(hn(e,/flex-|baseline/)?"":Ve+"grid-row-"+be(e,/flex-|-self/g,""))+e;case 4675:return Te+e+Ve+"flex-line-pack"+be(e,/align-content|flex-|-self/g,"")+e;case 5548:return Te+e+Ve+be(e,"shrink","negative")+e;case 5292:return Te+e+Ve+be(e,"basis","preferred-size")+e;case 6060:return Te+"box-"+be(e,"-grow","")+Te+e+Ve+be(e,"grow","positive")+e;case 4554:return Te+be(e,/([^-])(transform)/g,"$1"+Te+"$2")+e;case 6187:return be(be(be(e,/(zoom-|grab)/,Te+"$1"),/(image-set)/,Te+"$1"),e,"")+e;case 5495:case 3959:return be(e,/(image-set\([^]*)/,Te+"$1$`$1");case 4968:return be(be(e,/(.+:)(flex-)?(.*)/,Te+"box-pack:$3"+Ve+"flex-pack:$3"),/space-between/,"justify")+Te+e+e;case 4200:if(!hn(e,/flex-|baseline/))return Ve+"grid-column-align"+Is(e,t)+e;break;case 2592:case 3360:return Ve+be(e,"template-","")+e;case 4384:case 3616:return r&&r.some(function(n,s){return t=s,hn(n.props,/grid-\w+-end/)})?~gl(e+(r=r[t].value),"span",0)?e:Ve+be(e,"-start","")+e+Ve+"grid-row-span:"+(~gl(r,"span",0)?hn(r,/\d+/):+hn(r,/\d+/)-+hn(e,/\d+/))+";":Ve+be(e,"-start","")+e;case 4896:case 4128:return r&&r.some(function(n){return hn(n.props,/grid-\w+-start/)})?e:Ve+be(be(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return be(e,/(.+)-inline(.+)/,Te+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ur(e)-1-t>6)switch(dt(e,t+1)){case 109:if(dt(e,t+4)!==45)break;case 102:return be(e,/(.+:)(.+)-([^]+)/,"$1"+Te+"$2-$3$1"+Eo+(dt(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~gl(e,"stretch",0)?yb(be(e,"stretch","fill-available"),t,r)+e:e}break;case 5152:case 5920:return be(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,s,i,o,a,l,u){return Ve+s+":"+i+u+(o?Ve+s+"-span:"+(a?l:+l-+i)+u:"")+e});case 4949:if(dt(e,t+6)===121)return be(e,":",":"+Te)+e;break;case 6444:switch(dt(e,dt(e,14)===45?18:11)){case 120:return be(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Te+(dt(e,14)===45?"inline-":"")+"box$3$1"+Te+"$2$3$1"+Ve+"$2box$3")+e;case 100:return be(e,":",":"+Ve)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return be(e,"scroll-","scroll-snap-")+e}return e}function ea(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function ev(e,t,r,n){switch(e.type){case Lj:if(e.children.length)break;case Mj:case Fj:case Rp:return e.return=e.return||e.value;case fb:return"";case hb:return e.return=e.value+"{"+ea(e.children,n)+"}";case Pp:if(!Ur(e.value=e.props.join(",")))return""}return Ur(r=ea(e.children,n))?e.return=e.value+"{"+r+"}":""}function Qj(e){var t=gb(e);return function(r,n,s,i){for(var o="",a=0;a<t;a++)o+=e[a](r,n,s,i)||"";return o}}function Jj(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case Rp:e.return=yb(e.value,e.length,r);return;case hb:return ea([Rn(e,{value:be(e.value,"@","@"+Te)})],n);case Pp:if(e.length)return Vj(r=e.props,function(s){switch(hn(s,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ks(Rn(e,{props:[be(s,/:(read-\w+)/,":"+Eo+"$1")]})),Ks(Rn(e,{props:[s]})),Gf(e,{props:Qg(r,n)});break;case"::placeholder":Ks(Rn(e,{props:[be(s,/:(plac\w+)/,":"+Te+"input-$1")]})),Ks(Rn(e,{props:[be(s,/:(plac\w+)/,":"+Eo+"$1")]})),Ks(Rn(e,{props:[be(s,/:(plac\w+)/,Ve+"input-$1")]})),Ks(Rn(e,{props:[s]})),Gf(e,{props:Qg(r,n)});break}return""})}}const tv="data-ant-cssinjs-cache-path",wb="_FILE_STYLE__";let Es,bb=!0;function Yj(){var e;if(!Es&&(Es={},Er())){const t=document.createElement("div");t.className=tv,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);let r=getComputedStyle(t).content||"";r=r.replace(/^"/,"").replace(/"$/,""),r.split(";").forEach(s=>{const[i,o]=s.split(":");Es[i]=o});const n=document.querySelector(`style[${tv}]`);n&&(bb=!1,(e=n.parentNode)==null||e.removeChild(n)),document.body.removeChild(t)}}function Zj(e){return Yj(),!!Es[e]}function eN(e){const t=Es[e];let r=null;if(t&&Er())if(bb)r=wb;else{const n=document.querySelector(`style[${bn}="${Es[e]}"]`);n?r=n.innerHTML:delete Es[e]}return[r,t]}const tN="_skip_check_",xb="_multi_value_";function Vu(e,t){return(t?ea(Jg(e),Qj([Jj,ev])):ea(Jg(e),ev)).replace(/\{%%%\:[^;];}/g,";")}function rN(e){return typeof e=="object"&&e&&(tN in e||xb in e)}function rv(e,t,r="high"){if(!t)return e;const n=ub({hashCls:t,hashPriority:r});return e.split(",").map(i=>{var u;const o=i.trim().split(/\s+/);let a=o[0]||"";const l=((u=a.match(/^\w+/))==null?void 0:u[0])||"";return a=`${l}${n}${a.slice(l.length)}`,[a,...o.slice(1)].join(" ")}).join(",")}const Xf=(e,t={},{root:r,injectHash:n,parentSelectors:s}={root:!0,parentSelectors:[]})=>{const{hashId:i,layer:o,path:a,hashPriority:l,transformers:u=[],linters:d=[]}=t;let h="",f={};function g(x){const v=x.getName(i);if(!f[v]){const[m]=Xf(x.style,t,{root:!1,parentSelectors:s});f[v]=`@keyframes ${x.getName(i)}${m}`}}function y(x,v=[]){return x.forEach(m=>{Array.isArray(m)?y(m,v):m&&v.push(m)}),v}return y(Array.isArray(e)?e:[e]).forEach(x=>{const v=typeof x=="string"&&!r?{}:x;if(typeof v=="string")h+=`${v}
`;else if(v._keyframe)g(v);else{const m=u.reduce((w,S)=>{var _;return((_=S==null?void 0:S.visit)==null?void 0:_.call(S,w))||w},v);Object.keys(m).forEach(w=>{const S=m[w];if(typeof S=="object"&&S&&(w!=="animationName"||!S._keyframe)&&!rN(S)){let _=!1,E=w.trim(),C=!1;(r||n)&&i?E.startsWith("@")?_=!0:E==="&"?E=rv("",i,l):E=rv(w,i,l):r&&!i&&(E==="&"||E==="")&&(E="",C=!0);const[k,T]=Xf(S,t,{root:C,injectHash:_,parentSelectors:[...s,E]});f={...f,...T},h+=`${E}${k}`}else{let _=function(C,k){const T=C.replace(/[A-Z]/g,A=>`-${A.toLowerCase()}`);let P=k;!Ij[C]&&typeof P=="number"&&P!==0&&(P=`${P}px`),C==="animationName"&&(k!=null&&k._keyframe)&&(g(k),P=k.getName(i)),h+=`${T}:${P};`};const E=(S==null?void 0:S.value)??S;typeof S=="object"&&(S!=null&&S[xb])&&Array.isArray(E)?E.forEach(C=>{_(w,C)}):_(w,E)}})}}),r?o&&(h&&(h=`@layer ${o.name} {${h}}`),o.dependencies&&(f[`@layer ${o.name}`]=o.dependencies.map(x=>`@layer ${x}, ${o.name};`).join(`
`))):h=`{${h}}`,[h,f]};function Sb(e,t){return Yo(`${e.join("%")}${t}`)}const nN="style";function Qf(e,t){const{path:r,hashId:n,layer:s,nonce:i,clientOnly:o,order:a=0}=e,{mock:l,hashPriority:u,container:d,transformers:h,linters:f,cache:g,layer:y,autoPrefix:b}=p.useContext(da),x=[n||""];y&&x.push("layer"),x.push(...r);let v=qf;$p(nN,x,()=>{const m=x.join("|");if(Zj(m)){const[k,T]=eN(m);if(k)return[k,T,{},o,a]}const w=t(),[S,_]=Xf(w,{hashId:n,hashPriority:u,layer:y?s:void 0,path:r.join("-"),transformers:h,linters:f}),E=Vu(S,b||!1),C=Sb(x,E);return[E,C,_,o,a]},(m,w)=>{const[,S]=m;w&&qf&&Wo(S,{mark:bn,attachTo:d})},m=>{const[w,S,_,,E]=m;if(v&&w!==wb){const C={mark:bn,prepend:y?!1:"queue",attachTo:d,priority:E},k=typeof i=="function"?i():i;k&&(C.csp={nonce:k});const T=[],P=[];Object.keys(_).forEach(D=>{D.startsWith("@layer")?T.push(D):P.push(D)}),T.forEach(D=>{Yn(Vu(_[D],b||!1),`_layer-${D}`,{...C,prepend:!0})});const A=Yn(w,S,C);A[gn]=g.instanceId,P.forEach(D=>{Yn(Vu(_[D],b||!1),`_effect-${D}`,C)})}})}const sN="cssVar",iN=(e,t)=>{const{key:r,prefix:n,unitless:s,ignore:i,token:o,hashId:a,scope:l=""}=e,{cache:{instanceId:u},container:d,hashPriority:h}=p.useContext(da),{_tokenKey:f}=o,g=[...e.path,r,l,f];return $p(sN,g,()=>{const b=t(),[x,v]=db(b,r,{prefix:n,unitless:s,ignore:i,scope:l,hashPriority:h,hashCls:a}),m=Sb(g,v);return[x,v,m,r]},([,,b])=>{qf&&Wo(b,{mark:bn,attachTo:d})},([,b,x])=>{if(!b)return;const v=Yn(b,x,{mark:bn,prepend:"queue",attachTo:d,priority:-999});v[gn]=u,v.setAttribute(Tp,r)})};function Xs(e){return e.notSplit=!0,e}Xs(["borderTop","borderBottom"]),Xs(["borderTop"]),Xs(["borderBottom"]),Xs(["borderLeft","borderRight"]),Xs(["borderLeft"]),Xs(["borderRight"]);function at(e){"@babel/helpers - typeof";return at=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},at(e)}function oN(e){if(Array.isArray(e))return e}function aN(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,a=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return a}}function lN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _b(e,t){return oN(e)||aN(e,t)||sb(e,t)||lN()}function cN(e,t){if(at(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(at(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eb(e){var t=cN(e,"string");return at(t)=="symbol"?t:t+""}function Me(e,t,r){return(t=Eb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nv(Object(r),!0).forEach(function(n){Me(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ls(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Eb(n.key),n)}}function Ds(e,t,r){return t&&uN(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ji(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ta(e,t){return ta=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ta(e,t)}function Cb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ta(e,t)}function ra(e){return ra=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ra(e)}function Ap(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ap=function(){return!!e})()}function dN(e,t){if(t&&(at(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ji(e)}function kb(e){var t=Ap();return function(){var r,n=ra(e);if(t){var s=ra(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return dN(this,r)}}var fN=Ds(function e(){Ls(this,e)}),jb="CALC_UNIT",hN=new RegExp(jb,"g");function zu(e){return typeof e=="number"?"".concat(e).concat(jb):e}var pN=function(e){Cb(r,e);var t=kb(r);function r(n,s){var i;Ls(this,r),i=t.call(this),Me(ji(i),"result",""),Me(ji(i),"unitlessCssVar",void 0),Me(ji(i),"lowPriority",void 0);var o=at(n);return i.unitlessCssVar=s,n instanceof r?i.result="(".concat(n.result,")"):o==="number"?i.result=zu(n):o==="string"&&(i.result=n),i}return Ds(r,[{key:"add",value:function(s){return s instanceof r?this.result="".concat(this.result," + ").concat(s.getResult()):(typeof s=="number"||typeof s=="string")&&(this.result="".concat(this.result," + ").concat(zu(s))),this.lowPriority=!0,this}},{key:"sub",value:function(s){return s instanceof r?this.result="".concat(this.result," - ").concat(s.getResult()):(typeof s=="number"||typeof s=="string")&&(this.result="".concat(this.result," - ").concat(zu(s))),this.lowPriority=!0,this}},{key:"mul",value:function(s){return this.lowPriority&&(this.result="(".concat(this.result,")")),s instanceof r?this.result="".concat(this.result," * ").concat(s.getResult(!0)):(typeof s=="number"||typeof s=="string")&&(this.result="".concat(this.result," * ").concat(s)),this.lowPriority=!1,this}},{key:"div",value:function(s){return this.lowPriority&&(this.result="(".concat(this.result,")")),s instanceof r?this.result="".concat(this.result," / ").concat(s.getResult(!0)):(typeof s=="number"||typeof s=="string")&&(this.result="".concat(this.result," / ").concat(s)),this.lowPriority=!1,this}},{key:"getResult",value:function(s){return this.lowPriority||s?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(s){var i=this,o=s||{},a=o.unit,l=!0;return typeof a=="boolean"?l=a:Array.from(this.unitlessCssVar).some(function(u){return i.result.includes(u)})&&(l=!1),this.result=this.result.replace(hN,l?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),r}(fN),mN=function(t,r){var n=pN;return function(s){return new n(s,r)}},sv=function(t,r){return"".concat([r,t.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function iv(e,t,r,n){var s=Ye({},t[e]);if(n!=null&&n.deprecatedTokens){var i=n.deprecatedTokens;i.forEach(function(a){var l=_b(a,2),u=l[0],d=l[1];if(s!=null&&s[u]||s!=null&&s[d]){var h;(h=s[d])!==null&&h!==void 0||(s[d]=s==null?void 0:s[u])}})}var o=Ye(Ye({},r),s);return Object.keys(o).forEach(function(a){o[a]===t[a]&&delete o[a]}),o}var Nb=typeof CSSINJS_STATISTIC<"u",Jf=!0;function Vs(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!Nb)return Object.assign.apply(Object,[{}].concat(t));Jf=!1;var n={};return t.forEach(function(s){if(at(s)==="object"){var i=Object.keys(s);i.forEach(function(o){Object.defineProperty(n,o,{configurable:!0,enumerable:!0,get:function(){return s[o]}})})}}),Jf=!0,n}var ov={};function gN(){}var vN=function(t){var r,n=t,s=gN;return Nb&&typeof Proxy<"u"&&(r=new Set,n=new Proxy(t,{get:function(o,a){if(Jf){var l;(l=r)===null||l===void 0||l.add(a)}return o[a]}}),s=function(o,a){var l;ov[o]={global:Array.from(r),component:Ye(Ye({},(l=ov[o])===null||l===void 0?void 0:l.component),a)}}),{token:n,keys:r,flush:s}};function av(e,t,r){if(typeof r=="function"){var n;return r(Vs(t,(n=t[e])!==null&&n!==void 0?n:{}))}return r??{}}function yN(e){return{max:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return"max(".concat(n.map(function(i){return $e(i)}).join(","),")")},min:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return"min(".concat(n.map(function(i){return $e(i)}).join(","),")")}}}var wN=1e3*60*10,bN=function(){function e(){Ls(this,e),Me(this,"map",new Map),Me(this,"objectIDMap",new WeakMap),Me(this,"nextID",0),Me(this,"lastAccessBeat",new Map),Me(this,"accessBeat",0)}return Ds(e,[{key:"set",value:function(r,n){this.clear();var s=this.getCompositeKey(r);this.map.set(s,n),this.lastAccessBeat.set(s,Date.now())}},{key:"get",value:function(r){var n=this.getCompositeKey(r),s=this.map.get(n);return this.lastAccessBeat.set(n,Date.now()),this.accessBeat+=1,s}},{key:"getCompositeKey",value:function(r){var n=this,s=r.map(function(i){return i&&at(i)==="object"?"obj_".concat(n.getObjectID(i)):"".concat(at(i),"_").concat(i)});return s.join("|")}},{key:"getObjectID",value:function(r){if(this.objectIDMap.has(r))return this.objectIDMap.get(r);var n=this.nextID;return this.objectIDMap.set(r,n),this.nextID+=1,n}},{key:"clear",value:function(){var r=this;if(this.accessBeat>1e4){var n=Date.now();this.lastAccessBeat.forEach(function(s,i){n-s>wN&&(r.map.delete(i),r.lastAccessBeat.delete(i))}),this.accessBeat=0}}}]),e}(),lv=new bN;function xN(e,t){return Pe.useMemo(function(){var r=lv.get(t);if(r)return r;var n=e();return lv.set(t,n),n},t)}var SN=function(){return{}};function _N(e){var t=e.useCSP,r=t===void 0?SN:t,n=e.useToken,s=e.usePrefix,i=e.getResetStyles,o=e.getCommonStyle,a=e.getCompUnitless;function l(f,g,y,b){var x=Array.isArray(f)?f[0]:f;function v(k){return"".concat(String(x)).concat(k.slice(0,1).toUpperCase()).concat(k.slice(1))}var m=(b==null?void 0:b.unitless)||{},w=typeof a=="function"?a(f):{},S=Ye(Ye({},w),{},Me({},v("zIndexPopup"),!0));Object.keys(m).forEach(function(k){S[v(k)]=m[k]});var _=Ye(Ye({},b),{},{unitless:S,prefixToken:v}),E=d(f,g,y,_),C=u(x,y,_);return function(k){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k,P=E(k,T),A=C(T);return[P,A]}}function u(f,g,y){var b=y.unitless,x=y.prefixToken,v=y.ignore;return function(m){var w=n(),S=w.cssVar,_=w.realToken;return iN({path:[f],prefix:S.prefix,key:S.key,unitless:b,ignore:v,token:_,scope:m},function(){var E=av(f,_,g),C=iv(f,_,E,{deprecatedTokens:y==null?void 0:y.deprecatedTokens});return E&&Object.keys(E).forEach(function(k){C[x(k)]=C[k],delete C[k]}),C}),S==null?void 0:S.key}}function d(f,g,y){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},x=Array.isArray(f)?f:[f,f],v=_b(x,1),m=v[0],w=x.join("-"),S=e.layer||{name:"antd"};return function(_){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_,C=n(),k=C.theme,T=C.realToken,P=C.hashId,A=C.token,D=C.cssVar,W=C.zeroRuntime,Q=p.useMemo(function(){return W},[]);if(Q)return P;var q=s(),G=q.rootPrefixCls,V=q.iconPrefixCls,R=r(),U="css",H=xN(function(){var fe=new Set;return Object.keys(b.unitless||{}).forEach(function(j){fe.add(ml(j,D.prefix)),fe.add(ml(j,sv(m,D.prefix)))}),mN(U,fe)},[U,m,D==null?void 0:D.prefix]),se=yN(),oe=se.max,Ee=se.min,ye={theme:k,token:A,hashId:P,nonce:function(){return R.nonce},clientOnly:b.clientOnly,layer:S,order:b.order||-999};return typeof i=="function"&&Qf(Ye(Ye({},ye),{},{clientOnly:!1,path:["Shared",G]}),function(){return i(A,{prefix:{rootPrefixCls:G,iconPrefixCls:V},csp:R})}),Qf(Ye(Ye({},ye),{},{path:[w,_,V]}),function(){if(b.injectStyle===!1)return[];var fe=vN(A),j=fe.token,I=fe.flush,O=av(m,T,y),z=".".concat(_),K=iv(m,T,O,{deprecatedTokens:b.deprecatedTokens});O&&at(O)==="object"&&Object.keys(O).forEach(function(ee){O[ee]="var(".concat(ml(ee,sv(m,D.prefix)),")")});var N=Vs(j,{componentCls:z,prefixCls:_,iconCls:".".concat(V),antCls:".".concat(G),calc:H,max:oe,min:Ee},O),B=g(N,{hashId:P,prefixCls:_,rootPrefixCls:G,iconPrefixCls:V});I(m,K);var Z=typeof o=="function"?o(N,_,E,b.resetFont):null;return[b.resetStyle===!1?null:Z,B]}),P}}function h(f,g,y){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},x=d(f,g,y,Ye({resetStyle:!1,order:-998},b)),v=function(w){var S=w.prefixCls,_=w.rootCls,E=_===void 0?S:_;return x(S,E),null};return v}return{genStyleHooks:l,genSubStyleComponent:h,genComponentStyleHook:d}}function EN(e){return(e+8)/e}function CN(e){const t=Array.from({length:10}).map((r,n)=>{const s=n-1,i=e*Math.E**(s/5),o=n>1?Math.floor(i):Math.ceil(i);return Math.floor(o/2)*2});return t[1]=e,t.map(r=>({size:r,lineHeight:EN(r)}))}const kN="6.2.0",Tb={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},na={...Tb,colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0};function jN(e,{generateColorPalettes:t,generateNeutralColorPalettes:r}){const{colorSuccess:n,colorWarning:s,colorError:i,colorInfo:o,colorPrimary:a,colorBgBase:l,colorTextBase:u}=e,d=t(a),h=t(n),f=t(s),g=t(i),y=t(o),b=r(l,u),x=e.colorLink||e.colorInfo,v=t(x),m=new ht(g[1]).mix(new ht(g[3]),50).toHexString();return{...b,colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:h[1],colorSuccessBgHover:h[2],colorSuccessBorder:h[3],colorSuccessBorderHover:h[4],colorSuccessHover:h[4],colorSuccess:h[6],colorSuccessActive:h[7],colorSuccessTextHover:h[8],colorSuccessText:h[9],colorSuccessTextActive:h[10],colorErrorBg:g[1],colorErrorBgHover:g[2],colorErrorBgFilledHover:m,colorErrorBgActive:g[3],colorErrorBorder:g[3],colorErrorBorderHover:g[4],colorErrorHover:g[5],colorError:g[6],colorErrorActive:g[7],colorErrorTextHover:g[8],colorErrorText:g[9],colorErrorTextActive:g[10],colorWarningBg:f[1],colorWarningBgHover:f[2],colorWarningBorder:f[3],colorWarningBorderHover:f[4],colorWarningHover:f[4],colorWarning:f[6],colorWarningActive:f[7],colorWarningTextHover:f[8],colorWarningText:f[9],colorWarningTextActive:f[10],colorInfoBg:y[1],colorInfoBgHover:y[2],colorInfoBorder:y[3],colorInfoBorderHover:y[4],colorInfoHover:y[4],colorInfo:y[6],colorInfoActive:y[7],colorInfoTextHover:y[8],colorInfoText:y[9],colorInfoTextActive:y[10],colorLinkHover:v[4],colorLink:v[6],colorLinkActive:v[7],colorBgMask:new ht("#000").setA(.45).toRgbString(),colorWhite:"#fff"}}const NN=e=>{let t=e,r=e,n=e,s=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?r=4:e<8&&e>=7?r=5:e<14&&e>=8?r=6:e<16&&e>=14?r=7:e>=16&&(r=8),e<6&&e>=2?n=1:e>=6&&(n=2),e>4&&e<8?s=4:e>=8&&(s=6),{borderRadius:e,borderRadiusXS:n,borderRadiusSM:r,borderRadiusLG:t,borderRadiusOuter:s}};function TN(e){const{motionUnit:t,motionBase:r,borderRadius:n,lineWidth:s}=e;return{motionDurationFast:`${(r+t).toFixed(1)}s`,motionDurationMid:`${(r+t*2).toFixed(1)}s`,motionDurationSlow:`${(r+t*3).toFixed(1)}s`,lineWidthBold:s+1,...NN(n)}}const $N=e=>{const{controlHeight:t}=e;return{controlHeightSM:t*.75,controlHeightXS:t*.5,controlHeightLG:t*1.25}},PN=e=>{const t=CN(e),r=t.map(d=>d.size),n=t.map(d=>d.lineHeight),s=r[1],i=r[0],o=r[2],a=n[1],l=n[0],u=n[2];return{fontSizeSM:i,fontSize:s,fontSizeLG:o,fontSizeXL:r[3],fontSizeHeading1:r[6],fontSizeHeading2:r[5],fontSizeHeading3:r[4],fontSizeHeading4:r[3],fontSizeHeading5:r[2],lineHeight:a,lineHeightLG:u,lineHeightSM:l,fontHeight:Math.round(a*s),fontHeightLG:Math.round(u*o),fontHeightSM:Math.round(l*i),lineHeightHeading1:n[6],lineHeightHeading2:n[5],lineHeightHeading3:n[4],lineHeightHeading4:n[3],lineHeightHeading5:n[2]}};function RN(e){const{sizeUnit:t,sizeStep:r}=e;return{sizeXXL:t*(r+8),sizeXL:t*(r+4),sizeLG:t*(r+2),sizeMD:t*(r+1),sizeMS:t*r,size:t*r,sizeSM:t*(r-1),sizeXS:t*(r-2),sizeXXS:t*(r-3)}}const gr=(e,t)=>new ht(e).setA(t).toRgbString(),Qs=(e,t)=>new ht(e).darken(t).toHexString(),ON=e=>{const t=dp(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},AN=(e,t)=>{const r=e||"#fff",n=t||"#000";return{colorBgBase:r,colorTextBase:n,colorText:gr(n,.88),colorTextSecondary:gr(n,.65),colorTextTertiary:gr(n,.45),colorTextQuaternary:gr(n,.25),colorFill:gr(n,.15),colorFillSecondary:gr(n,.06),colorFillTertiary:gr(n,.04),colorFillQuaternary:gr(n,.02),colorBgSolid:gr(n,1),colorBgSolidHover:gr(n,.75),colorBgSolidActive:gr(n,.95),colorBgLayout:Qs(r,4),colorBgContainer:Qs(r,0),colorBgElevated:Qs(r,0),colorBgSpotlight:gr(n,.85),colorBgBlur:"transparent",colorBorder:Qs(r,15),colorBorderDisabled:Qs(r,15),colorBorderSecondary:Qs(r,6)}};function IN(e){Su.pink=Su.magenta,_u.pink=_u.magenta;const t=Object.keys(Tb).map(r=>{const n=e[r]===Su[r]?_u[r]:dp(e[r]);return Array.from({length:10},()=>1).reduce((s,i,o)=>(s[`${r}-${o+1}`]=n[o],s[`${r}${o+1}`]=n[o],s),{})}).reduce((r,n)=>(r={...r,...n},r),{});return{...e,...t,...jN(e,{generateColorPalettes:ON,generateNeutralColorPalettes:AN}),...PN(e.fontSize),...RN(e),...$N(e),...TN(e)}}const $b=Hf(IN),Yf={token:na,override:{override:na},hashed:!0},Pb=Pe.createContext(Yf);function Uu(e){return e>=0&&e<=255}function Ba(e,t){const{r,g:n,b:s,a:i}=new ht(e).toRgb();if(i<1)return e;const{r:o,g:a,b:l}=new ht(t).toRgb();for(let u=.01;u<=1;u+=.01){const d=Math.round((r-o*(1-u))/u),h=Math.round((n-a*(1-u))/u),f=Math.round((s-l*(1-u))/u);if(Uu(d)&&Uu(h)&&Uu(f))return new ht({r:d,g:h,b:f,a:Math.round(u*100)/100}).toRgbString()}return new ht({r,g:n,b:s,a:1}).toRgbString()}function MN(e){const{override:t,...r}=e,n={...t};Object.keys(na).forEach(f=>{delete n[f]});const s={...r,...n},i=480,o=576,a=768,l=992,u=1200,d=1600;if(s.motion===!1){const f="0s";s.motionDurationFast=f,s.motionDurationMid=f,s.motionDurationSlow=f}return{...s,colorFillContent:s.colorFillSecondary,colorFillContentHover:s.colorFill,colorFillAlter:s.colorFillQuaternary,colorBgContainerDisabled:s.colorFillTertiary,colorBorderBg:s.colorBgContainer,colorSplit:Ba(s.colorBorderSecondary,s.colorBgContainer),colorTextPlaceholder:s.colorTextQuaternary,colorTextDisabled:s.colorTextQuaternary,colorTextHeading:s.colorText,colorTextLabel:s.colorTextSecondary,colorTextDescription:s.colorTextTertiary,colorTextLightSolid:s.colorWhite,colorHighlight:s.colorError,colorBgTextHover:s.colorFillSecondary,colorBgTextActive:s.colorFill,colorIcon:s.colorTextTertiary,colorIconHover:s.colorText,colorErrorOutline:Ba(s.colorErrorBg,s.colorBgContainer),colorWarningOutline:Ba(s.colorWarningBg,s.colorBgContainer),fontSizeIcon:s.fontSizeSM,lineWidthFocus:s.lineWidth*3,lineWidth:s.lineWidth,controlOutlineWidth:s.lineWidth*2,controlInteractiveSize:s.controlHeight/2,controlItemBgHover:s.colorFillTertiary,controlItemBgActive:s.colorPrimaryBg,controlItemBgActiveHover:s.colorPrimaryBgHover,controlItemBgActiveDisabled:s.colorFill,controlTmpOutline:s.colorFillQuaternary,controlOutline:Ba(s.colorPrimaryBg,s.colorBgContainer),lineType:s.lineType,borderRadius:s.borderRadius,borderRadiusXS:s.borderRadiusXS,borderRadiusSM:s.borderRadiusSM,borderRadiusLG:s.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:s.sizeXXS,paddingXS:s.sizeXS,paddingSM:s.sizeSM,padding:s.size,paddingMD:s.sizeMD,paddingLG:s.sizeLG,paddingXL:s.sizeXL,paddingContentHorizontalLG:s.sizeLG,paddingContentVerticalLG:s.sizeMS,paddingContentHorizontal:s.sizeMS,paddingContentVertical:s.sizeSM,paddingContentHorizontalSM:s.size,paddingContentVerticalSM:s.sizeXS,marginXXS:s.sizeXXS,marginXS:s.sizeXS,marginSM:s.sizeSM,margin:s.size,marginMD:s.sizeMD,marginLG:s.sizeLG,marginXL:s.sizeXL,marginXXL:s.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:i,screenXSMin:i,screenXSMax:o-1,screenSM:o,screenSMMin:o,screenSMMax:a-1,screenMD:a,screenMDMin:a,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:u-1,screenXL:u,screenXLMin:u,screenXLMax:d-1,screenXXL:d,screenXXLMin:d,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new ht("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new ht("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new ht("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)",...n}}const Rb={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},FN={motionBase:!0,motionUnit:!0},LN={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},Ob=(e,t,r)=>{const n=r.getDerivativeToken(e),{override:s,...i}=t;let o={...n,override:s};return o=MN(o),i&&Object.entries(i).forEach(([a,l])=>{const{theme:u,...d}=l;let h=d;u&&(h=Ob({...o,...d},{override:d},u)),o[a]=h}),o};function Ip(){const{token:e,hashed:t,theme:r,override:n,cssVar:s,zeroRuntime:i}=Pe.useContext(Pb),o={prefix:(s==null?void 0:s.prefix)??"ant",key:(s==null?void 0:s.key)??"css-var-root"},a=`${kN}-${t||""}`,l=r||$b,[u,d,h]=Aj(l,[na,e],{salt:a,override:n,getComputedToken:Ob,cssVar:{...o,unitless:Rb,ignore:FN,preserve:LN}});return[l,h,t?d:"",u,o,!!i]}const tc=(e,t=!1)=>({boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}),Ab=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),DN=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),VN=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active, &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),zN=(e,t,r,n)=>{const s=`[class^="${t}"], [class*=" ${t}"]`,i=r?`.${r}`:s,o={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let a={};return n!==!1&&(a={fontFamily:e.fontFamily,fontSize:e.fontSize}),{[i]:{...a,...o,[s]:o}}},Ib=e=>({[`.${e}`]:{...Ab(),[`.${e} .${e}-icon`]:{display:"block"}}}),{genStyleHooks:fa}=_N({usePrefix:()=>{const{getPrefixCls:e,iconPrefixCls:t}=p.useContext(Qr);return{rootPrefixCls:e(),iconPrefixCls:t}},useToken:()=>{const[e,t,r,n,s,i]=Ip();return{theme:e,realToken:t,hashId:r,token:n,cssVar:s,zeroRuntime:i}},useCSP:()=>{const{csp:e}=p.useContext(Qr);return e??{}},getResetStyles:(e,t)=>{const r=VN(e);return[r,{"&":r},Ib((t==null?void 0:t.prefix.iconPrefixCls)??Np)]},getCommonStyle:zN,getCompUnitless:()=>Rb}),Mb=(e,t)=>{const r=`--${e.replace(/\./g,"")}-${t}-`;return[i=>`${r}${i}`,(i,o)=>o?`var(${r}${i}, ${o})`:`var(${r}${i})`]},UN=(e,t)=>(Ip(),Qf({hashId:"",path:["ant-design-icons",e],nonce:()=>t==null?void 0:t.nonce,layer:{name:"antd"}},()=>Ib(e))),Fb=p.createContext({});function BN({children:e,...t}){return p.createElement(Fb.Provider,{value:t},e)}function WN(e){const[,t]=p.useReducer(i=>i+1,0),r=p.useRef(e),n=Bt(()=>r.current),s=Bt(i=>{r.current=typeof i=="function"?i(r.current):i,t()});return[n,s]}const pn="none",Wa="appear",Ha="enter",qa="leave",cv="none",Br="prepare",vi="start",yi="active",Mp="end",Lb="prepared";function uv(e,t){const r={};return r[e.toLowerCase()]=t.toLowerCase(),r[`Webkit${e}`]=`webkit${t}`,r[`Moz${e}`]=`moz${t}`,r[`ms${e}`]=`MS${t}`,r[`O${e}`]=`o${t.toLowerCase()}`,r}function HN(e,t){const r={animationend:uv("Animation","AnimationEnd"),transitionend:uv("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete r.animationend.animation,"TransitionEvent"in t||delete r.transitionend.transition),r}const qN=HN(Er(),typeof window<"u"?window:{});let Db={};Er()&&({style:Db}=document.createElement("div"));const Ga={};function Vb(e){if(Ga[e])return Ga[e];const t=qN[e];if(t){const r=Object.keys(t),n=r.length;for(let s=0;s<n;s+=1){const i=r[s];if(Object.prototype.hasOwnProperty.call(t,i)&&i in Db)return Ga[e]=t[i],Ga[e]}}return""}const zb=Vb("animationend"),Ub=Vb("transitionend"),GN=!!(zb&&Ub),dv=zb||"animationend",fv=Ub||"transitionend";function hv(e,t){if(!e)return null;if(typeof e=="object"){const r=t.replace(/-\w/g,n=>n[1].toUpperCase());return e[r]}return`${e}-${t}`}const KN=e=>{const t=p.useRef();function r(s){s&&(s.removeEventListener(fv,e),s.removeEventListener(dv,e))}function n(s){t.current&&t.current!==s&&r(t.current),s&&s!==t.current&&(s.addEventListener(fv,e),s.addEventListener(dv,e),t.current=s)}return p.useEffect(()=>()=>{r(t.current),t.current=null},[]),[n,r]},Bb=Er()?p.useLayoutEffect:p.useEffect,XN=()=>{const e=p.useRef(null);function t(){As.cancel(e.current)}function r(n,s=2){t();const i=As(()=>{s<=1?n({isCanceled:()=>i!==e.current}):r(n,s-1)});e.current=i}return p.useEffect(()=>()=>{t()},[]),[r,t]},QN=[Br,vi,yi,Mp],JN=[Br,Lb],Wb=!1,YN=!0;function Hb(e){return e===yi||e===Mp}const ZN=(e,t,r)=>{const[n,s]=Lf(cv),[i,o]=XN();function a(){s(Br,!0)}const l=t?JN:QN;return Bb(()=>{if(n!==cv&&n!==Mp){const u=l.indexOf(n),d=l[u+1],h=r(n);h===Wb?s(d,!0):d&&i(f=>{function g(){f.isCanceled()||s(d,!0)}h===!0?g():Promise.resolve(h).then(g)})}},[e,n]),p.useEffect(()=>()=>{o()},[]),[a,n]};function eT(e,t,r,{motionEnter:n=!0,motionAppear:s=!0,motionLeave:i=!0,motionDeadline:o,motionLeaveImmediately:a,onAppearPrepare:l,onEnterPrepare:u,onLeavePrepare:d,onAppearStart:h,onEnterStart:f,onLeaveStart:g,onAppearActive:y,onEnterActive:b,onLeaveActive:x,onAppearEnd:v,onEnterEnd:m,onLeaveEnd:w,onVisibleChanged:S}){const[_,E]=Lf(),[C,k]=WN(pn),[T,P]=Lf(null),A=C(),D=p.useRef(!1),W=p.useRef(null);function Q(){return r()}const q=p.useRef(!1);function G(){k(pn),P(null,!0)}const V=Bt(I=>{const O=C();if(O===pn)return;const z=Q();if(I&&!I.deadline&&I.target!==z)return;const K=q.current;let N;O===Wa&&K?N=v==null?void 0:v(z,I):O===Ha&&K?N=m==null?void 0:m(z,I):O===qa&&K&&(N=w==null?void 0:w(z,I)),K&&N!==!1&&G()}),[R]=KN(V),U=I=>{switch(I){case Wa:return{[Br]:l,[vi]:h,[yi]:y};case Ha:return{[Br]:u,[vi]:f,[yi]:b};case qa:return{[Br]:d,[vi]:g,[yi]:x};default:return{}}},H=p.useMemo(()=>U(A),[A]),[se,oe]=ZN(A,!e,I=>{var O;if(I===Br){const z=H[Br];return z?z(Q()):Wb}return oe in H&&P(((O=H[oe])==null?void 0:O.call(H,Q(),null))||null),oe===yi&&A!==pn&&(R(Q()),o>0&&(clearTimeout(W.current),W.current=setTimeout(()=>{V({deadline:!0})},o))),oe===Lb&&G(),YN}),Ee=Hb(oe);q.current=Ee;const ye=p.useRef(null);Bb(()=>{if(D.current&&ye.current===t)return;E(t);const I=D.current;D.current=!0;let O;!I&&t&&s&&(O=Wa),I&&t&&n&&(O=Ha),(I&&!t&&i||!I&&a&&!t&&i)&&(O=qa);const z=U(O);O&&(e||z[Br])?(k(O),se()):k(pn),ye.current=t},[t]),p.useEffect(()=>{(A===Wa&&!s||A===Ha&&!n||A===qa&&!i)&&k(pn)},[s,n,i]),p.useEffect(()=>()=>{D.current=!1,clearTimeout(W.current)},[]);const fe=p.useRef(!1);p.useEffect(()=>{_&&(fe.current=!0),_!==void 0&&A===pn&&((fe.current||_)&&(S==null||S(_)),fe.current=!0)},[_,A]);let j=T;return H[Br]&&oe===vi&&(j={transition:"none",...j}),[C,oe,j,_??t]}function tT(e){let t=e;typeof e=="object"&&({transitionSupport:t}=e);function r(s,i){return!!(s.motionName&&t&&i!==!1)}const n=p.forwardRef((s,i)=>{const{visible:o=!0,removeOnLeave:a=!0,forceRender:l,children:u,motionName:d,leavedClassName:h,eventProps:f}=s,{motion:g}=p.useContext(Fb),y=r(s,g),b=p.useRef();function x(){return tb(b.current)}const[v,m,w,S]=eT(y,o,x,s),_=v(),E=p.useRef(S);S&&(E.current=!0);const C=p.useMemo(()=>{const P={};return Object.defineProperties(P,{nativeElement:{enumerable:!0,get:x},inMotion:{enumerable:!0,get:()=>()=>v()!==pn},enableMotion:{enumerable:!0,get:()=>()=>y}}),P},[]);p.useImperativeHandle(i,()=>C,[]);let k;const T={...f,visible:o};if(!u)k=null;else if(_===pn)S?k=u({...T},b):!a&&E.current&&h?k=u({...T,className:h},b):l||!a&&!h?k=u({...T,style:{display:"none"}},b):k=null;else{let P;m===Br?P="prepare":Hb(m)?P="active":m===vi&&(P="start");const A=hv(d,`${_}-${P}`);k=u({...T,className:ze(hv(d,_),{[A]:A&&P,[d]:typeof d=="string"}),style:w},b)}return p.isValidElement(k)&&vp(k)&&(yp(k)||(k=p.cloneElement(k,{ref:b}))),k});return n.displayName="CSSMotion",n}const zc=tT(GN),Zt="${label} is not a valid ${type}",Uc={Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Form:{defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Zt,method:Zt,array:Zt,object:Zt,number:Zt,date:Zt,boolean:Zt,integer:Zt,float:Zt,regexp:Zt,email:Zt,url:Zt,hex:Zt},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}}};({...Uc.Modal});let wl=[];const pv=()=>wl.reduce((e,t)=>({...e,...t}),Uc.Modal);function rT(e){if(e){const t={...e};return wl.push(t),pv(),()=>{wl=wl.filter(r=>r!==t),pv()}}({...Uc.Modal})}const qb=p.createContext(void 0),nT="internalMark",sT=e=>{const{locale:t={},children:r,_ANT_MARK__:n}=e;p.useEffect(()=>rT(t==null?void 0:t.Modal),[t]);const s=p.useMemo(()=>({...t,exist:!0}),[t]);return p.createElement(qb.Provider,{value:s},r)},iT=e=>e!=null,Gb=(e,...t)=>{const r=e||{};return t.filter(Boolean).reduce((n,s)=>(Object.keys(s||{}).forEach(i=>{const o=r[i],a=s[i];if(o&&typeof o=="object")if(a&&typeof a=="object")n[i]=Gb(o,n[i],a);else{const{_default:l}=o;l&&(n[i]=n[i]||{},n[i][l]=ze(n[i][l],a))}else n[i]=ze(n[i],a)}),n),{})},oT=(e,...t)=>p.useMemo(()=>Gb.apply(void 0,[e].concat(t)),[e].concat(t)),aT=(...e)=>e.filter(Boolean).reduce((t,r={})=>(Object.keys(r).forEach(n=>{t[n]={...t[n],...r[n]}}),t),{}),lT=(...e)=>p.useMemo(()=>aT.apply(void 0,e),[].concat(e)),mv=(e,t)=>typeof e=="function"?e(t):e,cT=(e,t,r,n)=>{const s=e.map(l=>l?mv(l,r):void 0),i=t.map(l=>l?mv(l,r):void 0),o=oT.apply(void 0,[n].concat(Un(s))),a=lT.apply(void 0,Un(i));return p.useMemo(()=>[o,a],[o,a,n])},gv=e=>e==="horizontal"||e==="vertical",uT=(e,t,r)=>p.useMemo(()=>{const n=gv(e);let s;return n?s=e:typeof t=="boolean"?s=t?"vertical":"horizontal":s=gv(r)?r:"horizontal",[s,s==="vertical"]},[r,e,t]),dT=e=>`${e}-css-var`,fT=p.createContext(void 0),Kb=p.createContext(null);let hT=!1;function pT(e){return hT}const vv=[];function mT(e,t){const[r]=p.useState(()=>Er()?document.createElement("div"):null),n=p.useRef(!1),s=p.useContext(Kb),[i,o]=p.useState(vv),a=s||(n.current?void 0:d=>{o(h=>[d,...h])});function l(){r.parentElement||document.body.appendChild(r),n.current=!0}function u(){var d;(d=r.parentElement)==null||d.removeChild(r),n.current=!1}return Os(()=>(e?s?s(l):l():u(),u),[e]),Os(()=>{i.length&&(i.forEach(d=>d()),o(vv))},[i]),[r,a]}function gT(e){const t=`rc-scrollbar-measure-${Math.random().toString(36).substring(7)}`,r=document.createElement("div");r.id=t;const n=r.style;n.position="absolute",n.left="0",n.top="0",n.width="100px",n.height="100px",n.overflow="scroll";let s,i;if(e){const l=getComputedStyle(e);n.scrollbarColor=l.scrollbarColor,n.scrollbarWidth=l.scrollbarWidth;const u=getComputedStyle(e,"::-webkit-scrollbar"),d=parseInt(u.width,10),h=parseInt(u.height,10);try{const f=d?`width: ${u.width};`:"",g=h?`height: ${u.height};`:"";Yn(`
#${t}::-webkit-scrollbar {
${f}
${g}
}`,t)}catch(f){console.error(f),s=d,i=h}}document.body.appendChild(r);const o=e&&s&&!isNaN(s)?s:r.offsetWidth-r.clientWidth,a=e&&i&&!isNaN(i)?i:r.offsetHeight-r.clientHeight;return document.body.removeChild(r),Wo(t),{width:o,height:a}}function vT(e){return typeof document>"u"||!e||!(e instanceof Element)?{width:0,height:0}:gT(e)}function yT(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}const wT=`rc-util-locker-${Date.now()}`;let yv=0;function bT(e){const t=!!e,[r]=p.useState(()=>(yv+=1,`${wT}_${yv}`));Os(()=>{if(t){const n=vT(document.body).width,s=yT();Yn(`
html body {
  overflow-y: hidden;
  ${s?`width: calc(100% - ${n}px);`:""}
}`,r)}else Wo(r);return()=>{Wo(r)}},[t,r])}function xT(){return{...X1}.useId}let wv=0;const bv=xT(),ST=bv?function(t){const r=bv();return t||r}:function(t){const[r,n]=p.useState("ssr-id");return p.useEffect(()=>{const s=wv;wv+=1,n(`rc_unique_${s}`)},[]),t||r};let ws=[];const _T=200;let Xb=0;const Qb=e=>{if(e.key==="Escape"&&!e.isComposing){if(Date.now()-Xb<_T)return;const r=ws.length;for(let n=r-1;n>=0;n-=1)ws[n].onEsc({top:n===r-1,event:e})}},Jb=()=>{Xb=Date.now()};function ET(){window.addEventListener("keydown",Qb),window.addEventListener("compositionend",Jb)}function CT(){ws.length===0&&(window.removeEventListener("keydown",Qb),window.removeEventListener("compositionend",Jb))}function kT(e,t){const r=ST(),n=Bt(t),s=()=>{ws.find(o=>o.id===r)||ws.push({id:r,onEsc:n})},i=()=>{ws=ws.filter(o=>o.id!==r)};p.useMemo(()=>{e?s():e||i()},[e]),p.useEffect(()=>{if(e)return s(),ET(),()=>{i(),CT()}},[e])}const xv=e=>e===!1?!1:!Er()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e,jT=p.forwardRef((e,t)=>{const{open:r,autoLock:n,getContainer:s,debug:i,autoDestroy:o=!0,children:a,onEsc:l}=e,[u,d]=p.useState(r),h=u||r;p.useEffect(()=>{(o||r)&&d(r)},[r,o]);const[f,g]=p.useState(()=>xv(s));p.useEffect(()=>{const _=xv(s);g(()=>_??null)});const[y,b]=mT(h&&!f),x=f??y;bT(n&&r&&Er()&&(x===y||x===document.body)),kT(r,l);let v=null;a&&vp(a)&&t&&(v=yp(a));const m=kw(v,t);if(!h||!Er()||f===void 0)return null;const w=x===!1||pT();let S=a;return t&&(S=p.cloneElement(a,{ref:m})),p.createElement(Kb.Provider,{value:b},w?S:Sc.createPortal(S,x))});function NT(e){const{prefixCls:t,align:r,arrow:n,arrowPos:s}=e,{className:i,content:o,style:a}=n||{},{x:l=0,y:u=0}=s,d=p.useRef(null);if(!r||!r.points)return null;const h={position:"absolute"};if(r.autoArrow!==!1){const f=r.points[0],g=r.points[1],y=f[0],b=f[1],x=g[0],v=g[1];y===x||!["t","b"].includes(y)?h.top=u:y==="t"?h.top=0:h.bottom=0,b===v||!["l","r"].includes(b)?h.left=l:b==="l"?h.left=0:h.right=0}return p.createElement("div",{ref:d,className:ze(`${t}-arrow`,i),style:{...h,...a}},o)}function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zf.apply(this,arguments)}function TT(e){const{prefixCls:t,open:r,zIndex:n,mask:s,motion:i,mobile:o}=e;return s?p.createElement(zc,Zf({},i,{motionAppear:!0,visible:r,removeOnLeave:!0}),({className:a})=>p.createElement("div",{style:{zIndex:n},className:ze(`${t}-mask`,o&&`${t}-mobile-mask`,a)})):null}const $T=p.memo(({children:e})=>e,(e,t)=>t.cache);function Yb(e,t,r,n,s,i,o,a){var d;const l="auto",u=e?{}:{left:"-1000vw",top:"-1000vh",right:l,bottom:l};if(!e&&(t||!r)){const{points:h}=n,f=n.dynamicInset||((d=n._experimental)==null?void 0:d.dynamicInset),g=f&&h[0][1]==="r",y=f&&h[0][0]==="b";g?(u.right=s,u.left=l):(u.left=o,u.right=l),y?(u.bottom=i,u.top=l):(u.top=a,u.bottom=l)}return u}function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eh.apply(this,arguments)}const PT=p.forwardRef((e,t)=>{const{onEsc:r,popup:n,className:s,prefixCls:i,style:o,target:a,onVisibleChanged:l,open:u,keepDom:d,fresh:h,onClick:f,mask:g,arrow:y,arrowPos:b,align:x,motion:v,maskMotion:m,mobile:w,forceRender:S,getPopupContainer:_,autoDestroy:E,portal:C,children:k,zIndex:T,onMouseEnter:P,onMouseLeave:A,onPointerEnter:D,onPointerDownCapture:W,ready:Q,offsetX:q,offsetY:G,offsetR:V,offsetB:R,onAlign:U,onPrepare:H,onResize:se,stretch:oe,targetWidth:Ee,targetHeight:ye}=e,fe=typeof n=="function"?n():n,j=u||d,I=!!w,[O,z,K]=p.useMemo(()=>w?[w.mask,w.maskMotion,w.motion]:[g,m,v],[w,g,m,v]),N=(_==null?void 0:_.length)>0,[B,Z]=p.useState(!_||!N);Os(()=>{!B&&N&&a&&Z(!0)},[B,N,a]);const ee=Bt((ne,ce)=>{se==null||se(ne,ce),U()}),le=Yb(I,Q,u,x,V,R,q,G);if(!B)return null;const he={};return oe&&(oe.includes("height")&&ye?he.height=ye:oe.includes("minHeight")&&ye&&(he.minHeight=ye),oe.includes("width")&&Ee?he.width=Ee:oe.includes("minWidth")&&Ee&&(he.minWidth=Ee)),u||(he.pointerEvents="none"),p.createElement(C,{open:S||j,getContainer:_&&(()=>_(a)),autoDestroy:E,onEsc:r},p.createElement(TT,{prefixCls:i,open:u,zIndex:T,mask:O,motion:z,mobile:I}),p.createElement(nb,{onResize:ee,disabled:!u},ne=>p.createElement(zc,eh({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:S,leavedClassName:`${i}-hidden`},K,{onAppearPrepare:H,onEnterPrepare:H,visible:u,onVisibleChanged:ce=>{var ke;(ke=v==null?void 0:v.onVisibleChanged)==null||ke.call(v,ce),l(ce)}}),({className:ce,style:ke},F)=>{const te=ze(i,ce,s,{[`${i}-mobile`]:I});return p.createElement("div",{ref:Cw(ne,t,F),className:te,style:{"--arrow-x":`${b.x||0}px`,"--arrow-y":`${b.y||0}px`,...le,...he,...ke,boxSizing:"border-box",zIndex:T,...o},onMouseEnter:P,onMouseLeave:A,onPointerEnter:D,onClick:f,onPointerDownCapture:W},y&&p.createElement(NT,{prefixCls:i,arrow:y,arrowPos:b,align:x}),p.createElement($T,{cache:!u&&!h},fe))})),k)}),Sv=p.createContext(null),RT=p.createContext(null),OT=e=>{if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){const{width:t,height:r}=e.getBBox();if(t||r)return!0}if(e.getBoundingClientRect){const{width:t,height:r}=e.getBoundingClientRect();if(t||r)return!0}}return!1};function AT(e=[],t=[],r){const n=(s,i)=>s[i]||"";return n(e,0)===n(t,0)&&n(e,1)===n(t,1)}function IT(e,t,r,n){var o;const{points:s}=r,i=Object.keys(e);for(let a=0;a<i.length;a+=1){const l=i[a];if(AT((o=e[l])==null?void 0:o.points,s))return`${t}-placement-${l}`}return""}function Fp(e){return e.ownerDocument.defaultView}function MT(e){const t=[];let r=e==null?void 0:e.parentElement;const n=["hidden","scroll","clip","auto"];for(;r;){const{overflowX:s,overflowY:i,overflow:o}=Fp(r).getComputedStyle(r);[s,i,o].some(a=>n.includes(a))&&t.push(r),r=r.parentElement}return t}function sa(e,t=1){return Number.isNaN(e)?t:e}function to(e){return sa(parseFloat(e),0)}function _v(e,t){const r={...e};return(t||[]).forEach(n=>{if(n instanceof HTMLBodyElement||n instanceof HTMLHtmlElement)return;const{overflow:s,overflowClipMargin:i,borderTopWidth:o,borderBottomWidth:a,borderLeftWidth:l,borderRightWidth:u}=Fp(n).getComputedStyle(n),d=n.getBoundingClientRect(),{offsetHeight:h,clientHeight:f,offsetWidth:g,clientWidth:y}=n,b=to(o),x=to(a),v=to(l),m=to(u),w=sa(Math.round(d.width/g*1e3)/1e3),S=sa(Math.round(d.height/h*1e3)/1e3),_=(g-y-v-m)*w,E=(h-f-b-x)*S,C=b*S,k=x*S,T=v*w,P=m*w;let A=0,D=0;if(s==="clip"){const V=to(i);A=V*w,D=V*S}const W=d.x+T-A,Q=d.y+C-D,q=W+d.width+2*A-T-P-_,G=Q+d.height+2*D-C-k-E;r.left=Math.max(r.left,W),r.top=Math.max(r.top,Q),r.right=Math.min(r.right,q),r.bottom=Math.min(r.bottom,G)}),r}function Ev(e,t=0){const r=`${t}`,n=r.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(r)}function Cv(e,t){const[r,n]=t||[];return[Ev(e.width,r),Ev(e.height,n)]}function kv(e=""){return[e[0],e[1]]}function Js(e,t){const r=t[0],n=t[1];let s,i;return r==="t"?i=e.y:r==="b"?i=e.y+e.height:i=e.y+e.height/2,n==="l"?s=e.x:n==="r"?s=e.x+e.width:s=e.x+e.width/2,{x:s,y:i}}function $n(e,t){const r={t:"b",b:"t",l:"r",r:"l"},n=[...e];return n[t]=r[e[t]]||"c",n}function jv(e){return e.join("")}function FT(e,t,r,n,s,i,o,a){const[l,u]=p.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:s[n]||{}}),d=p.useRef(0),h=p.useMemo(()=>!t||a?[]:MT(t),[t]),f=p.useRef({});e||(()=>{f.current={}})();const y=Bt(()=>{var w,S;if(t&&r&&e&&!a){let bt=function(we,Yt,mr=ce){const Gp=V.x+we,Kp=V.y+Yt,E1=Gp+I,C1=Kp+j,k1=Math.max(Gp,mr.left),j1=Math.max(Kp,mr.top),N1=Math.min(E1,mr.right),T1=Math.min(C1,mr.bottom);return Math.max(0,(N1-k1)*(T1-j1))},$=function(){Zr=V.y+Ne,Pr=Zr+j,pr=V.x+Ce,en=pr+I};var v=bt,m=$;const _=t,E=_.ownerDocument,C=Fp(_),{position:k}=C.getComputedStyle(_),T=_.style.left,P=_.style.top,A=_.style.right,D=_.style.bottom,W=_.style.overflow,Q={...s[n],...i},q=E.createElement("div");(w=_.parentElement)==null||w.appendChild(q),q.style.left=`${_.offsetLeft}px`,q.style.top=`${_.offsetTop}px`,q.style.position=k,q.style.height=`${_.offsetHeight}px`,q.style.width=`${_.offsetWidth}px`,_.style.left="0",_.style.top="0",_.style.right="auto",_.style.bottom="auto",_.style.overflow="hidden";let G;if(Array.isArray(r))G={x:r[0],y:r[1],width:0,height:0};else{const we=r.getBoundingClientRect();we.x=we.x??we.left,we.y=we.y??we.top,G={x:we.x,y:we.y,width:we.width,height:we.height}}const V=_.getBoundingClientRect(),{height:R,width:U}=C.getComputedStyle(_);V.x=V.x??V.left,V.y=V.y??V.top;const{clientWidth:H,clientHeight:se,scrollWidth:oe,scrollHeight:Ee,scrollTop:ye,scrollLeft:fe}=E.documentElement,j=V.height,I=V.width,O=G.height,z=G.width,K={left:0,top:0,right:H,bottom:se},N={left:-fe,top:-ye,right:oe-fe,bottom:Ee-ye};let{htmlRegion:B}=Q;const Z="visible",ee="visibleFirst";B!=="scroll"&&B!==ee&&(B=Z);const le=B===ee,he=_v(N,h),ne=_v(K,h),ce=B===Z?ne:he,ke=le?ne:ce;_.style.left="auto",_.style.top="auto",_.style.right="0",_.style.bottom="0";const F=_.getBoundingClientRect();_.style.left=T,_.style.top=P,_.style.right=A,_.style.bottom=D,_.style.overflow=W,(S=_.parentElement)==null||S.removeChild(q);const te=sa(Math.round(I/parseFloat(U)*1e3)/1e3),xe=sa(Math.round(j/parseFloat(R)*1e3)/1e3);if(te===0||xe===0||ec(r)&&!OT(r))return;const{offset:jr,targetOffset:Nr}=Q;let[wt,Ze]=Cv(V,jr);const[jn,dr]=Cv(G,Nr);G.x-=jn,G.y-=dr;const[Tr,Jr]=Q.points||[],Mt=kv(Jr),Ft=kv(Tr),ln=Js(G,Mt),Kt=Js(V,Ft),fr={...Q};let et=[Ft,Mt],Ce=ln.x-Kt.x+wt,Ne=ln.y-Kt.y+Ze;const Lt=bt(Ce,Ne),Yr=bt(Ce,Ne,ne),hr=Js(G,["t","l"]),xt=Js(V,["t","l"]),$r=Js(G,["b","r"]),X=Js(V,["b","r"]),me=Q.overflow||{},{adjustX:ae,adjustY:Xt,shiftX:Qt,shiftY:Jt}=me,cn=we=>typeof we=="boolean"?we:we>=0;let Zr,Pr,pr,en;$();const J=cn(Xt),Y=Ft[0]===Mt[0];if(J&&Ft[0]==="t"&&(Pr>ke.bottom||f.current.bt)){let we=Ne;Y?we-=j-O:we=hr.y-X.y-Ze;const Yt=bt(Ce,we),mr=bt(Ce,we,ne);Yt>Lt||Yt===Lt&&(!le||mr>=Yr)?(f.current.bt=!0,Ne=we,Ze=-Ze,et=[$n(et[0],0),$n(et[1],0)]):f.current.bt=!1}if(J&&Ft[0]==="b"&&(Zr<ke.top||f.current.tb)){let we=Ne;Y?we+=j-O:we=$r.y-xt.y-Ze;const Yt=bt(Ce,we),mr=bt(Ce,we,ne);Yt>Lt||Yt===Lt&&(!le||mr>=Yr)?(f.current.tb=!0,Ne=we,Ze=-Ze,et=[$n(et[0],0),$n(et[1],0)]):f.current.tb=!1}const pe=cn(ae),tt=Ft[1]===Mt[1];if(pe&&Ft[1]==="l"&&(en>ke.right||f.current.rl)){let we=Ce;tt?we-=I-z:we=hr.x-X.x-wt;const Yt=bt(we,Ne),mr=bt(we,Ne,ne);Yt>Lt||Yt===Lt&&(!le||mr>=Yr)?(f.current.rl=!0,Ce=we,wt=-wt,et=[$n(et[0],1),$n(et[1],1)]):f.current.rl=!1}if(pe&&Ft[1]==="r"&&(pr<ke.left||f.current.lr)){let we=Ce;tt?we+=I-z:we=$r.x-xt.x-wt;const Yt=bt(we,Ne),mr=bt(we,Ne,ne);Yt>Lt||Yt===Lt&&(!le||mr>=Yr)?(f.current.lr=!0,Ce=we,wt=-wt,et=[$n(et[0],1),$n(et[1],1)]):f.current.lr=!1}fr.points=[jv(et[0]),jv(et[1])],$();const ve=Qt===!0?0:Qt;typeof ve=="number"&&(pr<ne.left&&(Ce-=pr-ne.left-wt,G.x+z<ne.left+ve&&(Ce+=G.x-ne.left+z-ve)),en>ne.right&&(Ce-=en-ne.right-wt,G.x>ne.right-ve&&(Ce+=G.x-ne.right+ve)));const lt=Jt===!0?0:Jt;typeof lt=="number"&&(Zr<ne.top&&(Ne-=Zr-ne.top-Ze,G.y+O<ne.top+lt&&(Ne+=G.y-ne.top+O-lt)),Pr>ne.bottom&&(Ne-=Pr-ne.bottom-Ze,G.y>ne.bottom-lt&&(Ne+=G.y-ne.bottom+lt)));const Rr=V.x+Ce,Ae=Rr+I,Ke=V.y+Ne,Dt=Ke+j,Pt=G.x,un=Pt+z,Nn=G.y,ss=Nn+O,ma=Math.max(Rr,Pt),qc=Math.min(Ae,un),Or=(ma+qc)/2-Rr,b1=Math.max(Ke,Nn),x1=Math.min(Dt,ss),S1=(b1+x1)/2-Ke;let Gc=F.right-V.x-(Ce+V.width),Kc=F.bottom-V.y-(Ne+V.height);te===1&&(Ce=Math.floor(Ce),Gc=Math.floor(Gc)),xe===1&&(Ne=Math.floor(Ne),Kc=Math.floor(Kc));const _1={ready:!0,offsetX:Ce/te,offsetY:Ne/xe,offsetR:Gc/te,offsetB:Kc/xe,arrowX:Or/te,arrowY:S1/xe,scaleX:te,scaleY:xe,align:fr};u(_1)}}),b=()=>{d.current+=1;const v=d.current;Promise.resolve().then(()=>{d.current===v&&y()})},x=()=>{u(v=>({...v,ready:!1}))};return Os(x,[n]),Os(()=>{e||x()},[e]),[l.ready,l.offsetX,l.offsetY,l.offsetR,l.offsetB,l.arrowX,l.arrowY,l.scaleX,l.scaleY,l.align,b]}function LT(){const e=p.useRef(null),t=()=>{e.current&&(clearTimeout(e.current),e.current=null)},r=(n,s)=>{t(),s===0?n():e.current=setTimeout(()=>{n()},s*1e3)};return p.useEffect(()=>()=>{t()},[]),r}function DT(){const[e,t]=Pe.useState(null),[r,n]=Pe.useState(!1),[s,i]=Pe.useState(!1),o=Pe.useRef(null),a=Bt(u=>{u===!1?(o.current=null,n(!1)):s&&r?o.current=u:(n(!0),t(u),o.current=null,r||i(!0))}),l=Bt(u=>{u?(i(!1),o.current&&(t(o.current),o.current=null)):(i(!1),o.current=null)});return[a,r,e,l]}function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},th.apply(this,arguments)}const VT=e=>{const{prefixCls:t,isMobile:r,ready:n,open:s,align:i,offsetR:o,offsetB:a,offsetX:l,offsetY:u,arrowPos:d,popupSize:h,motion:f,uniqueContainerClassName:g,uniqueContainerStyle:y}=e,b=`${t}-unique-container`,[x,v]=Pe.useState(!1),m=Yb(r,n,s,i,o,a,l,u),w=Pe.useRef(m);n&&(w.current=m);const S={};return h&&(S.width=h.width,S.height=h.height),Pe.createElement(zc,th({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,leavedClassName:`${b}-hidden`},f,{visible:s,onVisibleChanged:_=>{v(_)}}),({className:_,style:E})=>{const C=ze(b,_,g,{[`${b}-visible`]:x});return Pe.createElement("div",{className:C,style:{"--arrow-x":`${(d==null?void 0:d.x)||0}px`,"--arrow-y":`${(d==null?void 0:d.y)||0}px`,...w.current,...S,...E,...y}})})},zT=({children:e,postTriggerProps:t})=>{const[r,n,s,i]=DT(),o=p.useMemo(()=>!s||!t?s:t(s),[s,t]),[a,l]=p.useState(null),[u,d]=p.useState(null),h=p.useRef(null),f=Bt(R=>{h.current=R,ec(R)&&a!==R&&l(R)}),g=p.useRef(null),y=LT(),b=Bt((R,U)=>{g.current=U,y(()=>{r(R)},R.delay)}),x=R=>{y(()=>{var U;(U=g.current)!=null&&U.call(g)||r(!1)},R)},v=Bt(R=>{i(R)}),[m,w,S,_,E,C,k,,,T,P]=FT(n,a,o==null?void 0:o.target,o==null?void 0:o.popupPlacement,(o==null?void 0:o.builtinPlacements)||{},o==null?void 0:o.popupAlign,void 0,!1),A=p.useMemo(()=>{var U;if(!o)return"";const R=IT(o.builtinPlacements||{},o.prefixCls||"",T);return ze(R,(U=o.getPopupClassNameFromAlign)==null?void 0:U.call(o,T))},[T,o==null?void 0:o.getPopupClassNameFromAlign,o==null?void 0:o.builtinPlacements,o==null?void 0:o.prefixCls]),D=p.useMemo(()=>({show:b,hide:x}),[]);p.useEffect(()=>{P()},[o==null?void 0:o.target]);const W=Bt(()=>(P(),Promise.resolve())),Q=p.useRef({}),q=p.useContext(Sv),G=p.useMemo(()=>({registerSubPopup:(R,U)=>{Q.current[R]=U,q==null||q.registerSubPopup(R,U)}}),[q]),V=o==null?void 0:o.prefixCls;return p.createElement(RT.Provider,{value:D},e,o&&p.createElement(Sv.Provider,{value:G},p.createElement(PT,{ref:f,portal:jT,onEsc:o.onEsc,prefixCls:V,popup:o.popup,className:ze(o.popupClassName,A,`${V}-unique-controlled`),style:o.popupStyle,target:o.target,open:n,keepDom:!0,fresh:!0,autoDestroy:!1,onVisibleChanged:v,ready:m,offsetX:w,offsetY:S,offsetR:_,offsetB:E,onAlign:P,onPrepare:W,onResize:R=>d({width:R.offsetWidth,height:R.offsetHeight}),arrowPos:{x:C,y:k},align:T,zIndex:o.zIndex,mask:o.mask,arrow:o.arrow,motion:o.popupMotion,maskMotion:o.maskMotion,getPopupContainer:o.getPopupContainer},p.createElement(VT,{prefixCls:V,isMobile:!1,ready:m,open:n,align:T,offsetR:_,offsetB:E,offsetX:w,offsetY:S,arrowPos:{x:C,y:k},popupSize:u,motion:o.popupMotion,uniqueContainerClassName:ze(o.uniqueContainerClassName,A),uniqueContainerStyle:o.uniqueContainerStyle}))))},UT=({children:e})=>{const{getPrefixCls:t}=Pe.useContext(Qr),r=t();return Pe.isValidElement(e)?Pe.createElement(zc,{visible:!0,motionName:`${r}-fade`,motionAppear:!0,motionEnter:!0,motionLeave:!1,removeOnLeave:!1},({style:n,className:s})=>{const{className:i,style:o}=e.props,a={...o,...n};return Pe.cloneElement(e,{className:ze(i,s),style:a})}):e},Ka=[null,null];function BT(e){if(Ka[0]!==e){const t={};Object.keys(e).forEach(r=>{t[r]={...e[r],dynamicInset:!1}}),Ka[0]=e,Ka[1]=t}return Ka[1]}const WT=({children:e})=>{const t=r=>{const n=typeof r.popup=="function"?r.popup():r.popup,{id:s,builtinPlacements:i}=r,o=BT(i);return{...r,getPopupContainer:null,arrow:!1,popup:Pe.createElement(UT,{key:s},n),builtinPlacements:o}};return Pe.createElement(zT,{postTriggerProps:t},e)},rc=p.createContext(!1),HT=({children:e,disabled:t})=>{const r=p.useContext(rc);return p.createElement(rc.Provider,{value:t??r},e)},Fi=p.createContext(void 0),qT=({children:e,size:t})=>{const r=p.useContext(Fi);return p.createElement(Fi.Provider,{value:t||r},e)};function GT(){const e=p.useContext(rc),t=p.useContext(Fi);return{componentDisabled:e,componentSize:t}}function KT(e,t,r){const n=e||{},s=n.inherit===!1||!t?{...Yf,hashed:(t==null?void 0:t.hashed)??Yf.hashed,cssVar:t==null?void 0:t.cssVar}:t,i=p.useId();return gp(()=>{var u;if(!e)return t;const o={...s.components};Object.keys(e.components||{}).forEach(d=>{o[d]={...o[d],...e.components[d]}});const a=`css-var-${i.replace(/:/g,"")}`,l={prefix:r==null?void 0:r.prefixCls,...s.cssVar,...n.cssVar,key:((u=n.cssVar)==null?void 0:u.key)||a};return{...s,...n,token:{...s.token,...n.token},components:o,cssVar:l}},[n,s],(o,a)=>o.some((l,u)=>{const d=a[u];return!Uf(l,d,!0)}))}const Nv=p.createContext(!0);function XT(e){const t=p.useContext(Nv),{children:r}=e,[,n]=Ip(),{motion:s}=n,i=p.useRef(!1);return i.current||(i.current=t!==s),i.current?p.createElement(Nv.Provider,{value:s},p.createElement(BN,{motion:s},r)):r}const QT=()=>null,JT=({iconPrefixCls:e,csp:t})=>(UN(e,t),null),YT=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"],ZT=e=>{const{prefixCls:t,iconPrefixCls:r,theme:n,holderRender:s}=e},e3=e=>{const{children:t,csp:r,autoInsertSpaceInButton:n,alert:s,affix:i,anchor:o,form:a,locale:l,componentSize:u,direction:d,space:h,splitter:f,virtual:g,dropdownMatchSelectWidth:y,popupMatchSelectWidth:b,popupOverflow:x,legacyLocale:v,parentContext:m,iconPrefixCls:w,theme:S,componentDisabled:_,segmented:E,statistic:C,spin:k,calendar:T,carousel:P,cascader:A,collapse:D,typography:W,checkbox:Q,descriptions:q,divider:G,drawer:V,skeleton:R,steps:U,image:H,layout:se,list:oe,mentions:Ee,modal:ye,progress:fe,result:j,slider:I,breadcrumb:O,masonry:z,menu:K,pagination:N,input:B,textArea:Z,otp:ee,empty:le,badge:he,radio:ne,rate:ce,ribbon:ke,switch:F,transfer:te,avatar:xe,message:jr,tag:Nr,table:wt,card:Ze,cardMeta:jn,tabs:dr,timeline:Tr,timePicker:Jr,upload:Mt,notification:Ft,tree:ln,colorPicker:Kt,datePicker:fr,rangePicker:et,flex:Ce,wave:Ne,dropdown:bt,warning:Lt,tour:Yr,tooltip:hr,popover:xt,popconfirm:$r,qrcode:X,floatButton:me,floatButtonGroup:ae,variant:Xt,inputNumber:Qt,treeSelect:Jt,watermark:cn}=e,Zr=p.useCallback((Ae,Ke)=>{const{prefixCls:Dt}=e;if(Ke)return Ke;const Pt=Dt||m.getPrefixCls("");return Ae?`${Pt}-${Ae}`:Pt},[m.getPrefixCls,e.prefixCls]),Pr=w||m.iconPrefixCls||Np,pr=r||m.csp,en=KT(S,m.theme,{prefixCls:Zr("")}),$={csp:pr,autoInsertSpaceInButton:n,alert:s,affix:i,anchor:o,locale:l||v,direction:d,space:h,splitter:f,virtual:g,popupMatchSelectWidth:b??y,popupOverflow:x,getPrefixCls:Zr,iconPrefixCls:Pr,theme:en,segmented:E,statistic:C,spin:k,calendar:T,carousel:P,cascader:A,collapse:D,typography:W,checkbox:Q,descriptions:q,divider:G,drawer:V,skeleton:R,steps:U,image:H,input:B,textArea:Z,otp:ee,layout:se,list:oe,mentions:Ee,modal:ye,progress:fe,result:j,slider:I,breadcrumb:O,masonry:z,menu:K,pagination:N,empty:le,badge:he,radio:ne,rate:ce,ribbon:ke,switch:F,transfer:te,avatar:xe,message:jr,tag:Nr,table:wt,card:Ze,cardMeta:jn,tabs:dr,timeline:Tr,timePicker:Jr,upload:Mt,notification:Ft,tree:ln,colorPicker:Kt,datePicker:fr,rangePicker:et,flex:Ce,wave:Ne,dropdown:bt,warning:Lt,tour:Yr,tooltip:hr,popover:xt,popconfirm:$r,qrcode:X,floatButton:me,floatButtonGroup:ae,variant:Xt,inputNumber:Qt,treeSelect:Jt,watermark:cn},J={...m};Object.keys($).forEach(Ae=>{$[Ae]!==void 0&&(J[Ae]=$[Ae])}),YT.forEach(Ae=>{const Ke=e[Ae];Ke&&(J[Ae]=Ke)}),typeof n<"u"&&(J.button={autoInsertSpace:n,...J.button});const Y=gp(()=>J,J,(Ae,Ke)=>{const Dt=Object.keys(Ae),Pt=Object.keys(Ke);return Dt.length!==Pt.length||Dt.some(un=>Ae[un]!==Ke[un])}),{layer:pe}=p.useContext(da),tt=p.useMemo(()=>({prefixCls:Pr,csp:pr,layer:pe?"antd":void 0}),[Pr,pr,pe]);let ve=p.createElement(p.Fragment,null,p.createElement(JT,{iconPrefixCls:Pr,csp:pr}),p.createElement(QT,{dropdownMatchSelectWidth:y}),t);const lt=p.useMemo(()=>{var Ae,Ke,Dt,Pt;return gi(((Ae=Uc.Form)==null?void 0:Ae.defaultValidateMessages)||{},((Dt=(Ke=Y.locale)==null?void 0:Ke.Form)==null?void 0:Dt.defaultValidateMessages)||{},((Pt=Y.form)==null?void 0:Pt.validateMessages)||{},(a==null?void 0:a.validateMessages)||{})},[Y,a==null?void 0:a.validateMessages]);Object.keys(lt).length>0&&(ve=p.createElement(fT.Provider,{value:lt},ve)),l&&(ve=p.createElement(sT,{locale:l,_ANT_MARK__:nT},ve)),ve=p.createElement(up.Provider,{value:tt},ve),u&&(ve=p.createElement(qT,{size:u},ve)),ve=p.createElement(XT,null,ve),hr!=null&&hr.unique&&(ve=p.createElement(WT,null,ve));const Rr=p.useMemo(()=>{const{algorithm:Ae,token:Ke,components:Dt,cssVar:Pt,...un}=en||{},Nn=Ae&&(!Array.isArray(Ae)||Ae.length>0)?Hf(Ae):$b,ss={};Object.entries(Dt||{}).forEach(([qc,qp])=>{const Or={...qp};"algorithm"in Or&&(Or.algorithm===!0?Or.theme=Nn:(Array.isArray(Or.algorithm)||typeof Or.algorithm=="function")&&(Or.theme=Hf(Or.algorithm)),delete Or.algorithm),ss[qc]=Or});const ma={...na,...Ke};return{...un,theme:Nn,token:ma,components:ss,override:{override:ma,...ss},cssVar:Pt}},[en]);return S&&(ve=p.createElement(Pb.Provider,{value:Rr},ve)),Y.warning&&(ve=p.createElement(sj.Provider,{value:Y.warning},ve)),_!==void 0&&(ve=p.createElement(HT,{disabled:_},ve)),p.createElement(Qr.Provider,{value:Y},ve)},Wi=e=>{const t=p.useContext(Qr),r=p.useContext(qb);return p.createElement(e3,{parentContext:t,legacyLocale:r,...e})};Wi.ConfigContext=Qr;Wi.SizeContext=Fi;Wi.config=ZT;Wi.useConfig=GT;Object.defineProperty(Wi,"SizeContext",{get:()=>Fi});const Zb=e=>{const t=Pe.useContext(Fi);return Pe.useMemo(()=>e?typeof e=="string"?e??t:typeof e=="function"?e(t):t:t,[e,t])},t3=e=>{const{componentCls:t}=e;return{[t]:{display:"inline-flex","&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"}}}},r3=fa(["Space","Compact"],e=>[t3(e)],()=>({}),{resetStyle:!1}),Bc=p.createContext(null),e1=(e,t)=>{const r=p.useContext(Bc),n=p.useMemo(()=>{if(!r)return"";const{compactDirection:s,isFirstItem:i,isLastItem:o}=r,a=s==="vertical"?"-vertical-":"-";return ze(`${e}-compact${a}item`,{[`${e}-compact${a}first-item`]:i,[`${e}-compact${a}last-item`]:o,[`${e}-compact${a}item-rtl`]:t==="rtl"})},[e,t,r]);return{compactSize:r==null?void 0:r.compactSize,compactDirection:r==null?void 0:r.compactDirection,compactItemClassnames:n}},n3=e=>{const{children:t}=e;return p.createElement(Bc.Provider,{value:null},t)},s3=e=>{const{children:t,...r}=e;return p.createElement(Bc.Provider,{value:p.useMemo(()=>r,[r])},t)},i3=e=>{const{getPrefixCls:t,direction:r}=p.useContext(Qr),{size:n,direction:s,orientation:i,block:o,prefixCls:a,className:l,rootClassName:u,children:d,vertical:h,...f}=e,[g,y]=uT(i,h,s),b=Zb(E=>n??E),x=t("space-compact",a),[v]=r3(x),m=ze(x,v,{[`${x}-rtl`]:r==="rtl",[`${x}-block`]:o,[`${x}-vertical`]:y},l,u),w=p.useContext(Bc),S=Jo(d),_=p.useMemo(()=>S.map((E,C)=>{const k=(E==null?void 0:E.key)||`${x}-item-${C}`;return p.createElement(s3,{key:k,compactSize:b,compactDirection:g,isFirstItem:C===0&&(!w||(w==null?void 0:w.isFirstItem)),isLastItem:C===S.length-1&&(!w||(w==null?void 0:w.isLastItem))},E)}),[S,w,g,b,x]);return S.length===0?null:p.createElement("div",{className:m,...f},_)};function o3(e,t,r,n){const{focusElCls:s,focus:i,borderElCls:o}=r,a=o?"> *":"",l=["hover",i?"focus":null,"active"].filter(Boolean).map(u=>`&:${u} ${a}`).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},[`&-item:not(${n}-status-success)`]:{zIndex:2},"&-item":{[l]:{zIndex:3},...s?{[`&${s}`]:{zIndex:3}}:{},[`&[disabled] ${a}`]:{zIndex:0}}}}function a3(e,t,r){const{borderElCls:n}=r,s=n?`> ${n}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${s}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${s}, &${e}-sm ${s}, &${e}-lg ${s}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${s}, &${e}-sm ${s}, &${e}-lg ${s}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function Lp(e,t={focus:!0}){const{componentCls:r}=e,{componentCls:n}=t,s=n||r,i=`${s}-compact`;return{[i]:{...o3(e,i,t,s),...a3(s,i,t)}}}function l3(e,t){if(!e)return;e.focus(t);const{cursor:r}=t||{};if(r&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)){const n=e.value.length;switch(r){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(n,n);break;default:e.setSelectionRange(0,n)}}}const bs="RC_FORM_INTERNAL_HOOKS",Ie=()=>{Gt(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Li=p.createContext({getFieldValue:Ie,getFieldsValue:Ie,getFieldError:Ie,getFieldWarning:Ie,getFieldsError:Ie,isFieldsTouched:Ie,isFieldTouched:Ie,isFieldValidating:Ie,isFieldsValidating:Ie,resetFields:Ie,setFields:Ie,setFieldValue:Ie,setFieldsValue:Ie,validateFields:Ie,submit:Ie,getInternalHooks:()=>(Ie(),{dispatch:Ie,initEntityValue:Ie,registerField:Ie,useSubscribe:Ie,setInitialValues:Ie,destroyForm:Ie,setCallbacks:Ie,registerWatch:Ie,getFields:Ie,setValidateMessages:Ie,setPreserve:Ie,getInitialValue:Ie})}),nc=p.createContext(null);function rh(e){return e==null?[]:Array.isArray(e)?e:[e]}function c3(e){return e&&!!e._init}function nh(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",tel:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var sh=nh();function u3(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function d3(e,t,r){if(Ap())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var s=new(e.bind.apply(e,n));return r&&ta(s,r.prototype),s}function ih(e){var t=typeof Map=="function"?new Map:void 0;return ih=function(n){if(n===null||!u3(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,s)}function s(){return d3(n,arguments,ra(this).constructor)}return s.prototype=Object.create(n.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),ta(s,n)},ih(e)}var f3=/%[sdj%]/g,h3=function(){};function oh(e){if(!e||!e.length)return null;var t={};return e.forEach(function(r){var n=r.field;t[n]=t[n]||[],t[n].push(r)}),t}function or(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var s=0,i=r.length;if(typeof e=="function")return e.apply(null,r);if(typeof e=="string"){var o=e.replace(f3,function(a){if(a==="%%")return"%";if(s>=i)return a;switch(a){case"%s":return String(r[s++]);case"%d":return Number(r[s++]);case"%j":try{return JSON.stringify(r[s++])}catch{return"[Circular]"}break;default:return a}});return o}return e}function p3(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"||e==="tel"}function pt(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||p3(t)&&typeof e=="string"&&!e)}function m3(e,t,r){var n=[],s=0,i=e.length;function o(a){n.push.apply(n,Un(a||[])),s++,s===i&&r(n)}e.forEach(function(a){t(a,o)})}function Tv(e,t,r){var n=0,s=e.length;function i(o){if(o&&o.length){r(o);return}var a=n;n=n+1,a<s?t(e[a],i):r([])}i([])}function g3(e){var t=[];return Object.keys(e).forEach(function(r){t.push.apply(t,Un(e[r]||[]))}),t}var $v=function(e){Cb(r,e);var t=kb(r);function r(n,s){var i;return Ls(this,r),i=t.call(this,"Async Validation Error"),Me(ji(i),"errors",void 0),Me(ji(i),"fields",void 0),i.errors=n,i.fields=s,i}return Ds(r)}(ih(Error));function v3(e,t,r,n,s){if(t.first){var i=new Promise(function(f,g){var y=function(v){return n(v),v.length?g(new $v(v,oh(v))):f(s)},b=g3(e);Tv(b,r,y)});return i.catch(function(f){return f}),i}var o=t.firstFields===!0?Object.keys(e):t.firstFields||[],a=Object.keys(e),l=a.length,u=0,d=[],h=new Promise(function(f,g){var y=function(x){if(d.push.apply(d,x),u++,u===l)return n(d),d.length?g(new $v(d,oh(d))):f(s)};a.length||(n(d),f(s)),a.forEach(function(b){var x=e[b];o.indexOf(b)!==-1?Tv(x,r,y):m3(x,r,y)})});return h.catch(function(f){return f}),h}function y3(e){return!!(e&&e.message!==void 0)}function w3(e,t){for(var r=e,n=0;n<t.length;n++){if(r==null)return r;r=r[t[n]]}return r}function Pv(e,t){return function(r){var n;return e.fullFields?n=w3(t,e.fullFields):n=t[r.field||e.fullField],y3(r)?(r.field=r.field||e.fullField,r.fieldValue=n,r):{message:typeof r=="function"?r():r,fieldValue:n,field:r.field||e.fullField}}}function Rv(e,t){if(t){for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];at(n)==="object"&&at(e[r])==="object"?e[r]=Ye(Ye({},e[r]),n):e[r]=n}}return e}var Ys="enum",b3=function(t,r,n,s,i){t[Ys]=Array.isArray(t[Ys])?t[Ys]:[],t[Ys].indexOf(r)===-1&&s.push(or(i.messages[Ys],t.fullField,t[Ys].join(", ")))},x3=function(t,r,n,s,i){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(r)||s.push(or(i.messages.pattern.mismatch,t.fullField,r,t.pattern));else if(typeof t.pattern=="string"){var o=new RegExp(t.pattern);o.test(r)||s.push(or(i.messages.pattern.mismatch,t.fullField,r,t.pattern))}}},S3=function(t,r,n,s,i){var o=typeof t.len=="number",a=typeof t.min=="number",l=typeof t.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d=r,h=null,f=typeof r=="number",g=typeof r=="string",y=Array.isArray(r);if(f?h="number":g?h="string":y&&(h="array"),!h)return!1;y&&(d=r.length),g&&(d=r.replace(u,"_").length),o?d!==t.len&&s.push(or(i.messages[h].len,t.fullField,t.len)):a&&!l&&d<t.min?s.push(or(i.messages[h].min,t.fullField,t.min)):l&&!a&&d>t.max?s.push(or(i.messages[h].max,t.fullField,t.max)):a&&l&&(d<t.min||d>t.max)&&s.push(or(i.messages[h].range,t.fullField,t.min,t.max))},t1=function(t,r,n,s,i,o){t.required&&(!n.hasOwnProperty(t.field)||pt(r,o||t.type))&&s.push(or(i.messages.required,t.fullField))},Xa;const _3=function(){if(Xa)return Xa;var e="[a-fA-F\\d:]",t=function(E){return E&&E.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(e,")|(?<=").concat(e,")(?=\\s|$))"):""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",s=["(?:".concat(n,":){7}(?:").concat(n,"|:)"),"(?:".concat(n,":){6}(?:").concat(r,"|:").concat(n,"|:)"),"(?:".concat(n,":){5}(?::").concat(r,"|(?::").concat(n,"){1,2}|:)"),"(?:".concat(n,":){4}(?:(?::").concat(n,"){0,1}:").concat(r,"|(?::").concat(n,"){1,3}|:)"),"(?:".concat(n,":){3}(?:(?::").concat(n,"){0,2}:").concat(r,"|(?::").concat(n,"){1,4}|:)"),"(?:".concat(n,":){2}(?:(?::").concat(n,"){0,3}:").concat(r,"|(?::").concat(n,"){1,5}|:)"),"(?:".concat(n,":){1}(?:(?::").concat(n,"){0,4}:").concat(r,"|(?::").concat(n,"){1,6}|:)"),"(?::(?:(?::".concat(n,"){0,5}:").concat(r,"|(?::").concat(n,"){1,7}|:))")],i="(?:%[0-9a-zA-Z]{1,})?",o="(?:".concat(s.join("|"),")").concat(i),a=new RegExp("(?:^".concat(r,"$)|(?:^").concat(o,"$)")),l=new RegExp("^".concat(r,"$")),u=new RegExp("^".concat(o,"$")),d=function(E){return E&&E.exact?a:new RegExp("(?:".concat(t(E)).concat(r).concat(t(E),")|(?:").concat(t(E)).concat(o).concat(t(E),")"),"g")};d.v4=function(_){return _&&_.exact?l:new RegExp("".concat(t(_)).concat(r).concat(t(_)),"g")},d.v6=function(_){return _&&_.exact?u:new RegExp("".concat(t(_)).concat(o).concat(t(_)),"g")};var h="(?:(?:[a-z]+:)?//)",f="(?:\\S+(?::\\S*)?@)?",g=d.v4().source,y=d.v6().source,b="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",x="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",v="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",m="(?::\\d{2,5})?",w='(?:[/?#][^\\s"]*)?',S="(?:".concat(h,"|www\\.)").concat(f,"(?:localhost|").concat(g,"|").concat(y,"|").concat(b).concat(x).concat(v,")").concat(m).concat(w);return Xa=new RegExp("(?:^".concat(S,"$)"),"i"),Xa};var Bu={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,tel:/^(\+[0-9]{1,3}[-\s\u2011]?)?(\([0-9]{1,4}\)[-\s\u2011]?)?([0-9]+[-\s\u2011]?)*[0-9]+$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},co={integer:function(t){return co.number(t)&&parseInt(t,10)===t},float:function(t){return co.number(t)&&!co.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return at(t)==="object"&&!co.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(Bu.email)},tel:function(t){return typeof t=="string"&&t.length<=32&&!!t.match(Bu.tel)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(_3())},hex:function(t){return typeof t=="string"&&!!t.match(Bu.hex)}},E3=function(t,r,n,s,i){if(t.required&&r===void 0){t1(t,r,n,s,i);return}var o=["integer","float","array","regexp","object","method","email","tel","number","date","url","hex"],a=t.type;o.indexOf(a)>-1?co[a](r)||s.push(or(i.messages.types[a],t.fullField,t.type)):a&&at(r)!==t.type&&s.push(or(i.messages.types[a],t.fullField,t.type))},C3=function(t,r,n,s,i){(/^\s+$/.test(r)||r==="")&&s.push(or(i.messages.whitespace,t.fullField))};const _e={required:t1,whitespace:C3,type:E3,range:S3,enum:b3,pattern:x3};var k3=function(t,r,n,s,i){var o=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(pt(r)&&!t.required)return n();_e.required(t,r,s,o,i)}n(o)},j3=function(t,r,n,s,i){var o=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(r==null&&!t.required)return n();_e.required(t,r,s,o,i,"array"),r!=null&&(_e.type(t,r,s,o,i),_e.range(t,r,s,o,i))}n(o)},N3=function(t,r,n,s,i){var o=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(pt(r)&&!t.required)return n();_e.required(t,r,s,o,i),r!==void 0&&_e.type(t,r,s,o,i)}n(o)},T3=function(t,r,n,s,i){var o=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(pt(r,"date")&&!t.required)return n();if(_e.required(t,r,s,o,i),!pt(r,"date")){var l;r instanceof Date?l=r:l=new Date(r),_e.type(t,l,s,o,i),l&&_e.range(t,l.getTime(),s,o,i)}}n(o)},$3="enum",P3=function(t,r,n,s,i){var o=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(pt(r)&&!t.required)return n();_e.required(t,r,s,o,i),r!==void 0&&_e[$3](t,r,s,o,i)}n(o)},R3=function(t,r,n,s,i){var o=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(pt(r)&&!t.required)return n();_e.required(t,r,s,o,i),r!==void 0&&(_e.type(t,r,s,o,i),_e.range(t,r,s,o,i))}n(o)},O3=function(t,r,n,s,i){var o=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(pt(r)&&!t.required)return n();_e.required(t,r,s,o,i),r!==void 0&&(_e.type(t,r,s,o,i),_e.range(t,r,s,o,i))}n(o)},A3=function(t,r,n,s,i){var o=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(pt(r)&&!t.required)return n();_e.required(t,r,s,o,i),r!==void 0&&_e.type(t,r,s,o,i)}n(o)},I3=function(t,r,n,s,i){var o=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(r===""&&(r=void 0),pt(r)&&!t.required)return n();_e.required(t,r,s,o,i),r!==void 0&&(_e.type(t,r,s,o,i),_e.range(t,r,s,o,i))}n(o)},M3=function(t,r,n,s,i){var o=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(pt(r)&&!t.required)return n();_e.required(t,r,s,o,i),r!==void 0&&_e.type(t,r,s,o,i)}n(o)},F3=function(t,r,n,s,i){var o=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(pt(r,"string")&&!t.required)return n();_e.required(t,r,s,o,i),pt(r,"string")||_e.pattern(t,r,s,o,i)}n(o)},L3=function(t,r,n,s,i){var o=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(pt(r)&&!t.required)return n();_e.required(t,r,s,o,i),pt(r)||_e.type(t,r,s,o,i)}n(o)},D3=function(t,r,n,s,i){var o=[],a=Array.isArray(r)?"array":at(r);_e.required(t,r,s,o,i,a),n(o)},V3=function(t,r,n,s,i){var o=[],a=t.required||!t.required&&s.hasOwnProperty(t.field);if(a){if(pt(r,"string")&&!t.required)return n();_e.required(t,r,s,o,i,"string"),pt(r,"string")||(_e.type(t,r,s,o,i),_e.range(t,r,s,o,i),_e.pattern(t,r,s,o,i),t.whitespace===!0&&_e.whitespace(t,r,s,o,i))}n(o)},Qa=function(t,r,n,s,i){var o=t.type,a=[],l=t.required||!t.required&&s.hasOwnProperty(t.field);if(l){if(pt(r,o)&&!t.required)return n();_e.required(t,r,s,a,i,o),pt(r,o)||_e.type(t,r,s,a,i)}n(a)};const Co={string:V3,method:A3,number:I3,boolean:N3,regexp:L3,integer:O3,float:R3,array:j3,object:M3,enum:P3,pattern:F3,date:T3,url:Qa,hex:Qa,email:Qa,tel:Qa,required:D3,any:k3};var ha=function(){function e(t){Ls(this,e),Me(this,"rules",null),Me(this,"_messages",sh),this.define(t)}return Ds(e,[{key:"define",value:function(r){var n=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(at(r)!=="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(s){var i=r[s];n.rules[s]=Array.isArray(i)?i:[i]})}},{key:"messages",value:function(r){return r&&(this._messages=Rv(nh(),r)),this._messages}},{key:"validate",value:function(r){var n=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},o=r,a=s,l=i;if(typeof a=="function"&&(l=a,a={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,o),Promise.resolve(o);function u(y){var b=[],x={};function v(w){if(Array.isArray(w)){var S;b=(S=b).concat.apply(S,Un(w))}else b.push(w)}for(var m=0;m<y.length;m++)v(y[m]);b.length?(x=oh(b),l(b,x)):l(null,o)}if(a.messages){var d=this.messages();d===sh&&(d=nh()),Rv(d,a.messages),a.messages=d}else a.messages=this.messages();var h={},f=a.keys||Object.keys(this.rules);f.forEach(function(y){var b=n.rules[y],x=o[y];b.forEach(function(v){var m=v;typeof m.transform=="function"&&(o===r&&(o=Ye({},o)),x=o[y]=m.transform(x),x!=null&&(m.type=m.type||(Array.isArray(x)?"array":at(x)))),typeof m=="function"?m={validator:m}:m=Ye({},m),m.validator=n.getValidationMethod(m),m.validator&&(m.field=y,m.fullField=m.fullField||y,m.type=n.getType(m),h[y]=h[y]||[],h[y].push({rule:m,value:x,source:o,field:y}))})});var g={};return v3(h,a,function(y,b){var x=y.rule,v=(x.type==="object"||x.type==="array")&&(at(x.fields)==="object"||at(x.defaultField)==="object");v=v&&(x.required||!x.required&&y.value),x.field=y.field;function m(C,k){return Ye(Ye({},k),{},{fullField:"".concat(x.fullField,".").concat(C),fullFields:x.fullFields?[].concat(Un(x.fullFields),[C]):[C]})}function w(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],k=Array.isArray(C)?C:[C];!a.suppressWarning&&k.length&&e.warning("async-validator:",k),k.length&&x.message!==void 0&&x.message!==null&&(k=[].concat(x.message));var T=k.map(Pv(x,o));if(a.first&&T.length)return g[x.field]=1,b(T);if(!v)b(T);else{if(x.required&&!y.value)return x.message!==void 0?T=[].concat(x.message).map(Pv(x,o)):a.error&&(T=[a.error(x,or(a.messages.required,x.field))]),b(T);var P={};x.defaultField&&Object.keys(y.value).map(function(W){P[W]=x.defaultField}),P=Ye(Ye({},P),y.rule.fields);var A={};Object.keys(P).forEach(function(W){var Q=P[W],q=Array.isArray(Q)?Q:[Q];A[W]=q.map(m.bind(null,W))});var D=new e(A);D.messages(a.messages),y.rule.options&&(y.rule.options.messages=a.messages,y.rule.options.error=a.error),D.validate(y.value,y.rule.options||a,function(W){var Q=[];T&&T.length&&Q.push.apply(Q,Un(T)),W&&W.length&&Q.push.apply(Q,Un(W)),b(Q.length?Q:null)})}}var S;if(x.asyncValidator)S=x.asyncValidator(x,y.value,w,y.source,a);else if(x.validator){try{S=x.validator(x,y.value,w,y.source,a)}catch(C){var _,E;(_=(E=console).error)===null||_===void 0||_.call(E,C),a.suppressValidatorError||setTimeout(function(){throw C},0),w(C.message)}S===!0?w():S===!1?w(typeof x.message=="function"?x.message(x.fullField||x.field):x.message||"".concat(x.fullField||x.field," fails")):S instanceof Array?w(S):S instanceof Error&&w(S.message)}S&&S.then&&S.then(function(){return w()},function(C){return w(C)})},function(y){u(y)},o)}},{key:"getType",value:function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Co.hasOwnProperty(r.type))throw new Error(or("Unknown rule type %s",r.type));return r.type||"string"}},{key:"getValidationMethod",value:function(r){if(typeof r.validator=="function")return r.validator;var n=Object.keys(r),s=n.indexOf("message");return s!==-1&&n.splice(s,1),n.length===1&&n[0]==="required"?Co.required:Co[this.getType(r)]||void 0}}]),e}();Me(ha,"register",function(t,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");Co[t]=r});Me(ha,"warning",h3);Me(ha,"messages",sh);Me(ha,"validators",Co);const Vt="'${name}' is not a valid ${type}",r1={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Vt,method:Vt,array:Vt,object:Vt,number:Vt,date:Vt,boolean:Vt,integer:Vt,float:Vt,regexp:Vt,email:Vt,tel:Vt,url:Vt,hex:Vt},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},Ov=ha;function z3(e,t){return e.replace(/\\?\$\{\w+\}/g,r=>{if(r.startsWith("\\"))return r.slice(1);const n=r.slice(2,-1);return t[n]})}const Av="CODE_LOGIC_ERROR";async function ah(e,t,r,n,s){const i={...r};if(delete i.ruleIndex,Ov.warning=()=>{},i.validator){const f=i.validator;i.validator=(...g)=>{try{return f(...g)}catch(y){return console.error(y),Promise.reject(Av)}}}let o=null;i&&i.type==="array"&&i.defaultField&&(o=i.defaultField,delete i.defaultField);const a=new Ov({[e]:[i]}),l=gi(r1,n.validateMessages);a.messages(l);let u=[];try{await Promise.resolve(a.validate({[e]:t},{...n}))}catch(f){f.errors&&(u=f.errors.map(({message:g},y)=>{const b=g===Av?l.default:g;return p.isValidElement(b)?p.cloneElement(b,{key:`error_${y}`}):b}))}if(!u.length&&o&&Array.isArray(t)&&t.length>0)return(await Promise.all(t.map((g,y)=>ah(`${e}.${y}`,g,o,n,s)))).reduce((g,y)=>[...g,...y],[]);const d={...r,name:e,enum:(r.enum||[]).join(", "),...s};return u.map(f=>typeof f=="string"?z3(f,d):f)}function U3(e,t,r,n,s,i){const o=e.join("."),a=r.map((u,d)=>{const h=u.validator,f={...u,ruleIndex:d};return h&&(f.validator=(g,y,b)=>{let x=!1;const m=h(g,y,(...w)=>{Promise.resolve().then(()=>{Gt(!x,"Your validator function has already return a promise. `callback` will be ignored."),x||b(...w)})});x=m&&typeof m.then=="function"&&typeof m.catch=="function",Gt(x,"`callback` is deprecated. Please return a promise instead."),x&&m.then(()=>{b()}).catch(w=>{b(w||" ")})}),f}).sort(({warningOnly:u,ruleIndex:d},{warningOnly:h,ruleIndex:f})=>!!u==!!h?d-f:u?1:-1);let l;if(s===!0)l=new Promise(async(u,d)=>{for(let h=0;h<a.length;h+=1){const f=a[h],g=await ah(o,t,f,n,i);if(g.length){d([{errors:g,rule:f}]);return}}u([])});else{const u=a.map(d=>ah(o,t,d,n,i).then(h=>({errors:h,rule:d})));l=(s?W3(u):B3(u)).then(d=>Promise.reject(d))}return l.catch(u=>u),l}async function B3(e){return Promise.all(e).then(t=>[].concat(...t))}async function W3(e){let t=0;return new Promise(r=>{e.forEach(n=>{n.then(s=>{s.errors.length&&r([s]),t+=1,t===e.length&&r([])})})})}function Xe(e){return rh(e)}function Iv(e,t){let r={};return t.forEach(n=>{const s=Hr(e,n);r=vr(r,n,s)}),r}function Ni(e,t,r=!1){return e&&e.some(n=>sc(t,n,r))}function sc(e,t,r=!1){return!e||!t||!r&&e.length!==t.length?!1:t.every((n,s)=>e[s]===n)}function H3(e,t){if(e===t)return!0;if(!e&&t||e&&!t||!e||!t||typeof e!="object"||typeof t!="object")return!1;const r=Object.keys(e),n=Object.keys(t);return[...new Set([...r,...n])].every(i=>{const o=e[i],a=t[i];return typeof o=="function"&&typeof a=="function"?!0:o===a})}function q3(e,...t){const r=t[0];return r&&r.target&&typeof r.target=="object"&&e in r.target?r.target[e]:r}function Mv(e,t,r){const{length:n}=e;if(t<0||t>=n||r<0||r>=n)return e;const s=e[t],i=t-r;return i>0?[...e.slice(0,r),s,...e.slice(r,t),...e.slice(t+1,n)]:i<0?[...e.slice(0,t),...e.slice(t+1,r+1),s,...e.slice(r+1,n)]:e}function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lh.apply(this,arguments)}const as=[],ro=[];function Wu(e,t,r,n,s,i){return typeof e=="function"?e(t,r,"source"in i?{source:i.source}:{}):n!==s}class n1 extends p.Component{constructor(r){super(r);M(this,"state",{resetCount:0});M(this,"cancelRegisterFunc",null);M(this,"mounted",!1);M(this,"touched",!1);M(this,"dirty",!1);M(this,"validatePromise");M(this,"prevValidating");M(this,"errors",as);M(this,"warnings",ro);M(this,"cancelRegister",()=>{const{preserve:r,isListField:n,name:s}=this.props;this.cancelRegisterFunc&&this.cancelRegisterFunc(n,r,Xe(s)),this.cancelRegisterFunc=null});M(this,"getNamePath",()=>{const{name:r,fieldContext:n}=this.props,{prefixName:s=[]}=n;return r!==void 0?[...s,...r]:[]});M(this,"getRules",()=>{const{rules:r=[],fieldContext:n}=this.props;return r.map(s=>typeof s=="function"?s(n):s)});M(this,"refresh",()=>{this.mounted&&this.setState(({resetCount:r})=>({resetCount:r+1}))});M(this,"metaCache",null);M(this,"triggerMetaEvent",r=>{const{onMetaChange:n}=this.props;if(n){const s={...this.getMeta(),destroy:r};Uf(this.metaCache,s)||n(s),this.metaCache=s}else this.metaCache=null});M(this,"onStoreChange",(r,n,s)=>{const{shouldUpdate:i,dependencies:o=[],onReset:a}=this.props,{store:l}=s,u=this.getNamePath(),d=this.getValue(r),h=this.getValue(l),f=n&&Ni(n,u);switch(s.type==="valueUpdate"&&s.source==="external"&&!Uf(d,h)&&(this.touched=!0,this.dirty=!0,this.validatePromise=null,this.errors=as,this.warnings=ro,this.triggerMetaEvent()),s.type){case"reset":if(!n||f){this.touched=!1,this.dirty=!1,this.validatePromise=void 0,this.errors=as,this.warnings=ro,this.triggerMetaEvent(),a==null||a(),this.refresh();return}break;case"remove":{if(i&&Wu(i,r,l,d,h,s)){this.reRender();return}break}case"setField":{const{data:g}=s;if(f){"touched"in g&&(this.touched=g.touched),"validating"in g&&!("originRCField"in g)&&(this.validatePromise=g.validating?Promise.resolve([]):null),"errors"in g&&(this.errors=g.errors||as),"warnings"in g&&(this.warnings=g.warnings||ro),this.dirty=!0,this.triggerMetaEvent(),this.reRender();return}else if("value"in g&&Ni(n,u,!0)){this.reRender();return}if(i&&!u.length&&Wu(i,r,l,d,h,s)){this.reRender();return}break}case"dependenciesUpdate":{if(o.map(Xe).some(y=>Ni(s.relatedFields,y))){this.reRender();return}break}default:if(f||(!o.length||u.length||i)&&Wu(i,r,l,d,h,s)){this.reRender();return}break}i===!0&&this.reRender()});M(this,"validateRules",r=>{const n=this.getNamePath(),s=this.getValue(),{triggerName:i,validateOnly:o=!1}=r||{},a=Promise.resolve().then(async()=>{if(!this.mounted)return[];const{validateFirst:l=!1,messageVariables:u,validateDebounce:d}=this.props;let h=this.getRules();if(i&&(h=h.filter(g=>g).filter(g=>{const{validateTrigger:y}=g;return y?rh(y).includes(i):!0})),d&&i&&(await new Promise(g=>{setTimeout(g,d)}),this.validatePromise!==a))return[];const f=U3(n,s,h,r,l,u);return f.catch(g=>g).then((g=as)=>{var y;if(this.validatePromise===a){this.validatePromise=null;const b=[],x=[];(y=g.forEach)==null||y.call(g,({rule:{warningOnly:v},errors:m=as})=>{v?x.push(...m):b.push(...m)}),this.errors=b,this.warnings=x,this.triggerMetaEvent(),this.reRender()}}),f});return o||(this.validatePromise=a,this.dirty=!0,this.errors=as,this.warnings=ro,this.triggerMetaEvent(),this.reRender()),a});M(this,"isFieldValidating",()=>!!this.validatePromise);M(this,"isFieldTouched",()=>this.touched);M(this,"isFieldDirty",()=>{if(this.dirty||this.props.initialValue!==void 0)return!0;const{fieldContext:r}=this.props,{getInitialValue:n}=r.getInternalHooks(bs);return n(this.getNamePath())!==void 0});M(this,"getErrors",()=>this.errors);M(this,"getWarnings",()=>this.warnings);M(this,"isListField",()=>this.props.isListField);M(this,"isList",()=>this.props.isList);M(this,"isPreserve",()=>this.props.preserve);M(this,"getMeta",()=>(this.prevValidating=this.isFieldValidating(),{touched:this.isFieldTouched(),validating:this.prevValidating,errors:this.errors,warnings:this.warnings,name:this.getNamePath(),validated:this.validatePromise===null}));M(this,"getOnlyChild",r=>{if(typeof r=="function"){const s=this.getMeta();return{...this.getOnlyChild(r(this.getControlled(),s,this.props.fieldContext)),isFunction:!0}}const n=Jo(r);return n.length!==1||!p.isValidElement(n[0])?{child:n,isFunction:!1}:{child:n[0],isFunction:!1}});M(this,"getValue",r=>{const{getFieldsValue:n}=this.props.fieldContext,s=this.getNamePath();return Hr(r||n(!0),s)});M(this,"getControlled",(r={})=>{const{name:n,trigger:s="onChange",validateTrigger:i,getValueFromEvent:o,normalize:a,valuePropName:l="value",getValueProps:u,fieldContext:d}=this.props,h=i!==void 0?i:d.validateTrigger,f=this.getNamePath(),{getInternalHooks:g,getFieldsValue:y}=d,{dispatch:b}=g(bs),x=this.getValue(),v=u||(E=>({[l]:E})),m=r[s],w=n!==void 0?v(x):{},S={...r,...w};return S[s]=(...E)=>{this.touched=!0,this.dirty=!0,this.triggerMetaEvent();let C;o?C=o(...E):C=q3(l,...E),a&&(C=a(C,x,y(!0))),C!==x&&b({type:"updateValue",namePath:f,value:C}),m&&m(...E)},rh(h||[]).forEach(E=>{const C=S[E];S[E]=(...k)=>{C&&C(...k);const{rules:T}=this.props;T&&T.length&&b({type:"validateField",namePath:f,triggerName:E})}}),S});if(r.fieldContext){const{getInternalHooks:n}=r.fieldContext,{initEntityValue:s}=n(bs);s(this)}}componentDidMount(){const{shouldUpdate:r,fieldContext:n}=this.props;if(this.mounted=!0,n){const{getInternalHooks:s}=n,{registerField:i}=s(bs);this.cancelRegisterFunc=i(this)}r===!0&&this.reRender()}componentWillUnmount(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}reRender(){this.mounted&&this.forceUpdate()}render(){const{resetCount:r}=this.state,{children:n}=this.props,{child:s,isFunction:i}=this.getOnlyChild(n);let o;return i?o=s:p.isValidElement(s)?o=p.cloneElement(s,this.getControlled(s.props)):(Gt(!s,"`children` of Field is not validate ReactElement."),o=s),p.createElement(p.Fragment,{key:r},o)}}M(n1,"contextType",Li);function s1({name:e,...t}){const r=p.useContext(Li),n=p.useContext(nc),s=e!==void 0?Xe(e):void 0,i=t.isListField??!!n;let o="keep";return i||(o=`_${(s||[]).join("_")}`),p.createElement(n1,lh({key:o,name:s,isListField:i},t,{fieldContext:r}))}function G3({name:e,initialValue:t,children:r,rules:n,validateTrigger:s,isListField:i}){const o=p.useContext(Li),a=p.useContext(nc),u=p.useRef({keys:[],id:0}).current,d=p.useMemo(()=>[...Xe(o.prefixName)||[],...Xe(e)],[o.prefixName,e]),h=p.useMemo(()=>({...o,prefixName:d}),[o,d]),f=p.useMemo(()=>({getKey:y=>{const b=d.length,x=y[b];return[u.keys[x],y.slice(b+1)]}}),[u,d]);if(typeof r!="function")return Gt(!1,"Form.List only accepts function as children."),null;const g=(y,b,{source:x})=>x==="internal"?!1:y!==b;return p.createElement(nc.Provider,{value:f},p.createElement(Li.Provider,{value:h},p.createElement(s1,{name:[],shouldUpdate:g,rules:n,validateTrigger:s,initialValue:t,isList:!0,isListField:i??!!a},({value:y=[],onChange:b},x)=>{const{getFieldValue:v}=o,m=()=>v(d||[])||[],w={add:(_,E)=>{const C=m();E>=0&&E<=C.length?(u.keys=[...u.keys.slice(0,E),u.id,...u.keys.slice(E)],b([...C.slice(0,E),_,...C.slice(E)])):(u.keys=[...u.keys,u.id],b([...C,_])),u.id+=1},remove:_=>{const E=m(),C=new Set(Array.isArray(_)?_:[_]);C.size<=0||(u.keys=u.keys.filter((k,T)=>!C.has(T)),b(E.filter((k,T)=>!C.has(T))))},move(_,E){if(_===E)return;const C=m();_<0||_>=C.length||E<0||E>=C.length||(u.keys=Mv(u.keys,_,E),b(Mv(C,_,E)))}};let S=y||[];return Array.isArray(S)||(S=[]),r(S.map((_,E)=>{let C=u.keys[E];return C===void 0&&(u.keys[E]=u.id,C=u.keys[E],u.id+=1),{name:E,key:C,isListField:!0}}),w,x)})))}function K3(e){let t=!1,r=e.length;const n=[];return e.length?new Promise((s,i)=>{e.forEach((o,a)=>{o.catch(l=>(t=!0,l)).then(l=>{r-=1,n[a]=l,!(r>0)&&(t&&i(n),s(n))})})}):Promise.resolve([])}const ch="__@field_split__";function Ja(e){return e.map(t=>`${typeof t}:${t}`).join(ch)}class Zs{constructor(){M(this,"kvs",new Map)}set(t,r){this.kvs.set(Ja(t),r)}get(t){return this.kvs.get(Ja(t))}getAsPrefix(t){const r=Ja(t),n=r+ch,s=[],i=this.kvs.get(r);return i!==void 0&&s.push(i),this.kvs.forEach((o,a)=>{a.startsWith(n)&&s.push(o)}),s}update(t,r){const n=this.get(t),s=r(n);s?this.set(t,s):this.delete(t)}delete(t){this.kvs.delete(Ja(t))}map(t){return[...this.kvs.entries()].map(([r,n])=>{const s=r.split(ch);return t({key:s.map(i=>{const[,o,a]=i.match(/^([^:]*):(.*)$/);return o==="number"?Number(a):a}),value:n})})}toJSON(){const t={};return this.map(({key:r,value:n})=>(t[r.join(".")]=n,null)),t}}const X3=e=>{const t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(null)};class Q3{constructor(t){M(this,"namePathList",[]);M(this,"taskId",0);M(this,"watcherList",new Set);M(this,"form");this.form=t}register(t){return this.watcherList.add(t),()=>{this.watcherList.delete(t)}}notify(t){t.forEach(r=>{this.namePathList.every(n=>!sc(n,r))&&this.namePathList.push(r)}),this.doBatch()}doBatch(){this.taskId+=1;const t=this.taskId;X3(()=>{if(t===this.taskId&&this.watcherList.size){const r=this.form.getForm(),n=r.getFieldsValue(),s=r.getFieldsValue(!0);this.watcherList.forEach(i=>{i(n,s,this.namePathList)}),this.namePathList=[]}})}}class J3{constructor(t){M(this,"formHooked",!1);M(this,"forceRootUpdate");M(this,"subscribable",!0);M(this,"store",{});M(this,"fieldEntities",[]);M(this,"initialValues",{});M(this,"callbacks",{});M(this,"validateMessages",null);M(this,"preserve",null);M(this,"lastValidatePromise",null);M(this,"watcherCenter",new Q3(this));M(this,"getForm",()=>({getFieldValue:this.getFieldValue,getFieldsValue:this.getFieldsValue,getFieldError:this.getFieldError,getFieldWarning:this.getFieldWarning,getFieldsError:this.getFieldsError,isFieldsTouched:this.isFieldsTouched,isFieldTouched:this.isFieldTouched,isFieldValidating:this.isFieldValidating,isFieldsValidating:this.isFieldsValidating,resetFields:this.resetFields,setFields:this.setFields,setFieldValue:this.setFieldValue,setFieldsValue:this.setFieldsValue,validateFields:this.validateFields,submit:this.submit,_init:!0,getInternalHooks:this.getInternalHooks}));M(this,"getInternalHooks",t=>t===bs?(this.formHooked=!0,{dispatch:this.dispatch,initEntityValue:this.initEntityValue,registerField:this.registerField,useSubscribe:this.useSubscribe,setInitialValues:this.setInitialValues,destroyForm:this.destroyForm,setCallbacks:this.setCallbacks,setValidateMessages:this.setValidateMessages,getFields:this.getFields,setPreserve:this.setPreserve,getInitialValue:this.getInitialValue,registerWatch:this.registerWatch}):(Gt(!1,"`getInternalHooks` is internal usage. Should not call directly."),null));M(this,"useSubscribe",t=>{this.subscribable=t});M(this,"prevWithoutPreserves",null);M(this,"setInitialValues",(t,r)=>{var n;if(this.initialValues=t||{},r){let s=gi(t,this.store);(n=this.prevWithoutPreserves)==null||n.map(({key:i})=>{s=vr(s,i,Hr(t,i))}),this.prevWithoutPreserves=null,this.updateStore(s)}});M(this,"destroyForm",t=>{if(t)this.updateStore({});else{const r=new Zs;this.getFieldEntities(!0).forEach(n=>{this.isMergedPreserve(n.isPreserve())||r.set(n.getNamePath(),!0)}),this.prevWithoutPreserves=r}});M(this,"getInitialValue",t=>{const r=Hr(this.initialValues,t);return t.length?gi(r):r});M(this,"setCallbacks",t=>{this.callbacks=t});M(this,"setValidateMessages",t=>{this.validateMessages=t});M(this,"setPreserve",t=>{this.preserve=t});M(this,"registerWatch",t=>this.watcherCenter.register(t));M(this,"notifyWatch",(t=[])=>{this.watcherCenter.notify(t)});M(this,"timeoutId",null);M(this,"warningUnhooked",()=>{});M(this,"updateStore",t=>{this.store=t});M(this,"getFieldEntities",(t=!1)=>t?this.fieldEntities.filter(r=>r.getNamePath().length):this.fieldEntities);M(this,"getFieldsMap",(t=!1)=>{const r=new Zs;return this.getFieldEntities(t).forEach(n=>{const s=n.getNamePath();r.set(s,n)}),r});M(this,"getFieldEntitiesForNamePathList",(t,r=!1)=>{if(!t)return this.getFieldEntities(!0);const n=this.getFieldsMap(!0);return r?t.flatMap(s=>{const i=Xe(s),o=n.getAsPrefix(i);return o.length?o:[{INVALIDATE_NAME_PATH:i}]}):t.map(s=>{const i=Xe(s);return n.get(i)||{INVALIDATE_NAME_PATH:Xe(s)}})});M(this,"getFieldsValue",(t,r)=>{this.warningUnhooked();let n,s;if(t===!0||Array.isArray(t)?(n=t,s=r):t&&typeof t=="object"&&(s=t.filter),n===!0&&!s)return this.store;const i=this.getFieldEntitiesForNamePathList(Array.isArray(n)?n:null,!0),o=[],a=[];i.forEach(u=>{var h;const d=u.INVALIDATE_NAME_PATH||u.getNamePath();if((h=u.isList)!=null&&h.call(u)){a.push(d);return}if(!s)o.push(d);else{const f="getMeta"in u?u.getMeta():null;s(f)&&o.push(d)}});let l=Iv(this.store,o.map(Xe));return a.forEach(u=>{Hr(l,u)||(l=vr(l,u,[]))}),l});M(this,"getFieldValue",t=>{this.warningUnhooked();const r=Xe(t);return Hr(this.store,r)});M(this,"getFieldsError",t=>(this.warningUnhooked(),this.getFieldEntitiesForNamePathList(t).map((n,s)=>n&&!n.INVALIDATE_NAME_PATH?{name:n.getNamePath(),errors:n.getErrors(),warnings:n.getWarnings()}:{name:Xe(t[s]),errors:[],warnings:[]})));M(this,"getFieldError",t=>{this.warningUnhooked();const r=Xe(t);return this.getFieldsError([r])[0].errors});M(this,"getFieldWarning",t=>{this.warningUnhooked();const r=Xe(t);return this.getFieldsError([r])[0].warnings});M(this,"isFieldsTouched",(...t)=>{this.warningUnhooked();const[r,n]=t;let s,i=!1;t.length===0?s=null:t.length===1?Array.isArray(r)?(s=r.map(Xe),i=!1):(s=null,i=r):(s=r.map(Xe),i=n);const o=this.getFieldEntities(!0),a=h=>h.isFieldTouched();if(!s)return i?o.every(h=>a(h)||h.isList()):o.some(a);const l=new Zs;s.forEach(h=>{l.set(h,[])}),o.forEach(h=>{const f=h.getNamePath();s.forEach(g=>{g.every((y,b)=>f[b]===y)&&l.update(g,y=>[...y,h])})});const u=h=>h.some(a),d=l.map(({value:h})=>h);return i?d.every(u):d.some(u)});M(this,"isFieldTouched",t=>(this.warningUnhooked(),this.isFieldsTouched([t])));M(this,"isFieldsValidating",t=>{this.warningUnhooked();const r=this.getFieldEntities();if(!t)return r.some(s=>s.isFieldValidating());const n=t.map(Xe);return r.some(s=>{const i=s.getNamePath();return Ni(n,i)&&s.isFieldValidating()})});M(this,"isFieldValidating",t=>(this.warningUnhooked(),this.isFieldsValidating([t])));M(this,"resetWithFieldInitialValue",(t={})=>{const r=new Zs,n=this.getFieldEntities(!0);n.forEach(o=>{const{initialValue:a}=o.props,l=o.getNamePath();if(a!==void 0){const u=r.get(l)||new Set;u.add({entity:o,value:a}),r.set(l,u)}});const s=o=>{o.forEach(a=>{const{initialValue:l}=a.props;if(l!==void 0){const u=a.getNamePath();if(this.getInitialValue(u)!==void 0)Gt(!1,`Form already set 'initialValues' with path '${u.join(".")}'. Field can not overwrite it.`);else{const h=r.get(u);if(h&&h.size>1)Gt(!1,`Multiple Field with path '${u.join(".")}' set 'initialValue'. Can not decide which one to pick.`);else if(h){const f=this.getFieldValue(u);!a.isListField()&&(!t.skipExist||f===void 0)&&this.updateStore(vr(this.store,u,[...h][0].value))}}}})};let i;t.entities?i=t.entities:t.namePathList?(i=[],t.namePathList.forEach(o=>{const a=r.get(o);a&&i.push(...[...a].map(l=>l.entity))})):i=n,s(i)});M(this,"resetFields",t=>{this.warningUnhooked();const r=this.store;if(!t){this.updateStore(gi(this.initialValues)),this.resetWithFieldInitialValue(),this.notifyObservers(r,null,{type:"reset"}),this.notifyWatch();return}const n=t.map(Xe);n.forEach(s=>{const i=this.getInitialValue(s);this.updateStore(vr(this.store,s,i))}),this.resetWithFieldInitialValue({namePathList:n}),this.notifyObservers(r,n,{type:"reset"}),this.notifyWatch(n)});M(this,"setFields",t=>{this.warningUnhooked();const r=this.store,n=[];t.forEach(s=>{const{name:i,...o}=s,a=Xe(i);n.push(a),"value"in o&&this.updateStore(vr(this.store,a,o.value)),this.notifyObservers(r,[a],{type:"setField",data:s})}),this.notifyWatch(n)});M(this,"getFields",()=>this.getFieldEntities(!0).map(n=>{const s=n.getNamePath(),o={...n.getMeta(),name:s,value:this.getFieldValue(s)};return Object.defineProperty(o,"originRCField",{value:!0}),o}));M(this,"initEntityValue",t=>{const{initialValue:r}=t.props;if(r!==void 0){const n=t.getNamePath();Hr(this.store,n)===void 0&&this.updateStore(vr(this.store,n,r))}});M(this,"isMergedPreserve",t=>(t!==void 0?t:this.preserve)??!0);M(this,"registerField",t=>{this.fieldEntities.push(t);const r=t.getNamePath();if(this.notifyWatch([r]),t.props.initialValue!==void 0){const n=this.store;this.resetWithFieldInitialValue({entities:[t],skipExist:!0}),this.notifyObservers(n,[t.getNamePath()],{type:"valueUpdate",source:"internal"})}return(n,s,i=[])=>{if(this.fieldEntities=this.fieldEntities.filter(o=>o!==t),!this.isMergedPreserve(s)&&(!n||i.length>1)){const o=n?void 0:this.getInitialValue(r);if(r.length&&this.getFieldValue(r)!==o&&this.fieldEntities.every(a=>!sc(a.getNamePath(),r))){const a=this.store;this.updateStore(vr(a,r,o,!0)),this.notifyObservers(a,[r],{type:"remove"}),this.triggerDependenciesUpdate(a,r)}}this.notifyWatch([r])}});M(this,"dispatch",t=>{switch(t.type){case"updateValue":{const{namePath:r,value:n}=t;this.updateValue(r,n);break}case"validateField":{const{namePath:r,triggerName:n}=t;this.validateFields([r],{triggerName:n});break}}});M(this,"notifyObservers",(t,r,n)=>{if(this.subscribable){const s={...n,store:this.getFieldsValue(!0)};this.getFieldEntities().forEach(({onStoreChange:i})=>{i(t,r,s)})}else this.forceRootUpdate()});M(this,"triggerDependenciesUpdate",(t,r)=>{const n=this.getDependencyChildrenFields(r);return n.length&&this.validateFields(n),this.notifyObservers(t,n,{type:"dependenciesUpdate",relatedFields:[r,...n]}),n});M(this,"updateValue",(t,r)=>{const n=Xe(t),s=this.store;this.updateStore(vr(this.store,n,r)),this.notifyObservers(s,[n],{type:"valueUpdate",source:"internal"}),this.notifyWatch([n]);const i=this.triggerDependenciesUpdate(s,n),{onValuesChange:o}=this.callbacks;if(o){const a=this.getFieldsMap(!0).get(n),l=Iv(this.store,[n]),u=this.getFieldsValue(),d=eb([u,l],{prepareArray:h=>a!=null&&a.isList()?[]:[...h||[]]});o(l,d)}this.triggerOnFieldsChange([n,...i])});M(this,"setFieldsValue",t=>{this.warningUnhooked();const r=this.store;if(t){const n=gi(this.store,t);this.updateStore(n)}this.notifyObservers(r,null,{type:"valueUpdate",source:"external"}),this.notifyWatch()});M(this,"setFieldValue",(t,r)=>{this.setFields([{name:t,value:r,errors:[],warnings:[],touched:!0}])});M(this,"getDependencyChildrenFields",t=>{const r=new Set,n=[],s=new Zs;this.getFieldEntities().forEach(o=>{const{dependencies:a}=o.props;(a||[]).forEach(l=>{const u=Xe(l);s.update(u,(d=new Set)=>(d.add(o),d))})});const i=o=>{(s.get(o)||new Set).forEach(l=>{if(!r.has(l)){r.add(l);const u=l.getNamePath();l.isFieldDirty()&&u.length&&(n.push(u),i(u))}})};return i(t),n});M(this,"triggerOnFieldsChange",(t,r)=>{const{onFieldsChange:n}=this.callbacks;if(n){const s=this.getFields();if(r){const o=new Zs;r.forEach(({name:a,errors:l})=>{o.set(a,l)}),s.forEach(a=>{a.errors=o.get(a.name)||a.errors})}const i=s.filter(({name:o})=>Ni(t,o));i.length&&n(i,s)}});M(this,"validateFields",(t,r)=>{this.warningUnhooked();let n,s;Array.isArray(t)||typeof t=="string"||typeof r=="string"?(n=t,s=r):s=t;const i=!!n,o=i?n.map(Xe):[],a=[...o],l=[],u=String(Date.now()),d=new Set,{recursive:h,dirty:f}=s||{};this.getFieldEntities(!0).forEach(x=>{const v=x.getNamePath();if(i||((!x.isList()||!o.some(m=>sc(m,v,!0)))&&a.push(v),o.push(v)),!(!x.props.rules||!x.props.rules.length)&&!(f&&!x.isFieldDirty())&&(d.add(v.join(u)),!i||Ni(o,v,h))){const m=x.validateRules({validateMessages:{...r1,...this.validateMessages},...s});l.push(m.then(()=>({name:v,errors:[],warnings:[]})).catch(w=>{var E;const S=[],_=[];return(E=w.forEach)==null||E.call(w,({rule:{warningOnly:C},errors:k})=>{C?_.push(...k):S.push(...k)}),S.length?Promise.reject({name:v,errors:S,warnings:_}):{name:v,errors:S,warnings:_}}))}});const g=K3(l);this.lastValidatePromise=g,g.catch(x=>x).then(x=>{const v=x.map(({name:m})=>m);this.notifyObservers(this.store,v,{type:"validateFinish"}),this.triggerOnFieldsChange(v,x)});const y=g.then(()=>this.lastValidatePromise===g?Promise.resolve(this.getFieldsValue(a)):Promise.reject([])).catch(x=>{var w,S;const v=x.filter(_=>_&&_.errors.length),m=(S=(w=v[0])==null?void 0:w.errors)==null?void 0:S[0];return Promise.reject({message:m,values:this.getFieldsValue(o),errorFields:v,outOfDate:this.lastValidatePromise!==g})});y.catch(x=>x);const b=o.filter(x=>d.has(x.join(u)));return this.triggerOnFieldsChange(b),y});M(this,"submit",()=>{this.warningUnhooked(),this.validateFields().then(t=>{const{onFinish:r}=this.callbacks;if(r)try{r(t)}catch(n){console.error(n)}}).catch(t=>{const{onFinishFailed:r}=this.callbacks;r&&r(t)})});this.forceRootUpdate=t}}function i1(e){const t=p.useRef(null),[,r]=p.useState({});if(!t.current)if(e)t.current=e;else{const n=()=>{r({})},s=new J3(n);t.current=s.getForm()}return[t.current]}const uh=p.createContext({triggerFormChange:()=>{},triggerFormFinish:()=>{},registerForm:()=>{},unregisterForm:()=>{}}),Y3=({validateMessages:e,onFormChange:t,onFormFinish:r,children:n})=>{const s=p.useContext(uh),i=p.useRef({});return p.createElement(uh.Provider,{value:{...s,validateMessages:{...s.validateMessages,...e},triggerFormChange:(o,a)=>{t&&t(o,{changedFields:a,forms:i.current}),s.triggerFormChange(o,a)},triggerFormFinish:(o,a)=>{r&&r(o,{values:a,forms:i.current}),s.triggerFormFinish(o,a)},registerForm:(o,a)=>{o&&(i.current={...i.current,[o]:a}),s.registerForm(o,a)},unregisterForm:o=>{const a={...i.current};delete a[o],i.current=a,s.unregisterForm(o)}}},n)};function dh(){return dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dh.apply(this,arguments)}const Z3=({name:e,initialValues:t,fields:r,form:n,preserve:s,children:i,component:o="form",validateMessages:a,validateTrigger:l="onChange",onValuesChange:u,onFieldsChange:d,onFinish:h,onFinishFailed:f,clearOnDestroy:g,...y},b)=>{const x=p.useRef(null),v=p.useContext(uh),[m]=i1(n),{useSubscribe:w,setInitialValues:S,setCallbacks:_,setValidateMessages:E,setPreserve:C,destroyForm:k}=m.getInternalHooks(bs);p.useImperativeHandle(b,()=>({...m,nativeElement:x.current})),p.useEffect(()=>(v.registerForm(e,m),()=>{v.unregisterForm(e)}),[v,m,e]),E({...v.validateMessages,...a}),_({onValuesChange:u,onFieldsChange:(q,...G)=>{v.triggerFormChange(e,q),d&&d(q,...G)},onFinish:q=>{v.triggerFormFinish(e,q),h&&h(q)},onFinishFailed:f}),C(s);const T=p.useRef(null);S(t,!T.current),T.current||(T.current=!0),p.useEffect(()=>()=>k(g),[]);let P;const A=typeof i=="function";if(A){const q=m.getFieldsValue(!0);P=i(q,m)}else P=i;w(!A);const D=p.useRef(null);p.useEffect(()=>{H3(D.current||[],r||[])||m.setFields(r||[]),D.current=r},[r,m]);const W=p.useMemo(()=>({...m,validateTrigger:l}),[m,l]),Q=p.createElement(nc.Provider,{value:null},p.createElement(Li.Provider,{value:W},P));return o===!1?Q:p.createElement(o,dh({},y,{ref:x,onSubmit:q=>{q.preventDefault(),q.stopPropagation(),m.submit()},onReset:q=>{var G;q.preventDefault(),m.resetFields(),(G=y.onReset)==null||G.call(y,q)}}),Q)};function Hu(e){try{return JSON.stringify(e)}catch{return Math.random()}}function e$(...e){const[t,r={}]=e,n=c3(r)?{form:r}:r,s=n.form,[i,o]=p.useState(()=>typeof t=="function"?t({}):void 0),a=p.useMemo(()=>Hu(i),[i]),l=p.useRef(a);l.current=a;const u=p.useContext(Li),d=s||u,h=d&&d._init,{getFieldsValue:f,getInternalHooks:g}=d,{registerWatch:y}=g(bs),b=Bt((v,m)=>{const w=n.preserve?m??f(!0):v??f(),S=typeof t=="function"?t(w):Hr(w,Xe(t));Hu(i)!==Hu(S)&&o(S)}),x=typeof t=="function"?t:JSON.stringify(t);return p.useEffect(()=>{h&&b()},[h,x]),p.useEffect(()=>h?y((m,w)=>{b(m,w)}):void 0,[h]),i}const t$=p.forwardRef(Z3),pa=t$;pa.FormProvider=Y3;pa.Field=s1;pa.List=G3;pa.useForm=i1;pa.useWatch=e$;const ic=p.createContext({}),r$=({children:e,status:t,override:r})=>{const n=p.useContext(ic),s=p.useMemo(()=>{const i={...n};return r&&delete i.isFormItemInput,t&&(delete i.status,delete i.hasFeedback,delete i.feedbackIcon),i},[t,r,n]);return p.createElement(ic.Provider,{value:s},e)},n$=p.createContext(void 0),s$=e=>{const{space:t,form:r,children:n}=e;if(!iT(n))return null;let s=n;return r&&(s=Pe.createElement(r$,{override:!0,status:!0},s)),t&&(s=Pe.createElement(n3,null,s)),s},o1=(e,t,r)=>ze({[`${e}-status-success`]:t==="success",[`${e}-status-warning`]:t==="warning",[`${e}-status-error`]:t==="error",[`${e}-status-validating`]:t==="validating",[`${e}-has-feedback`]:r}),i$=(e,t)=>t||e,o$=(e,t,r)=>{const{variant:n,[e]:s}=p.useContext(Qr),i=p.useContext(n$),o=s==null?void 0:s.variant;let a;typeof t<"u"?a=t:r===!1?a="borderless":a=i??o??n??"outlined";const l=gj.includes(a);return[a,l]};function Dp(e){return Vs(e,{inputAffixPadding:e.paddingXXS})}const Vp=e=>{const{controlHeight:t,fontSize:r,lineHeight:n,lineWidth:s,controlHeightSM:i,controlHeightLG:o,fontSizeLG:a,lineHeightLG:l,paddingSM:u,controlPaddingHorizontalSM:d,controlPaddingHorizontal:h,colorFillAlter:f,colorPrimaryHover:g,colorPrimary:y,controlOutlineWidth:b,controlOutline:x,colorErrorOutline:v,colorWarningOutline:m,colorBgContainer:w,inputFontSize:S,inputFontSizeLG:_,inputFontSizeSM:E}=e,C=S||r,k=E||C,T=_||a,P=Math.round((t-C*n)/2*10)/10-s,A=Math.round((i-k*n)/2*10)/10-s,D=Math.ceil((o-T*l)/2*10)/10-s;return{paddingBlock:Math.max(P,0),paddingBlockSM:Math.max(A,0),paddingBlockLG:Math.max(D,0),paddingInline:u-s,paddingInlineSM:d-s,paddingInlineLG:h-s,addonBg:f,activeBorderColor:y,hoverBorderColor:g,activeShadow:`0 0 0 ${b}px ${x}`,errorActiveShadow:`0 0 0 ${b}px ${v}`,warningActiveShadow:`0 0 0 ${b}px ${m}`,hoverBg:w,activeBg:w,inputFontSize:C,inputFontSizeLG:T,inputFontSizeSM:k}},a$=e=>({borderColor:e.hoverBorderColor,backgroundColor:e.hoverBg}),zp=e=>({color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":{...a$(Vs(e,{hoverBorderColor:e.colorBorder,hoverBg:e.colorBgContainerDisabled}))}}),a1=(e,t)=>({background:e.colorBgContainer,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:t.borderColor,"&:hover":{borderColor:t.hoverBorderColor,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:t.activeBorderColor,boxShadow:t.activeShadow,outline:0,backgroundColor:e.activeBg}}),Fv=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:{...a1(e,t),[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}},[`&${e.componentCls}-status-${t.status}${e.componentCls}-disabled`]:{borderColor:t.borderColor}}),l1=(e,t)=>({"&-outlined":{...a1(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow}),[`&${e.componentCls}-disabled, &[disabled]`]:{...zp(e)},...Fv(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError}),...Fv(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning}),...t}}),Lv=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{borderColor:t.addonBorderColor,color:t.addonColor}}}),l$=e=>({"&-outlined":{[`${e.componentCls}-group`]:{"&-addon":{background:e.addonBg,border:`${$e(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}},...Lv(e,{status:"error",addonBorderColor:e.colorError,addonColor:e.colorErrorText}),...Lv(e,{status:"warning",addonBorderColor:e.colorWarning,addonColor:e.colorWarningText}),[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group-addon`]:{...zp(e)}}}}),c1=(e,t)=>{const{componentCls:r}=e;return{"&-borderless":{background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${r}-disabled, &[disabled]`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${r}-status-error`]:{"&, & input, & textarea":{color:e.colorError}},[`&${r}-status-warning`]:{"&, & input, & textarea":{color:e.colorWarning}},...t}}},u1=(e,t)=>({background:t.bg,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:(t==null?void 0:t.inputColor)??"unset"},"&:hover":{background:t.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:t.activeBorderColor,backgroundColor:e.activeBg}}),Dv=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:{...u1(e,t),[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}}}),d1=(e,t)=>({"&-filled":{...u1(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.activeBorderColor,inputColor:e.colorText}),[`&${e.componentCls}-disabled, &[disabled]`]:{...zp(e)},...Dv(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,inputColor:e.colorErrorText,affixColor:e.colorError}),...Dv(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,inputColor:e.colorWarningText,affixColor:e.colorWarning}),...t}}),Vv=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{background:t.addonBg,color:t.addonColor}}}),c$=e=>({"&-filled":{[`${e.componentCls}-group-addon`]:{background:e.colorFillTertiary,"&:last-child":{position:"static"}},...Vv(e,{status:"error",addonBg:e.colorErrorBg,addonColor:e.colorErrorText}),...Vv(e,{status:"warning",addonBg:e.colorWarningBg,addonColor:e.colorWarningText}),[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group`]:{"&-addon":{background:e.colorFillTertiary,color:e.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${$e(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${$e(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${$e(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${$e(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${$e(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${$e(e.lineWidth)} ${e.lineType} ${e.colorBorder}`}}}}}),f1=(e,t)=>({background:e.colorBgContainer,borderWidth:`${$e(e.lineWidth)} 0`,borderStyle:`${e.lineType} none`,borderColor:`transparent transparent ${t.borderColor} transparent`,borderRadius:0,"&:hover":{borderColor:`transparent transparent ${t.hoverBorderColor} transparent`,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:`transparent transparent ${t.activeBorderColor} transparent`,outline:0,backgroundColor:e.activeBg}}),zv=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:{...f1(e,t),[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}},[`&${e.componentCls}-status-${t.status}${e.componentCls}-disabled`]:{borderColor:`transparent transparent ${t.borderColor} transparent`}}),h1=(e,t)=>({"&-underlined":{...f1(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow}),[`&${e.componentCls}-disabled, &[disabled]`]:{color:e.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:`transparent transparent ${e.colorBorder} transparent`}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"},...zv(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError}),...zv(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning}),...t}}),p1=e=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),m1=e=>{const{paddingBlockLG:t,lineHeightLG:r,borderRadiusLG:n,paddingInlineLG:s}=e;return{padding:`${$e(t)} ${$e(s)}`,fontSize:e.inputFontSizeLG,lineHeight:r,borderRadius:n}},g1=e=>({padding:`${$e(e.paddingBlockSM)} ${$e(e.paddingInlineSM)}`,fontSize:e.inputFontSizeSM,borderRadius:e.borderRadiusSM}),Up=(e,t={})=>({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${$e(e.paddingBlock)} ${$e(e.paddingInline)}`,color:e.colorText,fontSize:e.inputFontSize,lineHeight:e.lineHeight,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid}`,...p1(e.colorTextPlaceholder),"&-lg":{...m1(e),...t.largeStyle},"&-sm":{...g1(e),...t.smallStyle},"&-rtl, &-textarea-rtl":{direction:"rtl"}}),u$=e=>{const{componentCls:t,antCls:r}=e;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${t}, &-lg > ${t}-group-addon`]:{...m1(e)},[`&-sm ${t}, &-sm > ${t}-group-addon`]:{...g1(e)},[`&-lg ${r}-select-single`]:{height:e.controlHeightLG},[`&-sm ${r}-select-single`]:{height:e.controlHeightSM},[`> ${t}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${t}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${$e(e.paddingInline)}`,color:e.colorText,fontWeight:"normal",fontSize:e.inputFontSize,textAlign:"center",borderRadius:e.borderRadius,transition:`all ${e.motionDurationSlow}`,lineHeight:1,[`${r}-select`]:{margin:`${$e(e.calc(e.paddingBlock).add(1).mul(-1).equal())} ${$e(e.calc(e.paddingInline).mul(-1).equal())}`,[`&${r}-select-single:not(${r}-select-customize-input):not(${r}-pagination-size-changer)`]:{backgroundColor:"inherit",border:`${$e(e.lineWidth)} ${e.lineType} transparent`,boxShadow:"none"}},[`${r}-cascader-picker`]:{margin:`-9px ${$e(e.calc(e.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${r}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[t]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1}},[`> ${t}:first-child, ${t}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${r}-select`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}-affix-wrapper`]:{[`&:not(:first-child) ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}:last-child, ${t}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${r}-select`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${t}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0},"&:not(:first-child)":{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${t}-group-compact`]:{display:"block",...DN(),[`${t}-group-addon, ${t}-group-wrap, > ${t}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${t}-affix-wrapper,
        & > ${t}-number-affix-wrapper,
        & > ${r}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderInlineEndWidth:e.lineWidth},[t]:{float:"none"},[`& > ${r}-select,
      & > ${r}-select-auto-complete ${t},
      & > ${r}-cascader-picker ${t},
      & > ${t}-group-wrapper ${t}`]:{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${r}-select-focused`]:{zIndex:1},[`& > ${r}-select > ${r}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${r}-select:first-child,
      & > ${r}-select-auto-complete:first-child ${t},
      & > ${r}-cascader-picker:first-child ${t}`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius},[`& > *:last-child,
      & > ${r}-select:last-child,
      & > ${r}-cascader-picker:last-child ${t},
      & > ${r}-cascader-picker-focused:last-child ${t}`]:{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius},[`& > ${r}-select-auto-complete ${t}`]:{verticalAlign:"top"},[`${t}-group-wrapper + ${t}-group-wrapper`]:{marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),[`${t}-affix-wrapper`]:{}}}}},d$=e=>{const{componentCls:t,controlHeightSM:r,lineWidth:n,calc:s}=e,o=s(r).sub(s(n).mul(2)).sub(16).div(2).equal();return{[t]:{...tc(e),...Up(e),...l1(e),...d1(e),...c1(e),...h1(e),'&[type="color"]':{height:e.controlHeight,[`&${t}-lg`]:{height:e.controlHeightLG},[`&${t}-sm`]:{height:r,paddingTop:o,paddingBottom:o}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{appearance:"none"}}}},f$=e=>{const{componentCls:t}=e;return{[`${t}-clear-icon`]:{margin:0,padding:0,lineHeight:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${e.motionDurationSlow}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:e.colorIcon},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${$e(e.inputAffixPadding)}`}}}},h$=e=>{const{componentCls:t,inputAffixPadding:r,colorTextDescription:n,motionDurationSlow:s,colorIcon:i,colorIconHover:o,iconCls:a}=e,l=`${t}-affix-wrapper`,u=`${t}-affix-wrapper-disabled`;return{[l]:{...Up(e),display:"inline-flex","&-focused, &:focus":{zIndex:1},[`> input${t}`]:{padding:0},[`> input${t}, > textarea${t}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[t]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:n,direction:"ltr"},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:r},"&-suffix":{marginInlineStart:r}},...f$(e),[`${a}${t}-password-icon`]:{color:i,cursor:"pointer",transition:`all ${s}`,"&:hover":{color:o}}},[`${t}-underlined`]:{borderRadius:0},[u]:{[`${a}${t}-password-icon`]:{color:i,cursor:"not-allowed","&:hover":{color:i}}}}},p$=e=>{const{componentCls:t,borderRadiusLG:r,borderRadiusSM:n}=e;return{[`${t}-group`]:{...tc(e),...u$(e),"&-rtl":{direction:"rtl"},"&-wrapper":{display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${t}-group-addon`]:{borderRadius:r,fontSize:e.inputFontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:n}},...l$(e),...c$(e),[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-item`]:{[`${t}-affix-wrapper`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}}},m$=e=>{const{componentCls:t}=e;return{[`${t}-out-of-range`]:{[`&, & input, & textarea, ${t}-show-count-suffix, ${t}-data-count`]:{color:e.colorError}}}};fa(["Input","Shared"],e=>{const t=Vs(e,Dp(e));return[d$(t),h$(t)]},Vp,{resetFont:!1});fa(["Input","Component"],e=>{const t=Vs(e,Dp(e));return[p$(t),m$(t),Lp(t,{focus:!0,focusElCls:`${t.componentCls}-affix-wrapper-focused`})]},Vp,{resetFont:!1});function fh(){return typeof BigInt=="function"}function v1(e){return!e&&e!==0&&!Number.isNaN(e)||!String(e).trim()}function Cs(e){var t=e.trim(),r=t.startsWith("-");r&&(t=t.slice(1)),t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),t.startsWith(".")&&(t="0".concat(t));var n=t||"0",s=n.split("."),i=s[0]||"0",o=s[1]||"0";i==="0"&&o==="0"&&(r=!1);var a=r?"-":"";return{negative:r,negativeStr:a,trimStr:n,integerStr:i,decimalStr:o,fullStr:"".concat(a).concat(n)}}function Bp(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function xs(e){var t=String(e);if(Bp(e)){var r=Number(t.slice(t.indexOf("e-")+2)),n=t.match(/\.(\d+)/);return n!=null&&n[1]&&(r+=n[1].length),r}return t.includes(".")&&Wp(t)?t.length-t.indexOf(".")-1:0}function Wc(e){var t=String(e);if(Bp(e)){if(e>Number.MAX_SAFE_INTEGER)return String(fh()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(fh()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(xs(t))}return Cs(t).fullStr}function Wp(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}var g$=function(){function e(t){if(Ls(this,e),Me(this,"origin",""),Me(this,"negative",void 0),Me(this,"integer",void 0),Me(this,"decimal",void 0),Me(this,"decimalLen",void 0),Me(this,"empty",void 0),Me(this,"nan",void 0),v1(t)){this.empty=!0;return}if(this.origin=String(t),t==="-"||Number.isNaN(t)){this.nan=!0;return}var r=t;if(Bp(r)&&(r=Number(r)),r=typeof r=="string"?r:Wc(r),Wp(r)){var n=Cs(r);this.negative=n.negative;var s=n.trimStr.split(".");this.integer=BigInt(s[0]);var i=s[1]||"0";this.decimal=BigInt(i),this.decimalLen=i.length}else this.nan=!0}return Ds(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(r){var n="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(r,"0"));return BigInt(n)}},{key:"negate",value:function(){var r=new e(this.toString());return r.negative=!r.negative,r}},{key:"cal",value:function(r,n,s){var i=Math.max(this.getDecimalStr().length,r.getDecimalStr().length),o=this.alignDecimal(i),a=r.alignDecimal(i),l=n(o,a).toString(),u=s(i),d=Cs(l),h=d.negativeStr,f=d.trimStr,g="".concat(h).concat(f.padStart(u+1,"0"));return new e("".concat(g.slice(0,-u),".").concat(g.slice(-u)))}},{key:"add",value:function(r){if(this.isInvalidate())return new e(r);var n=new e(r);return n.isInvalidate()?this:this.cal(n,function(s,i){return s+i},function(s){return s})}},{key:"multi",value:function(r){var n=new e(r);return this.isInvalidate()||n.isInvalidate()?new e(NaN):this.cal(n,function(s,i){return s*i},function(s){return s*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(r){return this.toString()===(r==null?void 0:r.toString())}},{key:"lessEquals",value:function(r){return this.add(r.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r?this.isInvalidate()?"":Cs("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}(),v$=function(){function e(t){if(Ls(this,e),Me(this,"origin",""),Me(this,"number",void 0),Me(this,"empty",void 0),v1(t)){this.empty=!0;return}this.origin=String(t),this.number=Number(t)}return Ds(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(r){if(this.isInvalidate())return new e(r);var n=Number(r);if(Number.isNaN(n))return this;var s=this.number+n;if(s>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(s<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var i=Math.max(xs(this.number),xs(n));return new e(s.toFixed(i))}},{key:"multi",value:function(r){var n=Number(r);if(this.isInvalidate()||Number.isNaN(n))return new e(NaN);var s=this.number*n;if(s>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(s<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var i=Math.max(xs(this.number),xs(n));return new e(s.toFixed(i))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(r){return this.toNumber()===(r==null?void 0:r.toNumber())}},{key:"lessEquals",value:function(r){return this.add(r.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r?this.isInvalidate()?"":Wc(this.number):this.origin}}]),e}();function Mr(e){return fh()?new g$(e):new v$(e)}function bl(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e==="")return"";var s=Cs(e),i=s.negativeStr,o=s.integerStr,a=s.decimalStr,l="".concat(t).concat(a),u="".concat(i).concat(o);if(r>=0){var d=Number(a[r]);if(d>=5&&!n){var h=Mr(e).add("".concat(i,"0.").concat("0".repeat(r)).concat(10-d));return bl(h.toString(),t,r,n)}return r===0?u:"".concat(u).concat(t).concat(a.padEnd(r,"0").slice(0,r))}return l===".0"?u:"".concat(u).concat(l)}function y$(e,t){return typeof Proxy<"u"&&e?new Proxy(e,{get(r,n){if(t[n])return t[n];const s=r[n];return typeof s=="function"?s.bind(r):s}}):e}function w$(e,t){const r=p.useRef(null);function n(){try{const{selectionStart:i,selectionEnd:o,value:a}=e,l=a.substring(0,i),u=a.substring(o);r.current={start:i,end:o,value:a,beforeTxt:l,afterTxt:u}}catch{}}function s(){if(e&&r.current&&t)try{const{value:i}=e,{beforeTxt:o,afterTxt:a,start:l}=r.current;let u=i.length;if(i.startsWith(o))u=o.length;else if(i.endsWith(a))u=i.length-r.current.afterTxt.length;else{const d=o[l-1],h=i.indexOf(d,l-1);h!==-1&&(u=h+1)}e.setSelectionRange(u,u)}catch(i){Gt(!1,`Something warning of cursor restore. Please fire issue about this: ${i.message}`)}}return[n,s]}const b$=200,x$=600;function Uv({prefixCls:e,action:t,children:r,disabled:n,className:s,style:i,onStep:o}){const a=t==="up",l=p.useRef(),u=p.useRef([]),d=()=>{clearTimeout(l.current)},h=b=>{b.preventDefault(),d(),o(a,"handler");function x(){o(a,"handler"),l.current=setTimeout(x,b$)}l.current=setTimeout(x,x$)};p.useEffect(()=>()=>{d(),u.current.forEach(b=>{As.cancel(b)})},[]);const f=`${e}-action`,g=ze(f,`${f}-${t}`,{[`${f}-${t}-disabled`]:n},s),y=()=>u.current.push(As(d));return p.createElement("span",{unselectable:"on",role:"button",onMouseUp:y,onMouseLeave:y,onMouseDown:b=>{h(b)},"aria-label":a?"Increase Value":"Decrease Value","aria-disabled":n,className:g,style:i},r||p.createElement("span",{unselectable:"on",className:`${e}-action-${t}-inner`}))}function Bv(e){const t=typeof e=="number"?Wc(e):Cs(e).fullStr;return t.includes(".")?Cs(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}const S$=()=>{const e=p.useRef(0),t=()=>{As.cancel(e.current)};return p.useEffect(()=>t,[]),r=>{t(),e.current=As(()=>{r()})}};function ko(){return ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ko.apply(this,arguments)}const Wv=(e,t)=>e||t.isEmpty()?t.toString():t.toNumber(),Hv=e=>{const t=Mr(e);return t.isInvalidate()?null:t},_$=p.forwardRef((e,t)=>{const{mode:r="input",prefixCls:n="rc-input-number",className:s,style:i,classNames:o,styles:a,min:l,max:u,step:d=1,defaultValue:h,value:f,disabled:g,readOnly:y,upHandler:b,downHandler:x,keyboard:v,changeOnWheel:m=!1,controls:w=!0,prefix:S,suffix:_,stringMode:E,parser:C,formatter:k,precision:T,decimalSeparator:P,onChange:A,onInput:D,onPressEnter:W,onStep:Q,onMouseDown:q,onClick:G,onMouseUp:V,onMouseLeave:R,onMouseMove:U,onMouseEnter:H,onMouseOut:se,changeOnBlur:oe=!0,...Ee}=e,[ye,fe]=p.useState(!1),j=p.useRef(!1),I=p.useRef(!1),O=p.useRef(!1),z=p.useRef(null),K=p.useRef(null);p.useImperativeHandle(t,()=>y$(K.current,{focus:X=>{l3(K.current,X)},blur:()=>{var X;(X=K.current)==null||X.blur()},nativeElement:z.current}));const[N,B]=p.useState(()=>Mr(f??h));function Z(X){f===void 0&&B(X)}const ee=p.useCallback((X,me)=>{if(!me)return T>=0?T:Math.max(xs(X),xs(d))},[T,d]),le=p.useCallback(X=>{const me=String(X);if(C)return C(me);let ae=me;return P&&(ae=ae.replace(P,".")),ae.replace(/[^\w.-]+/g,"")},[C,P]),he=p.useRef(""),ne=p.useCallback((X,me)=>{if(k)return k(X,{userTyping:me,input:String(he.current)});let ae=typeof X=="number"?Wc(X):X;if(!me){const Xt=ee(ae,me);Wp(ae)&&(P||Xt>=0)&&(ae=bl(ae,P||".",Xt))}return ae},[k,ee,P]),[ce,ke]=p.useState(()=>{const X=h??f;return N.isInvalidate()&&["string","number"].includes(typeof X)?Number.isNaN(X)?"":X:ne(N.toString(),!1)});he.current=ce;function F(X,me){ke(ne(X.isInvalidate()?X.toString(!1):X.toString(!me),me))}const te=p.useMemo(()=>Hv(u),[u,T]),xe=p.useMemo(()=>Hv(l),[l,T]),jr=p.useMemo(()=>!te||!N||N.isInvalidate()?!1:te.lessEquals(N),[te,N]),Nr=p.useMemo(()=>!xe||!N||N.isInvalidate()?!1:N.lessEquals(xe),[xe,N]),[wt,Ze]=w$(K.current,ye),jn=X=>te&&!X.lessEquals(te)?te:xe&&!xe.lessEquals(X)?xe:null,dr=X=>!jn(X),Tr=(X,me)=>{let ae=X,Xt=dr(ae)||ae.isEmpty();if(!ae.isEmpty()&&!me&&(ae=jn(ae)||ae,Xt=!0),!y&&!g&&Xt){const Qt=ae.toString(),Jt=ee(Qt,me);return Jt>=0&&(ae=Mr(bl(Qt,".",Jt)),dr(ae)||(ae=Mr(bl(Qt,".",Jt,!0)))),ae.equals(N)||(Z(ae),A==null||A(ae.isEmpty()?null:Wv(E,ae)),f===void 0&&F(ae,me)),ae}return N},Jr=S$(),Mt=X=>{if(wt(),he.current=X,ke(X),!I.current){const me=le(X),ae=Mr(me);ae.isNaN()||Tr(ae,!0)}D==null||D(X),Jr(()=>{let me=X;C||(me=X.replace(//g,".")),me!==X&&Mt(me)})},Ft=()=>{I.current=!0},ln=()=>{I.current=!1,Mt(K.current.value)},Kt=X=>{Mt(X.target.value)},fr=Bt((X,me)=>{var Jt;if(X&&jr||!X&&Nr)return;j.current=!1;let ae=Mr(O.current?Bv(d):d);X||(ae=ae.negate());const Xt=(N||Mr(0)).add(ae.toString()),Qt=Tr(Xt,!1);Q==null||Q(Wv(E,Qt),{offset:O.current?Bv(d):d,type:X?"up":"down",emitter:me}),(Jt=K.current)==null||Jt.focus()}),et=X=>{const me=Mr(le(ce));let ae;me.isNaN()?ae=Tr(N,X):ae=Tr(me,X),f!==void 0?F(N,!1):ae.isNaN()||F(ae,!1)},Ce=()=>{j.current=!0},Ne=X=>{const{key:me,shiftKey:ae}=X;j.current=!0,O.current=ae,me==="Enter"&&(I.current||(j.current=!1),et(!1),W==null||W(X)),v!==!1&&!I.current&&["Up","ArrowUp","Down","ArrowDown"].includes(me)&&(fr(me==="Up"||me==="ArrowUp","keyboard"),X.preventDefault())},bt=()=>{j.current=!1,O.current=!1};p.useEffect(()=>{if(m&&ye){const X=ae=>{fr(ae.deltaY<0,"wheel"),ae.preventDefault()},me=K.current;if(me)return me.addEventListener("wheel",X,{passive:!1}),()=>me.removeEventListener("wheel",X)}});const Lt=()=>{oe&&et(!1),fe(!1),j.current=!1},Yr=X=>{K.current&&X.target!==K.current&&(K.current.focus(),X.preventDefault()),q==null||q(X)};Iu(()=>{N.isInvalidate()||F(N,!1)},[T,k]),Iu(()=>{const X=Mr(f);B(X);const me=Mr(le(ce));(!X.equals(me)||!j.current||k)&&F(X,j.current)},[f]),Iu(()=>{k&&Ze()},[ce]);const hr={prefixCls:n,onStep:fr,className:o==null?void 0:o.action,style:a==null?void 0:a.action},xt=p.createElement(Uv,ko({},hr,{action:"up",disabled:jr}),b),$r=p.createElement(Uv,ko({},hr,{action:"down",disabled:Nr}),x);return p.createElement("div",{ref:z,className:ze(n,`${n}-mode-${r}`,s,o==null?void 0:o.root,{[`${n}-focused`]:ye,[`${n}-disabled`]:g,[`${n}-readonly`]:y,[`${n}-not-a-number`]:N.isNaN(),[`${n}-out-of-range`]:!N.isInvalidate()&&!dr(N)}),style:{...a==null?void 0:a.root,...i},onMouseDown:Yr,onMouseUp:V,onMouseLeave:R,onMouseMove:U,onMouseEnter:H,onMouseOut:se,onClick:G,onFocus:()=>{fe(!0)},onBlur:Lt,onKeyDown:Ne,onKeyUp:bt,onCompositionStart:Ft,onCompositionEnd:ln,onBeforeInput:Ce},r==="spinner"&&w&&$r,S!==void 0&&p.createElement("div",{className:ze(`${n}-prefix`,o==null?void 0:o.prefix),style:a==null?void 0:a.prefix},S),p.createElement("input",ko({autoComplete:"off",role:"spinbutton","aria-valuemin":l,"aria-valuemax":u,"aria-valuenow":N.isInvalidate()?null:N.toString(),step:d,ref:K,className:ze(`${n}-input`,o==null?void 0:o.input),style:a==null?void 0:a.input,value:ce,onChange:Kt,disabled:g,readOnly:y},Ee)),_!==void 0&&p.createElement("div",{className:ze(`${n}-suffix`,o==null?void 0:o.suffix),style:a==null?void 0:a.suffix},_),r==="spinner"&&w&&xt,r==="input"&&w&&p.createElement("div",{className:ze(`${n}-actions`,o==null?void 0:o.actions),style:a==null?void 0:a.actions},xt,$r))}),E$=e=>{const{componentCls:t,borderRadius:r,paddingSM:n,colorBorder:s,paddingXS:i,fontSizeLG:o,fontSizeSM:a,borderRadiusLG:l,borderRadiusSM:u,colorBgContainerDisabled:d,lineWidth:h,antCls:f}=e,[g,y]=Mb(f,"space");return{[t]:[{display:"inline-flex",alignItems:"center",gap:0,paddingInline:n,margin:0,borderWidth:h,borderStyle:"solid",borderRadius:r,"&:hover":{zIndex:0},[`&${t}-disabled`]:{color:e.colorTextDisabled},"&-large":{fontSize:o,borderRadius:l},"&-small":{paddingInline:i,borderRadius:u,fontSize:a},"&-compact-last-item":{borderEndStartRadius:0,borderStartStartRadius:0},"&-compact-first-item":{borderEndEndRadius:0,borderStartEndRadius:0},"&-compact-item:not(:first-child):not(:last-child)":{borderRadius:0},"&-compact-item:not(:last-child)":{borderInlineEndWidth:0},"&-compact-item:not(:first-child)":{borderInlineStartWidth:0}},{[g("addon-border-color")]:s,[g("addon-background")]:d,[g("addon-border-color-outlined")]:s,[g("addon-background-filled")]:d,borderColor:y("addon-border-color"),background:y("addon-background"),"&-variant-outlined":{[g("addon-border-color")]:y("addon-border-color-outlined")},"&-variant-filled":{[g("addon-border-color")]:"transparent",[g("addon-background")]:y("addon-background-filled"),[`&${t}-disabled`]:{[g("addon-border-color")]:s,[g("addon-background")]:d}},"&-variant-borderless":{border:"none",background:"transparent"},"&-variant-underlined":{border:"none",background:"transparent"}},{"&-status-error":{[g("addon-border-color-outlined")]:e.colorError,[g("addon-background-filled")]:e.colorErrorBg,color:e.colorError},"&-status-warning":{[g("addon-border-color-outlined")]:e.colorWarning,[g("addon-background-filled")]:e.colorWarningBg,color:e.colorWarning}}]}},C$=fa(["Space","Addon"],e=>[E$(e),Lp(e,{focus:!1})]),k$=Pe.forwardRef((e,t)=>{const{className:r,children:n,style:s,prefixCls:i,variant:o="outlined",disabled:a,status:l,...u}=e,{getPrefixCls:d,direction:h}=Pe.useContext(Qr),f=d("space-addon",i),[g,y]=C$(f),{compactItemClassnames:b,compactSize:x}=e1(f,h),v=o1(f,l),m=ze(f,g,b,y,`${f}-variant-${o}`,v,{[`${f}-${x}`]:x,[`${f}-disabled`]:a},r);return Pe.createElement("div",{ref:t,className:m,style:s,...u},n)}),j$=e=>{const t=e.handleVisible??"auto",r=e.controlHeightSM-e.lineWidth*2;return{...Vp(e),controlWidth:90,handleWidth:r,handleFontSize:e.fontSize/2,handleVisible:t,handleActiveBg:e.colorFillAlter,handleBg:e.colorBgContainer,filledHandleBg:new ht(e.colorFillSecondary).onBackground(e.colorBgContainer).toHexString(),handleHoverColor:e.colorPrimary,handleBorderColor:e.colorBorder,handleOpacity:t===!0?1:0,handleVisibleWidth:t===!0?r:0}},N$=e=>{const{componentCls:t,lineWidth:r,lineType:n,borderRadius:s,inputFontSizeSM:i,inputFontSizeLG:o,colorError:a,paddingInlineSM:l,paddingBlockSM:u,paddingBlockLG:d,paddingInlineLG:h,colorIcon:f,motionDurationMid:g,handleHoverColor:y,handleOpacity:b,paddingInline:x,paddingBlock:v,handleBg:m,handleActiveBg:w,inputAffixPadding:S,borderRadiusSM:_,controlWidth:E,handleBorderColor:C,filledHandleBg:k,lineHeightLG:T,antCls:P}=e,A=`${$e(r)} ${n} ${C}`,[D,W]=Mb(P,"input-number");return[{[t]:{...tc(e),...Up(e),[D("input-padding-block")]:$e(v),[D("input-padding-inline")]:$e(x),display:"inline-flex",width:E,margin:0,paddingBlock:0,borderRadius:s,...l1(e,{[`${t}-actions`]:{background:m,[`${t}-action-down`]:{borderBlockStart:A}}}),...d1(e,{[`${t}-actions`]:{background:k,[`${t}-action-down`]:{borderBlockStart:A}},"&:focus-within":{[`${t}-actions`]:{background:m}}}),...h1(e,{[`${t}-actions`]:{background:m,[`${t}-action-down`]:{borderBlockStart:A}}}),...c1(e),"&-rtl":{direction:"rtl",[`${t}-input`]:{direction:"rtl"}},[`&${t}-out-of-range`]:{[`${t}-input`]:{color:a}},[`${t}-input`]:{...tc(e),width:"100%",paddingBlock:W("input-padding-block"),textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:s,outline:0,transition:`all ${g} linear`,appearance:"textfield",fontSize:"inherit",lineHeight:"inherit",...p1(e.colorTextPlaceholder),'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,appearance:"none"}},[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{width:e.handleWidth,opacity:1},[`&-disabled ${t}-input`]:{cursor:"not-allowed",color:e.colorTextDisabled}}},{[t]:{[`
          ${t}-action-up-disabled,
          ${t}-action-down-disabled
        `]:{cursor:"not-allowed"},[`${t}-action`]:{...Ab(),userSelect:"none",overflow:"hidden",fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",transition:`all ${g} linear`,"&:active":{background:w},"&:hover":{color:y}},"&-mode-input":{overflow:"hidden",[`${t}-actions`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:e.handleVisibleWidth,opacity:b,height:"100%",borderRadius:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`all ${g}`,overflow:"hidden",[`${t}-action`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",marginInlineEnd:0,fontSize:e.handleFontSize}},[`&:hover ${t}-actions, &-focused ${t}-actions`]:{width:e.handleWidth,opacity:1},[`${t}-action`]:{color:f,height:"50%",borderInlineStart:A,"&:hover":{height:"60%"}},[`&${t}-disabled, &${t}-readonly`]:{[`${t}-actions`]:{display:"none"}}},[`&${t}-mode-spinner`]:{padding:0,width:"auto",[`${t}-action`]:{flex:"none",paddingInline:W("input-padding-inline"),"&-up":{borderInlineStart:A},"&-down":{borderInlineEnd:A}},[`${t}-input`]:{textAlign:"center",paddingInline:W("input-padding-inline")}}}},{[t]:{"&-lg":{[D("input-padding-block")]:$e(d),[D("input-padding-inline")]:$e(h),paddingBlock:0,fontSize:o,lineHeight:T},"&-sm":{[D("input-padding-block")]:$e(u),[D("input-padding-inline")]:$e(l),paddingBlock:0,fontSize:i,borderRadius:_}}},{[t]:{[`${t}-prefix, ${t}-suffix`]:{display:"flex",flex:"none",alignItems:"center",alignSelf:"center",pointerEvents:"none"},[`${t}-prefix`]:{marginInlineEnd:S},[`${t}-suffix`]:{height:"100%",marginInlineStart:S,transition:`margin ${g}`},[`&:hover:not(${t}-without-controls)`]:{[`${t}-suffix`]:{marginInlineEnd:e.handleWidth}}}}]},T$=e=>{const{componentCls:t,antCls:r}=e;return{[`${t}-addon`]:{[`&:has(${r}-select)`]:{border:0,padding:0}}}},$$=fa("InputNumber",e=>{const t=Vs(e,Dp(e));return[N$(t),T$(t),Lp(t)]},j$,{unitless:{handleOpacity:!0},resetFont:!1}),P$=p.forwardRef((e,t)=>{const r=p.useRef(null);p.useImperativeHandle(t,()=>r.current);const{rootClassName:n,size:s,disabled:i,prefixCls:o,addonBefore:a,addonAfter:l,prefix:u,suffix:d,bordered:h,readOnly:f,status:g,controls:y=!0,variant:b,className:x,style:v,classNames:m,styles:w,mode:S,..._}=e,{direction:E,className:C,style:k,styles:T,classNames:P}=lb("inputNumber"),A=p.useMemo(()=>!y||e.disabled||e.readOnly?!1:y,[y,e.disabled,e.readOnly]),{compactSize:D,compactItemClassnames:W}=e1(o,E);let Q=S==="spinner"?p.createElement(p2,null):p.createElement(k2,null),q=S==="spinner"?p.createElement(d2,null):p.createElement(D_,null);const G=typeof A=="boolean"?A:void 0;typeof A=="object"&&(Q=A.upIcon||Q,q=A.downIcon||q);const{hasFeedback:V,isFormItemInput:R,feedbackIcon:U}=p.useContext(ic),H=Zb(z=>s??D??z),se=p.useContext(rc),oe=i??se,[Ee,ye]=o$("inputNumber",b,h),fe=V&&p.createElement(p.Fragment,null,U),j={...e,size:H,disabled:oe,controls:A},[I,O]=cT([P,m],[T,w],{props:j});return p.createElement(_$,{ref:r,mode:S,disabled:oe,className:ze(x,n,I.root,C,W,o1(o,g,V),{[`${o}-${Ee}`]:ye,[`${o}-lg`]:H==="large",[`${o}-sm`]:H==="small",[`${o}-rtl`]:E==="rtl",[`${o}-in-form-item`]:R,[`${o}-without-controls`]:!A}),style:{...O.root,...k,...v},upHandler:Q,downHandler:q,prefixCls:o,readOnly:f,controls:G,prefix:u,suffix:fe||d,classNames:I,styles:O,..._})}),y1=p.forwardRef((e,t)=>{const{addonBefore:r,addonAfter:n,prefixCls:s,className:i,status:o,rootClassName:a,...l}=e,{getPrefixCls:u}=lb("inputNumber"),d=u("input-number",s),{status:h}=p.useContext(ic),f=i$(h,o),g=dT(d),[y,b]=$$(d,g),x=r||n,v=p.createElement(P$,{ref:t,...l,prefixCls:d,status:f,className:ze(b,g,y,i),rootClassName:x?void 0:a});if(x){const m=_=>_?p.createElement(k$,{className:ze(`${d}-addon`,b,y),variant:e.variant,disabled:e.disabled,status:f},p.createElement(s$,{form:!0},_)):null,w=m(r),S=m(n);return p.createElement(i3,{rootClassName:a},w,v,S)}return v}),xl=y1,R$=e=>p.createElement(Wi,{theme:{components:{InputNumber:{handleVisible:!0}}}},p.createElement(y1,{...e}));xl._InternalPanelDoNotUseOrYouWillBeFired=R$;const O$=e=>{if(e<60)return`${Math.round(e)}`;const t=Math.floor(e/60);if(t<60)return`${t}`;const r=Math.floor(t/60),n=t%60;return n===0?`${r}`:`${r}${n}`},A$=({crop:e,weight:t,percentage:r,growthSpeed:n,calculationMode:s,minWeight:i,minPercentage:o,onWeightChange:a,onPercentageChange:l,onGrowthSpeedChange:u,onGrowthSpeedBlur:d,onFocus:h})=>{const f=i.toFixed(2).replace(/\.?0+$/,""),g=e.maxWeight.toFixed(2).replace(/\.?0+$/,""),y=t===""?null:parseFloat(t)||null,b=r===""?null:parseFloat(r)||null,x=n===""?null:parseFloat(n)||null,v=parseFloat(t)||0,m=x!=null&&x>0?x*100:v>0&&e.growthSpeed>0?v*e.growthSpeed:0,w=m>0?O$(m):"";return c.jsx("div",{className:"input-group",children:c.jsxs("div",{className:"input-group-row-with-image",children:[c.jsxs("div",{className:"input-fields-wrapper",children:[c.jsxs("div",{className:"input-group-row",children:[c.jsx("label",{className:"input-label",children:c.jsx(sn,{fillColor:"#843100",strokeColor:"transparent",strokeWidth:0,fontSize:14,fontWeight:700,textAlign:"left",children:" (kg)"})}),c.jsx(xl,{className:"input-field",value:y,onChange:a,onFocus:h,placeholder:`${f}~${g}`,min:i,max:e.maxWeight,step:.01,precision:2,readOnly:s==="price",controls:!1})]}),c.jsxs("div",{className:"input-group-row",children:[c.jsx("label",{className:"input-label",children:c.jsx(sn,{fillColor:"#843100",strokeColor:"transparent",strokeWidth:0,fontSize:14,fontWeight:700,textAlign:"left",children:" (%)"})}),c.jsx(xl,{className:"input-field",value:b,onChange:l,onFocus:h,placeholder:`${o}~100`,min:o,max:100,step:1,precision:0,readOnly:s==="price",controls:!1})]}),c.jsxs("div",{className:"input-group-row",children:[c.jsx("label",{className:"input-label",children:c.jsx(sn,{fillColor:"#843100",strokeColor:"transparent",strokeWidth:0,fontSize:14,fontWeight:700,textAlign:"left",children:""})}),c.jsx(xl,{className:"input-field",value:x,onChange:u,onBlur:d,onFocus:h,placeholder:v>0?`${(v*e.growthSpeed*.01).toFixed(2)}`:" / ",min:0,step:.1,precision:2,readOnly:s==="price",controls:!1})]}),c.jsxs("div",{className:"input-group-row",children:[c.jsx("label",{className:"input-label",children:c.jsx(sn,{fillColor:"#843100",strokeColor:"transparent",strokeWidth:0,fontSize:14,fontWeight:700,textAlign:"left",children:""})}),c.jsx("div",{className:"growth-time-value",children:c.jsx(sn,{fillColor:"#843100",strokeColor:"transparent",strokeWidth:0,fontSize:14,fontWeight:600,textAlign:"left",children:w||"--"})})]})]}),c.jsx("img",{src:cp(e.name),alt:e.name,className:"crop-image"})]})})},Sl=["","","","",""],Ya=["","","",""],Za=["","","","","","","","","",""],el=["","","","",""],tl=["","",""],qv=["","","",""],I$=["","","","","","","",""],Hc=[{ingredients:["",""],result:""},{ingredients:["",""],result:""},{ingredients:["",""],result:""},{ingredients:["",""],result:""}],Gv=[(e,t)=>`${e}${t}`,(e,t)=>`${e}${t}`,(e,t)=>`${e}${t}`,(e,t)=>`${e}${t}`,(e,t)=>`${e}${t}`,(e,t)=>`${e}${t}`],Kv=[(e,t)=>`${e}${t}`,(e,t)=>`${e}${t}`,(e,t)=>`${e}${t}`,(e,t)=>`${e}${t}`,(e,t)=>`${e}${t}`,(e,t)=>`${e}${t}`],M$=e=>e.find(r=>Sl.includes(r))||"",F$=e=>e.find(r=>I$.includes(r))||null,Hp=(e,t=new Set)=>{if(t.has(e))return[];t.add(e);const r=[];for(const n of Hc)if(n.result===e){r.push(...n.ingredients);for(const s of n.ingredients){const i=Hp(s,t);r.push(...i)}}return r},hh=(e,t)=>{if(e==="")return!1;if(e===""){const r=t.includes(""),n=t.includes("");return r&&n}if(e===""&&t.includes(""))return!!(t.includes("")||t.includes(""));for(const r of Hc)if(t.includes(r.result)&&Hp(r.result).filter(i=>i!=="").includes(e))return!0;return!1},Xv=e=>{let t=[...e],r=!0;for(;r;){r=!1;for(const n of Hc){const s=n.ingredients.every(o=>t.includes(o)),i=t.includes(n.result);if(s&&!i){t=t.filter(o=>!n.ingredients.includes(o)),t.push(n.result),r=!0;break}}}return t},ls=({title:e,mutations:t,selectedMutations:r,isExclusive:n=!1,showCheckbox:s=!0,groupState:i,onToggleGroup:o,onToggleMutation:a,onToggleExclusiveMutation:l})=>c.jsxs("div",{className:"mutation-group",children:[c.jsx("div",{className:"mutation-group-header",children:s?c.jsxs("label",{className:"mutation-group-checkbox-label",children:[c.jsx("input",{type:"checkbox",className:"mutation-group-checkbox",checked:i==="all",ref:u=>{u&&(u.indeterminate=i==="indeterminate")},onChange:o}),c.jsx("span",{className:"mutation-group-label",children:c.jsx(sn,{fillColor:"#843100",strokeColor:"transparent",strokeWidth:2,fontSize:14,fontWeight:700,children:e})})]}):c.jsx("span",{className:"mutation-group-label",children:c.jsx(sn,{fillColor:"#843100",strokeColor:"transparent",strokeWidth:2,fontSize:14,fontWeight:700,children:e})})}),c.jsx("div",{className:"mutations-list",children:t.map(u=>{const d=Jl.find(y=>y.name===u);if(!d)return null;const h=r.includes(u),f=hh(u,r),g=Qw[d.color];return c.jsxs("div",{className:`mutation-item ${h?"selected":""} ${f?"disabled":""}`,style:{background:g.gradient||g.bgColor,opacity:f?.4:1},onClick:()=>{f||(n?l(u):a(u))},children:[c.jsx(sn,{fillColor:"#fff",strokeColor:"#000",strokeWidth:2,fontSize:14,fontWeight:900,className:"mutation-name",style:{width:"100%",height:"100%"},children:u}),c.jsx("img",{className:`mutation-checkmark ${h?"visible":""}`,src:"/carzyfarm/.png",alt:""})]},u)})})]}),L$=({crop:e,selectedMutations:t,onMutationsChange:r})=>{const n=u=>{const d=u.filter(h=>t.includes(h)).length;return d===0?"none":d===u.length?"all":"indeterminate"},s=(u,d=!1)=>{if(n(u)==="all")r(t.filter(f=>!u.includes(f)));else if(d){const f=Sl.filter(y=>y!==u[0]),g=t.filter(y=>!f.includes(y));r([...g,u[0]])}else{let f=[...t];u.forEach(g=>{!f.includes(g)&&!hh(g,t)&&f.push(g)}),r(Xv(f))}},i=u=>{if(!hh(u,t))if(t.includes(u))r(t.filter(d=>d!==u));else{let d=[...t];for(const h of Hc)if(h.result===u){const f=Hp(u);d=d.filter(g=>!f.includes(g)||g==="")}d.push(u),r(Xv(d))}},o=(u,d)=>{if(t.includes(u))r(t.filter(h=>h!==u));else{const h=d.filter(g=>g!==u),f=t.filter(g=>!h.includes(g));r([...f,u])}},a=p.useMemo(()=>e.type===""?["",...qv]:qv,[e.type]),l=e.type===""?Sl:Sl.filter(u=>u!=="");return c.jsxs(c.Fragment,{children:[c.jsx(ls,{title:"",mutations:l,selectedMutations:t,isExclusive:!0,showCheckbox:!1,groupState:n(l),onToggleGroup:()=>s(l,!0),onToggleMutation:i,onToggleExclusiveMutation:u=>o(u,l)}),e.specialMutations&&e.specialMutations.length>0&&c.jsx(ls,{title:"",mutations:e.specialMutations,selectedMutations:t,isExclusive:!1,showCheckbox:!1,groupState:n(e.specialMutations),onToggleGroup:()=>s(e.specialMutations,!1),onToggleMutation:i,onToggleExclusiveMutation:u=>o(u,e.specialMutations)}),e.type===""&&c.jsx(ls,{title:"",mutations:Ya,selectedMutations:t,isExclusive:!1,showCheckbox:!0,groupState:n(Ya),onToggleGroup:()=>s(Ya,!1),onToggleMutation:i,onToggleExclusiveMutation:u=>o(u,Ya)}),c.jsx(ls,{title:"",mutations:Za,selectedMutations:t,isExclusive:!1,showCheckbox:!0,groupState:n(Za),onToggleGroup:()=>s(Za,!1),onToggleMutation:i,onToggleExclusiveMutation:u=>o(u,Za)}),c.jsx(ls,{title:"",mutations:a,selectedMutations:t,isExclusive:!1,showCheckbox:!1,groupState:n(a),onToggleGroup:()=>s(a,!1),onToggleMutation:i,onToggleExclusiveMutation:u=>o(u,a)}),c.jsx(ls,{title:"",mutations:el,selectedMutations:t,isExclusive:!1,showCheckbox:!0,groupState:n(el),onToggleGroup:()=>s(el,!1),onToggleMutation:i,onToggleExclusiveMutation:u=>o(u,el)}),c.jsx(ls,{title:"",mutations:tl,selectedMutations:t,isExclusive:!1,showCheckbox:!0,groupState:n(tl),onToggleGroup:()=>s(tl,!1),onToggleMutation:i,onToggleExclusiveMutation:u=>o(u,tl)})]})},D$=({displayPrice:e,priceInput:t,isEditingPrice:r,onPriceClick:n,onPriceChange:s,onPriceBlur:i,onFeedback:o})=>c.jsxs("div",{className:"calculator-result-fixed",children:[c.jsx(Xw,{onClick:o,children:""}),c.jsx("div",{className:"result-right",children:c.jsx("div",{className:"result-value-container",children:r?c.jsx("input",{type:"text",className:"result-value-input",value:t,onChange:a=>s(a.target.value),onBlur:i,placeholder:"",autoFocus:!0}):c.jsx("span",{className:"result-value-large",onClick:n,style:{cursor:"pointer"},children:e})})})]}),V$=({isOpen:e,shareUrl:t,crop:r,selectedMutations:n,onClose:s,onCopy:i})=>{const o=()=>{const a=M$(n),l=F$(n),u=r.name;let d;if(l){const f=Gv[Math.floor(Math.random()*Gv.length)];d=f(a,l)}else{const f=Kv[Math.floor(Math.random()*Kv.length)];d=f(a,u)}const h=`${d} ${t}`;navigator.clipboard.writeText(h).then(()=>{s(),i("")})};return c.jsxs(vt,{isOpen:e,onClose:s,title:"",children:[c.jsxs("div",{className:"share-url-container",children:[c.jsx("input",{type:"text",className:"share-url-input",value:t,readOnly:!0,onClick:a=>a.currentTarget.select()}),c.jsx("div",{className:"share-copy-button",onClick:o,children:""})]}),c.jsx("div",{className:"share-info",children:c.jsx("p",{children:""})})]})},z$=({crop:e,onBack:t,prefillData:r})=>{const[n,s]=p.useState(""),[i,o]=p.useState(""),[a,l]=p.useState(""),[u,d]=p.useState([]),[h,f]=p.useState("weight"),[g,y]=p.useState(""),[b,x]=p.useState(!1),[v,m]=p.useState(!1),[w,S]=p.useState(""),[_,E]=p.useState(!1),[C,k]=p.useState(""),[T,P]=p.useState(!1),[A,D]=p.useState(!1),W=p.useRef(null);p.useEffect(()=>{e&&(W.current=`${Date.now()}-${Math.random().toString(36).slice(2,10)}`)},[e==null?void 0:e.name]),p.useEffect(()=>{if(A||!e)return;const N=Ff();if(N&&N.cropIndex<rr.length){const B=rr[N.cropIndex];e.name===B.name&&(s(N.weight.toFixed(2)),o(N.percentage.toString()),d(N.mutations),D(!0))}},[e,A]),p.useEffect(()=>{if(!e){s(""),o(""),l(""),d([]),y(""),x(!1),f("weight"),D(!1);return}},[e]),p.useEffect(()=>{var B;if(A)return;const N=Ff();(!N||((B=rr[N.cropIndex])==null?void 0:B.name)!==(e==null?void 0:e.name))&&(s(""),o(""),l(""),d([]),y(""),x(!1),f("weight"))},[e==null?void 0:e.name,A]),p.useEffect(()=>{if(!e||!r){r||(D(!1),y(""),x(!1),f("weight"));return}const N=Number(r.weight).toFixed(2).replace(/\.?0+$/,"");s(N);const B=Number(r.weight);if(B>0&&e){const Z=V(B,e.maxWeight);o(Z?Z.toString():"");const ee=.01*B*e.growthSpeed;l(ee>0?ee.toFixed(2).replace(/\.?0+$/,""):"")}else o(""),l("");d(r.mutations.length?r.mutations:[]),D(!0),y(""),x(!1),f("weight")},[r,e==null?void 0:e.name]);const Q=parseFloat(n)||0,q=e?e.maxWeight/34:0,G=e?Q>0&&Q<=e.maxWeight:!1,V=(N,B)=>{if(B<=0||N<=0||N>B)return 0;const Z=N/B*100,ee=Math.floor(Z);return ee>0&&ee<3?3:ee};let R=null;if(h==="weight"&&G&&e)R=Vg(e,Q,u);else if(h==="price"&&e&&g.trim())try{const N=Ps(g.trim()),B=Rs(N.value,N.unit);if(B>0&&!isNaN(B)&&isFinite(B)){const Z=zg(e,B,u),ee=e.maxWeight/34;Z!==null&&Z>=ee&&Z<=e.maxWeight&&(R=Vg(e,Z,u))}}catch{}const U=R?R.formattedPrice:"0",H=ej(U);p.useEffect(()=>{if(!e||!G||!R)return;const N={id:Date.now().toString(),cropName:e.name,weight:Q,mutations:[...u],price:R.formattedPrice,timestamp:Date.now(),sessionId:W.current||void 0};Jk(N)},[e,G,R,Q,u]),p.useEffect(()=>{if(h==="price"&&e&&g.trim())try{const N=Ps(g.trim()),B=Rs(N.value,N.unit);if(B>0&&!isNaN(B)&&isFinite(B)){const Z=zg(e,B,u),ee=e.maxWeight/34;if(Z!==null&&Z>=ee&&Z<=e.maxWeight){const le=Z.toFixed(2).replace(/\.?0+$/,"");s(le);const he=V(Z,e.maxWeight);o(he?he.toString():"")}}}catch{}},[g,h,e,u]);const se=N=>{if(h!=="weight"&&(f("weight"),x(!1),y("")),N==null){s(""),o(""),l("");return}if(s(N.toString()),!!e)if(N>0&&N<=e.maxWeight){const B=V(N,e.maxWeight);o(B?B.toString():"");const Z=.01*N*e.growthSpeed;l(Z>0?Z.toFixed(2).replace(/\.?0+$/,""):"")}else o(""),l("")},oe=N=>{const B=N==null?"":N.toString();if(l(B),!e||e.growthSpeed<=0)return;const Z=N==null?0:Number(N);if(Z<=0)return;const ee=e.maxWeight/34,le=Z*100/e.growthSpeed,he=Math.min(Math.max(le,ee),e.maxWeight);s(he.toFixed(2).replace(/\.?0+$/,""));const ne=V(he,e.maxWeight);o(ne?ne.toString():"")},Ee=()=>{if(!e||e.growthSpeed<=0)return;const N=parseFloat(a);if(Number.isNaN(N)||N<=0)return;const B=e.maxWeight/34,Z=.01*B*e.growthSpeed,ee=.01*e.maxWeight*e.growthSpeed;if(N<Z){l(Z.toFixed(2).replace(/\.?0+$/,"")),s(B.toFixed(2).replace(/\.?0+$/,""));const le=V(B,e.maxWeight);o(le?le.toString():"")}else N>ee&&(l(ee.toFixed(2).replace(/\.?0+$/,"")),s(e.maxWeight.toFixed(2).replace(/\.?0+$/,"")),o("100"))},ye=N=>{h!=="price"&&f("price"),y(N)},fe=()=>{f("price"),x(!0),!g&&H!=="0"&&y(H)},j=()=>{x(!1),f("weight"),y("")},I=N=>{if(!e)return;if(h!=="weight"&&(f("weight"),x(!1),y("")),N==null){o(""),s(""),l("");return}o(N.toString());const B=e.maxWeight/34,Z=N/100*e.maxWeight,ee=Math.min(Math.max(Z,B),e.maxWeight);s(ee.toFixed(2).replace(/\.?0+$/,""));const le=.01*ee*e.growthSpeed;l(le>0?le.toFixed(2).replace(/\.?0+$/,""):"")},O=()=>{h==="price"&&(f("weight"),x(!1),y(""))},z=N=>{k(N),E(!0),setTimeout(()=>{E(!1)},2e3)};if(!e)return null;const K=e;return c.jsxs("div",{className:"price-calculator",children:[c.jsx(tj,{crop:K,onBack:t,weight:n,percentage:i,selectedMutations:u,onShareClick:N=>{S(N),m(!0)},onError:z}),c.jsxs("div",{className:"calculator-inputs",children:[c.jsx(A$,{crop:K,weight:n,percentage:i,growthSpeed:a,calculationMode:h,minWeight:q,minPercentage:Math.ceil(q/K.maxWeight*100),onWeightChange:se,onPercentageChange:I,onGrowthSpeedChange:oe,onGrowthSpeedBlur:Ee,onFocus:O}),c.jsx(L$,{crop:K,selectedMutations:u,onMutationsChange:d})]}),c.jsx(D$,{calculationMode:h,displayPrice:H,priceInput:g,isEditingPrice:b,isValidWeight:G,onPriceClick:fe,onPriceChange:ye,onPriceBlur:j,onFeedback:()=>{G&&R?P(!0):z("")}}),_&&c.jsx(Cp,{message:C||""}),c.jsx(V$,{isOpen:v,shareUrl:w,crop:K,selectedMutations:u,onClose:()=>m(!1),onCopy:z}),G&&R&&c.jsx(Kk,{isOpen:T,onClose:()=>P(!1),crop:K,weight:Q,mutations:u,calculatedPrice:R.price,formattedPrice:R.formattedPrice})]})},U$=({onBack:e,active:t,onSelectRecord:r})=>{const[,n]=p.useState(0),[s,i]=p.useState(null),o=t?Fc():[],a=d=>{Zk(d),n(h=>h+1)},l=d=>{Yk(d),n(h=>h+1)},u=d=>{const h=Number(d.weight).toFixed(2).replace(/\.?0+$/,""),f={:1,:2,:3,:4,:5,:6},g=new Map(Jl.map(x=>[x.name,(f[x.color]||0)*1e3+x.multiplier])),y=[...d.mutations||[]].sort((x,v)=>{const m=g.get(x)??0;return(g.get(v)??0)-m}),b=x=>{const v=Jl.find(w=>w.name===x);if(!v)return null;const m=Qw[v.color];return c.jsx("span",{className:"history-mutation-tag",style:{background:m.gradient||m.bgColor,color:m.textColor},children:c.jsx(sn,{fillColor:m.textColor,strokeColor:"#000",strokeWidth:2,fontSize:12,fontWeight:900,className:"history-mutation-text",children:x})},x)};return c.jsxs("div",{className:`history-item ${d.locked?"history-item-locked":""}`,children:[c.jsx("button",{type:"button",className:`history-item-lock ${d.locked?"history-item-lock--active":""}`,onClick:x=>{x.stopPropagation(),l(d.id)},"aria-label":d.locked?"":"",children:d.locked?c.jsx(xw,{}):c.jsx(_2,{})}),c.jsx("button",{type:"button",className:"history-item-delete",onClick:x=>{x.stopPropagation(),i(d)},"aria-label":"",children:c.jsx(M_,{})}),c.jsxs("div",{className:"history-item-body",onClick:()=>r(d),children:[c.jsxs("div",{className:"history-item-top",children:[c.jsx("img",{className:"history-item-image",src:cp(d.cropName),alt:d.cropName}),c.jsxs("div",{className:"history-item-info",children:[c.jsxs("div",{className:"history-item-row1",children:[c.jsx("span",{className:"history-item-name",children:d.cropName}),c.jsxs("span",{className:"history-item-weight",children:[h,"kg"]})]}),c.jsxs("div",{className:"history-item-price-inline",children:[c.jsx("span",{className:"history-item-price-label",children:""}),c.jsx("span",{className:"history-item-price-value",children:d.price})]})]})]}),c.jsx("div",{className:"history-item-bottom",children:y&&y.length>0?c.jsx("div",{className:"history-mutations",children:y.map(x=>b(x))}):c.jsx("span",{className:"history-mutations-empty",children:""})})]})]},d.id)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"history-view",children:[c.jsxs("div",{className:"history-header",children:[e&&c.jsx("span",{className:"back-link",onClick:e,children:c.jsx(hp,{})}),c.jsx("h3",{className:"history-title",children:""})]}),c.jsx("div",{className:"history-content",children:o.length===0?c.jsx("div",{className:"history-empty",children:""}):c.jsx("div",{className:"history-list",children:o.map(u)})})]}),c.jsx(vt,{isOpen:!!s,onClose:()=>i(null),title:"",children:c.jsxs("div",{className:"modal-text history-delete-modal",children:[c.jsx("p",{children:""}),s&&c.jsxs("p",{className:"history-delete-meta",children:["",s.cropName,"",s.price]}),c.jsxs("div",{className:"history-delete-actions",children:[c.jsx("button",{type:"button",className:"history-delete-btn history-delete-cancel",onClick:()=>i(null),children:""}),c.jsx("button",{type:"button",className:"history-delete-btn history-delete-confirm",onClick:()=>{s&&(a(s.id),i(null))},children:""})]})]})})]})},B$=()=>{const[e,t]=p.useState(null),[r,n]=p.useState([]),[s,i]=p.useState(!1),[o,a]=p.useState(""),[l,u]=p.useState(null),[d,h]=p.useState(!1),[f,g]=p.useState(new Set),[y,b]=p.useState(null),[x,v]=p.useState(!1),[m,w]=p.useState([]),[S,_]=p.useState(!1),[E,C]=p.useState(!1),k=async j=>{i(!0),a("");try{let I=ge.from("price_feedback").select("*").order("created_at",{ascending:!1});j&&(I=I.eq("crop_name",j));const{data:O,error:z}=await I;if(z)throw console.error("Supabase query error:",z),z;n(O||[])}catch(I){console.error("Error fetching feedback data:",I),a(I.message||""),n([])}finally{i(!1)}},T=async()=>{const{data:j,error:I}=await ge.from("price_feedback").select("*").order("created_at",{ascending:!1});if(I)throw I;return j||[]};p.useEffect(()=>{k()},[]);const P=j=>{t(j),u(null),k(j.name)},A=()=>{t(null),u(null),k()},D=async j=>{if(confirm("")){g(I=>new Set([...I,j]));try{await yk(j),n(I=>I.filter(O=>O.id!==j))}catch(I){console.error(":",I),a(I.message||"")}finally{g(I=>{const O=new Set(I);return O.delete(j),O})}}},W=()=>r,Q=j=>{const I=new Set(["","","",""]),O=new Set(["","","","","","","",""]);let z=[];if(j)if(Array.isArray(j))z=j;else{const ee=String(j);try{const le=JSON.parse(ee);z=Array.isArray(le)?le:[]}catch{z=ee.split(/[,;]/).filter(he=>he.trim()).map(he=>he.trim())}}let K=1,N=0,B=1;z.forEach(ee=>{const le=kp(ee);le&&(I.has(ee)?K=Math.max(K,le.multiplier):O.has(ee)?B=Math.max(B,le.multiplier):N+=le.multiplier)});const Z=K*(N+1)*B;return{mutations:z,innateMultiplier:K,weatherMultiplierSum:N,specialMultiplier:B,totalMultiplier:Z}},q=(j,I)=>{const{totalMultiplier:O}=Q(j.mutations),z=I*O*Math.pow(j.weight,1.5);return{adjustedPrice:z,formattedAdjustedPrice:Dr(z)}},G=j=>{if(j.is_accurate){const I=Dr(j.calculated_price),{value:O,unit:z}=Ps(I);return Rs(O,z)}return j.actual_price||j.calculated_price},V=p.useMemo(()=>{if(!e||r.length===0)return null;const j=W();if(j.length===0)return null;const I=l??e.priceCoefficient,O=e.priceCoefficient,z=[],K=[],N=[];j.forEach(F=>{const te=G(F),{adjustedPrice:xe}=q(F,I),{adjustedPrice:jr}=q(F,O);z.push(te),K.push(xe),N.push(jr)});const B=K.map((F,te)=>Math.abs(eo(F)-z[te])),Z=N.map((F,te)=>Math.abs(eo(F)-z[te])),ee=B.reduce((F,te)=>F+te,0)/B.length,le=Z.reduce((F,te)=>F+te,0)/Z.length,he=Z.map((F,te)=>z[te]>0?Math.max(0,(1-F/z[te])*100):0),ne=B.map((F,te)=>z[te]>0?Math.max(0,(1-F/z[te])*100):0),ce=he.reduce((F,te)=>F+te,0)/he.length,ke=ne.reduce((F,te)=>F+te,0)/ne.length;return{avgAdjustedError:ee,avgOriginalError:le,avgOriginalAccuracy:ce,avgAdjustedAccuracy:ke,improvement:le>0?(le-ee)/le*100:0}},[e,r,l]),R=(j,I)=>{let O=0;for(const z of I){const K=z.multiplier*z.weightPower,N=j*K;O+=Math.abs(eo(N)-z.actualPrice)}return O},U=(j,I)=>I.length===0?0:R(j,I)/I.length,H=(j,I)=>{if(I.length===0)return 0;let O=0,z=0;for(const K of I){if(K.actualPrice<=0)continue;const N=K.multiplier*K.weightPower,B=Math.abs(eo(j*N)-K.actualPrice);O+=Math.max(0,(1-B/K.actualPrice)*100),z++}return z>0?O/z:0},se=(j,I)=>{const O=j.map(ne=>{const ce=ne.multiplier*ne.weightPower;return ce<=0||ne.actualPrice<=0?null:ne.actualPrice/ce}).filter(ne=>ne!==null);if(O.length===0)return I;const z=Math.min(...O),K=Math.max(...O),N=Math.max((K-z)*.2,.01),B=Math.max(0,z-N),Z=K+N,ee=800;let le=I,he=R(I,j);for(let ne=0;ne<=ee;ne++){const ce=B+(Z-B)*(ne/ee),ke=R(ce,j);ke<he&&(he=ke,le=ce)}return Math.round(le*1e4)/1e4},oe=async()=>{v(!0),w([]),_(!1);try{const j=await T(),I=[];for(const O of rr){const z=j.filter(he=>he.crop_name===O.name);if(z.length===0)continue;const K=z.map(he=>{const ne=G(he),{totalMultiplier:ce}=Q(he.mutations),ke=Math.pow(he.weight,1.5);return{actualPrice:ne,multiplier:ce,weightPower:ke}}),N=se(K,O.priceCoefficient),B=H(O.priceCoefficient,K),Z=H(N,K),ee=U(O.priceCoefficient,K),le=U(N,K);I.push({cropName:O.name,defaultCoeff:O.priceCoefficient,optimalCoeff:N,sampleCount:z.length,defaultAccuracy:B,optimalAccuracy:Z,defaultError:ee,optimalError:le,accuracyChange:Z-B,errorChange:ee-le})}w(I),C(!1),_(!0)}catch(j){console.error(":",j),a("")}finally{v(!1)}},Ee=()=>{!e||r.length===0||(h(!0),setTimeout(()=>{try{const j=W();if(j.length===0){h(!1),a("");return}const I=j.map(Z=>{const ee=G(Z),{totalMultiplier:le}=Q(Z.mutations),he=Math.pow(Z.weight,1.5);return{actualPrice:ee,multiplier:le,weightPower:he}}),O=e.priceCoefficient,z=se(I,O),K=R(O,I),N=R(z,I);(K>0?(K-N)/K*100:0)>0?u(z):u(O)}catch(j){console.error(":",j),a("")}finally{h(!1)}},10))},fe=(()=>{if(!e)return null;const I=W().filter(N=>N.crop_name===e.name),O=I.length,z=I.filter(N=>N.is_accurate).length,K=I.filter(N=>!N.is_accurate).length;return{total:O,accurate:z,inaccurate:K}})();return c.jsxs("div",{className:"feedback-data-view",children:[c.jsxs("div",{className:"feedback-data-content",children:[c.jsxs("div",{className:"feedback-crop-selector",children:[c.jsx("h2",{className:"feedback-section-title",children:""}),c.jsx("div",{className:"feedback-crop-list",children:rr.map(j=>c.jsx("div",{className:`feedback-crop-item ${(e==null?void 0:e.name)===j.name?"selected":""}`,onClick:()=>P(j),children:j.name},j.name))}),c.jsxs("div",{className:"feedback-actions-row",children:[e&&c.jsx("button",{className:"feedback-clear-filter",onClick:A,children:""}),c.jsx("button",{className:"feedback-clear-filter",onClick:oe,disabled:x||r.length===0,children:x?"...":""})]})]}),c.jsxs("div",{className:"feedback-data-display",children:[e&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"feedback-coefficient-adjust",children:[c.jsxs("div",{className:"coefficient-input-group",children:[c.jsx("label",{className:"coefficient-label",children:""}),c.jsx("span",{className:"coefficient-value",children:e.priceCoefficient})]}),c.jsxs("div",{className:"coefficient-input-group",children:[c.jsx("label",{className:"coefficient-label",children:""}),c.jsx("input",{type:"number",className:"coefficient-input",value:l??e.priceCoefficient,onChange:j=>{const I=parseFloat(j.target.value);u(isNaN(I)?null:I)},step:"0.0001"})]}),c.jsx("button",{className:"coefficient-auto",onClick:Ee,disabled:d||r.length===0,children:d?"...":""}),l!==null&&l!==e.priceCoefficient&&c.jsx("button",{className:"coefficient-reset",onClick:()=>u(null),children:""})]}),fe&&V&&c.jsxs("div",{className:"feedback-stats",children:[c.jsxs("div",{className:"feedback-stats-row",children:[c.jsxs("div",{className:"feedback-stat-item",children:[c.jsx("span",{className:"feedback-stat-label",children:""}),c.jsx("span",{className:"feedback-stat-value",children:fe.total})]}),c.jsxs("div",{className:"feedback-stat-item",children:[c.jsx("span",{className:"feedback-stat-label",children:""}),c.jsx("span",{className:"feedback-stat-value accurate",children:fe.accurate})]}),c.jsxs("div",{className:"feedback-stat-item",children:[c.jsx("span",{className:"feedback-stat-label",children:""}),c.jsx("span",{className:"feedback-stat-value inaccurate",children:fe.inaccurate})]})]}),c.jsxs("div",{className:"feedback-stats-grid",children:[c.jsxs("div",{className:"feedback-stats-col",children:[c.jsxs("div",{className:"feedback-stat-item",children:[c.jsx("span",{className:"feedback-stat-label",children:""}),c.jsx("span",{className:"feedback-stat-value",children:Dr(V.avgOriginalError)})]}),c.jsxs("div",{className:"feedback-stat-item",children:[c.jsx("span",{className:"feedback-stat-label",children:""}),c.jsx("span",{className:`feedback-stat-value ${l!=null&&l!==e.priceCoefficient?V.avgAdjustedError<V.avgOriginalError?"accurate":"inaccurate":""}`,children:Dr(V.avgAdjustedError)})]}),c.jsxs("div",{className:"feedback-stat-item",children:[c.jsx("span",{className:"feedback-stat-label",children:""}),c.jsxs("span",{className:`feedback-stat-value ${l!=null&&l!==e.priceCoefficient?V.avgAdjustedError-V.avgOriginalError<=0?"accurate":"inaccurate":""}`,children:[V.avgAdjustedError-V.avgOriginalError>=0?"":"-",Dr(Math.abs(V.avgAdjustedError-V.avgOriginalError))]})]})]}),c.jsxs("div",{className:"feedback-stats-col",children:[c.jsxs("div",{className:"feedback-stat-item",children:[c.jsx("span",{className:"feedback-stat-label",children:""}),c.jsxs("span",{className:"feedback-stat-value",children:[V.avgOriginalAccuracy.toFixed(2),"%"]})]}),c.jsxs("div",{className:"feedback-stat-item",children:[c.jsx("span",{className:"feedback-stat-label",children:""}),c.jsxs("span",{className:`feedback-stat-value ${l!=null&&l!==e.priceCoefficient?V.avgAdjustedAccuracy>=V.avgOriginalAccuracy?"accurate":"inaccurate":""}`,children:[V.avgAdjustedAccuracy.toFixed(2),"%"]})]}),c.jsxs("div",{className:"feedback-stat-item",children:[c.jsx("span",{className:"feedback-stat-label",children:""}),c.jsxs("span",{className:`feedback-stat-value ${l!=null&&l!==e.priceCoefficient?V.avgAdjustedAccuracy-V.avgOriginalAccuracy>0?"accurate":V.avgAdjustedAccuracy-V.avgOriginalAccuracy<0?"inaccurate":"":""}`,children:[V.avgAdjustedAccuracy-V.avgOriginalAccuracy>=0?"+":"",(V.avgAdjustedAccuracy-V.avgOriginalAccuracy).toFixed(2),"%"]})]})]})]})]})]}),s?c.jsx("div",{className:"feedback-loading",children:"..."}):o?c.jsx("div",{className:"feedback-error",children:o}):e?r.length===0?c.jsxs("div",{className:"feedback-empty",children:[" ",e.name," "]}):c.jsx(c.Fragment,{children:c.jsx("div",{className:"feedback-data-table-wrapper",children:c.jsxs("table",{className:"feedback-data-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:""}),c.jsx("th",{children:"ID"}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsxs("th",{className:"feedback-th-accuracy",children:[c.jsx("span",{children:""}),c.jsx("button",{type:"button",className:"feedback-sort-btn",onClick:()=>b(j=>j===null?"desc":j==="desc"?"asc":null),title:y==="desc"?"":y==="asc"?"":"",children:y==="desc"?"":y==="asc"?"":""})]})]})}),c.jsx("tbody",{children:(()=>{const j=W().map(O=>{const{totalMultiplier:z}=Q(O.mutations),K=l??e.priceCoefficient,{adjustedPrice:N,formattedAdjustedPrice:B}=q(O,K),Z=G(O),ee=Math.abs(eo(N)-Z),le=Z>0?Math.max(0,(1-ee/Z)*100):0;return{item:O,totalMultiplier:z,formattedAdjustedPrice:B,actualPrice:Z,adjustedError:ee,adjustedAccuracy:le}});return(y===null?j:[...j].sort((O,z)=>y==="desc"?z.adjustedAccuracy-O.adjustedAccuracy:O.adjustedAccuracy-z.adjustedAccuracy)).map(({item:O,totalMultiplier:z,formattedAdjustedPrice:K,actualPrice:N,adjustedError:B,adjustedAccuracy:Z})=>c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("button",{className:"feedback-delete-btn",onClick:()=>D(O.id),disabled:f.has(O.id),title:"",children:f.has(O.id)?"":""})}),c.jsx("td",{children:O.id}),c.jsx("td",{children:O.crop_name}),c.jsxs("td",{children:[O.weight,"kg"]}),c.jsxs("td",{children:[z.toFixed(2),""]}),c.jsx("td",{children:Dr(O.calculated_price)}),c.jsx("td",{children:K}),c.jsx("td",{children:Dr(N)}),c.jsx("td",{children:Dr(B)}),c.jsxs("td",{className:Z>=95?"accuracy-high":Z>=90?"accuracy-medium":"accuracy-low",children:[Z.toFixed(2),"%"]})]},O.id))})()})]})})}):c.jsx("div",{className:"feedback-empty",children:""})]})]}),c.jsx(vt,{isOpen:S,onClose:()=>_(!1),title:"",contentClassName:"feedback-batch-modal-content",children:c.jsx("div",{className:"feedback-batch-result",children:m.length===0?c.jsx("p",{className:"feedback-batch-empty",children:""}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"feedback-batch-copy-row",children:[c.jsx("button",{type:"button",className:"feedback-batch-copy",onClick:()=>{const j=m.map(I=>`${I.cropName} ${I.optimalCoeff}`).join(`
`);navigator.clipboard.writeText(j).then(()=>{C(!0),a(""),setTimeout(()=>C(!1),2e3)}).catch(()=>a(""))},children:"+"}),E&&c.jsx("span",{className:"feedback-batch-copy-ok",children:""})]}),c.jsxs("table",{className:"feedback-batch-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""})]})}),c.jsx("tbody",{children:m.map(j=>c.jsxs("tr",{children:[c.jsx("td",{children:j.cropName}),c.jsx("td",{children:j.defaultCoeff}),c.jsx("td",{children:j.optimalCoeff}),c.jsx("td",{children:j.sampleCount}),c.jsxs("td",{children:[j.defaultAccuracy.toFixed(2),"%"]}),c.jsxs("td",{className:j.optimalAccuracy>j.defaultAccuracy?"feedback-batch-acc-up":j.optimalAccuracy<j.defaultAccuracy?"feedback-batch-acc-down":"",children:[j.optimalAccuracy.toFixed(2),"%"]}),c.jsx("td",{children:j.defaultError.toFixed(2)}),c.jsx("td",{className:j.optimalError<j.defaultError?"feedback-batch-acc-up":j.optimalError>j.defaultError?"feedback-batch-acc-down":"",children:j.optimalError.toFixed(2)}),c.jsxs("td",{className:j.accuracyChange>0?"feedback-batch-acc-up":j.accuracyChange<0?"feedback-batch-acc-down":"",children:[j.accuracyChange>=0?"+":"",j.accuracyChange.toFixed(2),"%"]}),c.jsxs("td",{className:j.errorChange>0?"feedback-batch-acc-up":j.errorChange<0?"feedback-batch-acc-down":"",children:[j.errorChange>=0?"-":"+",Math.abs(j.errorChange).toFixed(2)]})]},j.cropName))})]})]})})})]})};var w1=(e=>(e.EMAIL_RATE_LIMIT_EXCEEDED="email rate limit exceeded",e.NEW_PASSWORD_SAME_AS_OLD="new password should be different from the old password",e.INVALID_LOGIN_CREDENTIALS="invalid login credentials",e.TOKEN_EXPIRED_OR_INVALID="token has expired or is invalid",e))(w1||{});const W$={"email rate limit exceeded":"","new password should be different from the old password":"","invalid login credentials":"","token has expired or is invalid":""},rl=e=>{var n;if(!e)return"";const t=typeof e=="string"?e:e.message||((n=e.error)==null?void 0:n.message)||"";if(!t)return"";const r=t.toLowerCase();for(const s of Object.values(w1))if(r.includes(s.toLowerCase()))return W$[s]||t;return t},ph="crazy-farm-login-email";function H$(){try{return localStorage.getItem(ph)||""}catch{return""}}function qu(e){try{e?localStorage.setItem(ph,e):localStorage.removeItem(ph)}catch{}}const q$=({onLoginSuccess:e,onOpenDisclaimer:t,onOpenPrivacy:r})=>{const[n,s]=p.useState(H$),[i,o]=p.useState(""),[a,l]=p.useState(""),[u,d]=p.useState(""),[h,f]=p.useState(""),[g,y]=p.useState(""),[b,x]=p.useState(""),[v,m]=p.useState(!1),[w,S]=p.useState(!1),[_,E]=p.useState(!1),[C,k]=p.useState(!1),[T,P]=p.useState(!1),[A,D]=p.useState(!1),[W,Q]=p.useState(0),[q,G]=p.useState(0),[V,R]=p.useState(!1),[U,H]=p.useState(!1),[se,oe]=p.useState(!1),[Ee,ye]=p.useState(!1),[fe,j]=p.useState(!1),[I,O]=p.useState(""),[z,K]=p.useState(""),[N,B]=p.useState(!1),[Z,ee]=p.useState(!1);p.useEffect(()=>{if(W>0){const F=setTimeout(()=>{Q(W-1)},1e3);return()=>clearTimeout(F)}},[W]),p.useEffect(()=>{if(q>0){const F=setTimeout(()=>{G(q-1)},1e3);return()=>clearTimeout(F)}},[q]);const le=async()=>{if(!n){O(""),j(!0),setTimeout(()=>{j(!1)},3e3);return}k(!0);try{await Fk(n),P(!0),Q(60),O(""),j(!0),setTimeout(()=>{j(!1)},3e3)}catch(F){const te=rl(F);O(te),j(!0),setTimeout(()=>{j(!1)},3e3)}finally{k(!1)}},he=async()=>{E(!0);try{if(v){if(i!==a){O(""),j(!0),setTimeout(()=>{j(!1)},3e3),E(!1);return}if(!u){O(""),j(!0),setTimeout(()=>{j(!1)},3e3),E(!1);return}await Lk(n,u,i);const F=z.trim();if(F){const te=await Pk(F);!te.ok&&te.error&&(O(te.error),j(!0),setTimeout(()=>j(!1),3e3))}await Hw().catch(()=>{}),O("..."),j(!0),setTimeout(()=>{j(!1),qu(n),e()},1500)}else await _k(n,i),qu(n),e()}catch(F){const te=rl(F);O(te),j(!0),setTimeout(()=>{j(!1)},3e3),E(!1)}},ne=async F=>{if(F.preventDefault(),!v&&!N){ee(!0);return}await he()},ce=async()=>{if(!n){O(""),j(!0),setTimeout(()=>{j(!1)},3e3);return}k(!0);try{await Ik(n),D(!0),G(60),O(""),j(!0),setTimeout(()=>{j(!1)},3e3)}catch(F){const te=rl(F);O(te),j(!0),setTimeout(()=>{j(!1)},3e3)}finally{k(!1)}},ke=async F=>{if(F.preventDefault(),g!==b){O(""),j(!0),setTimeout(()=>{j(!1)},3e3),E(!1);return}if(!h){O(""),j(!0),setTimeout(()=>{j(!1)},3e3),E(!1);return}if(!g){O(""),j(!0),setTimeout(()=>{j(!1)},3e3),E(!1);return}E(!0);try{await Mk(n,h,g),O("..."),j(!0),setTimeout(()=>{j(!1),qu(n),e()},1500)}catch(te){const xe=rl(te);O(xe),j(!0),setTimeout(()=>{j(!1)},3e3),E(!1)}};return c.jsxs("div",{className:"login-container",children:[c.jsxs("div",{className:"login-box",children:[c.jsx("img",{src:"/carzyfarm/.png",alt:"",className:"login-top-image"}),c.jsx("img",{src:"/carzyfarm/hi.png",alt:"hi",className:"login-hi-image"}),c.jsx("div",{className:"login-header",children:c.jsx("h2",{className:"login-title",children:w?"":v?"":""})}),w?c.jsxs("form",{className:"login-form",onSubmit:ke,children:[c.jsxs("div",{className:"login-input-group",children:[c.jsx("label",{className:"login-label",children:""}),c.jsx("input",{type:"email",className:"login-input",value:n,onChange:F=>s(F.target.value),placeholder:"",required:!0,disabled:_})]}),c.jsxs("div",{className:"login-input-group",children:[c.jsx("label",{className:"login-label",children:""}),c.jsxs("div",{className:"login-verification-wrapper",children:[c.jsx("input",{type:"text",className:"login-input login-verification-input",value:h,onChange:F=>f(F.target.value),placeholder:"",required:!0,disabled:_,maxLength:8}),c.jsx("button",{type:"button",className:"login-send-code-button",onClick:ce,disabled:C||!n||_||q>0,children:C?"...":q>0?`${q}`:A?"":""})]}),c.jsx("p",{className:"login-limit-hint",children:""})]}),c.jsxs("div",{className:"login-input-group",children:[c.jsx("label",{className:"login-label",children:""}),c.jsxs("div",{className:"login-password-wrapper",children:[c.jsx("input",{type:se?"text":"password",className:"login-input",value:g,onChange:F=>y(F.target.value),placeholder:"",required:!0,disabled:_}),c.jsx("button",{type:"button",className:"login-password-toggle",onClick:F=>{var te,xe;F.preventDefault(),F.stopPropagation(),oe(!se),(xe=(te=F.currentTarget.parentElement)==null?void 0:te.querySelector("input"))==null||xe.focus()},disabled:_,children:se?c.jsx(Aa,{}):c.jsx(Ia,{})})]})]}),c.jsxs("div",{className:"login-input-group",children:[c.jsx("label",{className:"login-label",children:""}),c.jsxs("div",{className:"login-password-wrapper",children:[c.jsx("input",{type:Ee?"text":"password",className:"login-input",value:b,onChange:F=>x(F.target.value),placeholder:"",required:!0,disabled:_}),c.jsx("button",{type:"button",className:"login-password-toggle",onClick:F=>{var te,xe;F.preventDefault(),F.stopPropagation(),ye(!Ee),(xe=(te=F.currentTarget.parentElement)==null?void 0:te.querySelector("input"))==null||xe.focus()},disabled:_,children:Ee?c.jsx(Aa,{}):c.jsx(Ia,{})})]})]}),c.jsx("button",{type:"submit",className:"login-submit-button",disabled:_||!n||!h||!g||!b,children:_?"...":""}),c.jsx("div",{className:"login-switch",children:c.jsx("button",{type:"button",className:"login-switch-button",onClick:()=>{S(!1),f(""),y(""),x(""),D(!1)},disabled:_,children:""})})]}):c.jsxs("form",{className:"login-form",onSubmit:ne,children:[c.jsxs("div",{className:"login-input-group",children:[c.jsx("label",{className:"login-label",children:""}),c.jsx("input",{type:"email",className:"login-input",value:n,onChange:F=>s(F.target.value),placeholder:"",required:!0,disabled:_})]}),v&&c.jsxs("div",{className:"login-input-group",children:[c.jsx("label",{className:"login-label",children:""}),c.jsxs("div",{className:"login-verification-wrapper",children:[c.jsx("input",{type:"text",className:"login-input login-verification-input",value:u,onChange:F=>d(F.target.value),placeholder:"",required:v,disabled:_,maxLength:8}),c.jsx("button",{type:"button",className:"login-send-code-button",onClick:le,disabled:C||!n||_||W>0,children:C?"...":W>0?`${W}`:T?"":""})]}),c.jsx("p",{className:"login-limit-hint",children:""})]}),c.jsxs("div",{className:"login-input-group",children:[c.jsx("label",{className:"login-label",children:""}),c.jsxs("div",{className:"login-password-wrapper",children:[c.jsx("input",{type:V?"text":"password",className:"login-input",value:i,onChange:F=>o(F.target.value),placeholder:"",required:!0,disabled:_}),c.jsx("button",{type:"button",className:"login-password-toggle",onClick:F=>{var te,xe;F.preventDefault(),F.stopPropagation(),R(!V),(xe=(te=F.currentTarget.parentElement)==null?void 0:te.querySelector("input"))==null||xe.focus()},disabled:_,children:V?c.jsx(Aa,{}):c.jsx(Ia,{})})]})]}),v&&c.jsxs("div",{className:"login-input-group",children:[c.jsx("label",{className:"login-label",children:""}),c.jsxs("div",{className:"login-password-wrapper",children:[c.jsx("input",{type:U?"text":"password",className:"login-input",value:a,onChange:F=>l(F.target.value),placeholder:"",required:v,disabled:_}),c.jsx("button",{type:"button",className:"login-password-toggle",onClick:F=>{var te,xe;F.preventDefault(),F.stopPropagation(),H(!U),(xe=(te=F.currentTarget.parentElement)==null?void 0:te.querySelector("input"))==null||xe.focus()},disabled:_,children:U?c.jsx(Aa,{}):c.jsx(Ia,{})})]})]}),v&&c.jsxs("div",{className:"login-input-group",children:[c.jsxs("label",{className:"login-label",children:[" ",c.jsx("span",{className:"login-optional",children:""})]}),c.jsx("input",{type:"text",className:"login-input",value:z,onChange:F=>K(F.target.value.replace(/\s/g,"").toUpperCase().slice(0,6)),placeholder:" 6 ",disabled:_,maxLength:6,autoComplete:"off"})]}),!v&&c.jsxs("label",{className:"login-agree-row",children:[c.jsx("input",{type:"checkbox",className:"login-agree-checkbox",checked:N,onChange:F=>B(F.target.checked),disabled:_}),c.jsxs("span",{className:"login-agree-text",children:["",t?c.jsx("button",{type:"button",className:"login-agree-link",onClick:F=>{F.preventDefault(),t()},children:""}):c.jsx("span",{children:""}),"",r?c.jsx("button",{type:"button",className:"login-agree-link",onClick:F=>{F.preventDefault(),r()},children:""}):c.jsx("span",{children:""})]})]}),c.jsx("button",{type:"submit",className:"login-submit-button",disabled:_||!n||!i||v&&(!u||!a),children:_?"...":v?"":""}),c.jsxs("div",{className:v?"login-switch-center":"login-actions",children:[!v&&c.jsx("div",{className:"login-forgot-link",children:c.jsx("button",{type:"button",className:"login-forgot-button",onClick:()=>{S(!0)},disabled:_,children:""})}),c.jsxs("div",{className:"login-switch",children:[c.jsx("span",{children:v?"":""}),c.jsx("button",{type:"button",className:"login-switch-button",onClick:()=>{m(!v),d(""),l(""),P(!1)},disabled:_,children:v?"":""})]})]})]})]}),c.jsxs("div",{className:"login-help-text",children:[" ",c.jsx("strong",{children:"18746870222"})," "]}),c.jsx(Kw,{hideSignOut:!0,hideSubscription:!0}),c.jsx(vt,{isOpen:Z,onClose:()=>{_||ee(!1)},title:"",children:c.jsxs("div",{className:"modal-text disclaimer-text",children:[c.jsx("p",{children:""}),c.jsx("p",{children:""}),c.jsxs("div",{className:"login-terms-actions",children:[c.jsx("button",{type:"button",className:"login-terms-btn login-terms-btn-secondary",onClick:()=>{_||ee(!1)},children:""}),c.jsx("button",{type:"button",className:"login-terms-btn login-terms-btn-primary",disabled:_,onClick:()=>{_||(B(!0),ee(!1),he())},children:""})]})]})}),fe&&c.jsx(Cp,{message:I})]})},G$=({isOpen:e,onClose:t})=>{const[r,n]=p.useState(""),[s,i]=p.useState(0),[o,a]=p.useState(0),[l,u]=p.useState(!1),[d,h]=p.useState(!1),[f,g]=p.useState(null);p.useEffect(()=>{if(!e)return;let b=!1;return n(""),g(null),u(!0),Promise.all([$k(),Rk()]).then(([x,v])=>{b||(x.ok&&x.inviteCode?n(x.inviteCode):x.ok||g(x.error||""),v.ok&&(i(v.invitedCount??0),a(v.rewardDays??0)))}).finally(()=>{b||u(!1)}),()=>{b=!0}},[e]);const y=async()=>{if(r)try{await navigator.clipboard.writeText(r),h(!0),setTimeout(()=>h(!1),2e3)}catch{h(!1)}};return c.jsx(vt,{isOpen:e,onClose:t,title:"",contentClassName:"invite-modal-content-wrap",children:c.jsxs("div",{className:"invite-modal-content",children:[l&&c.jsxs("div",{className:"invite-modal-loading-wrap","aria-busy":"true","aria-label":"",children:[c.jsx("div",{className:"invite-modal-spinner"}),c.jsx("span",{className:"invite-modal-loading-text",children:""})]}),f&&c.jsx("p",{className:"invite-modal-error",children:f}),!l&&!f&&r&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"invite-modal-section",children:[c.jsx("p",{className:"invite-modal-label",children:""}),c.jsx("p",{className:"invite-modal-intro",children:""}),c.jsxs("div",{className:"invite-modal-steps",children:[c.jsxs("div",{className:"invite-modal-step",children:[c.jsx("span",{className:"invite-modal-step-index",children:"1"}),c.jsx("span",{className:"invite-modal-step-text",children:""})]}),c.jsxs("div",{className:"invite-modal-step",children:[c.jsx("span",{className:"invite-modal-step-index",children:"2"}),c.jsx("span",{className:"invite-modal-step-text",children:""})]}),c.jsxs("div",{className:"invite-modal-step",children:[c.jsx("span",{className:"invite-modal-step-index",children:"3"}),c.jsxs("span",{className:"invite-modal-step-text",children:[" ",c.jsx("strong",{children:"1 "}),""]})]})]})]}),c.jsxs("div",{className:"invite-modal-section",children:[c.jsx("p",{className:"invite-modal-label",children:""}),c.jsxs("p",{className:"invite-modal-reward-text",children:["  1  ",c.jsx("strong",{children:"1 "}),""]}),c.jsxs("p",{className:"invite-modal-reward-text",children:[" ",c.jsx("strong",{children:""}),""]}),c.jsxs("ul",{className:"invite-modal-tier-list",children:[c.jsxs("li",{children:["   ",c.jsx("strong",{children:"1 "})]}),c.jsxs("li",{children:["   ",c.jsx("strong",{children:"7 "})]}),c.jsxs("li",{children:["   ",c.jsx("strong",{children:"30 "})]}),c.jsxs("li",{children:["   ",c.jsx("strong",{children:"90 "})]}),c.jsxs("li",{children:["   ",c.jsx("strong",{children:"365 "})]})]})]}),c.jsxs("div",{className:"invite-modal-code-block",children:[c.jsx("p",{className:"invite-modal-label",children:""}),c.jsxs("div",{className:"invite-modal-code-row",children:[c.jsx("span",{className:"invite-modal-code",children:r}),c.jsx("button",{type:"button",className:"invite-modal-copy-btn",onClick:y,children:d?"":""})]}),c.jsx("p",{className:"invite-modal-code-hint",children:" 6 "})]}),c.jsxs("div",{className:"invite-modal-section",children:[c.jsx("p",{className:"invite-modal-label",children:""}),c.jsxs("p",{className:"invite-modal-stats-row",children:[" ",c.jsx("strong",{children:s}),"  ",c.jsx("strong",{children:o})," "]})]})]})]})})},Qv="invite_modal_first_shown",K$="/carzyfarm",Pn=`${K$}/avatars`,Gu=18,Jv=0,X$=e=>{const t=e.trim();return t.length===0?{ok:!1,error:""}:t.length>12?{ok:!1,error:" 12 "}:(t.match(/[\u4e00-\u9fa5]/g)||[]).length>6?{ok:!1,error:" 6 "}:/^[\u4e00-\u9fa5a-zA-Z0-9]+$/.test(t)?{ok:!0}:{ok:!1,error:""}},Q$=()=>{const[e,t]=p.useState(null),[r,n]=p.useState(null),[s,i]=p.useState(null),[o,a]=p.useState("selector"),[l,u]=p.useState(!1),[d,h]=p.useState(null),[f,g]=p.useState({}),[y,b]=p.useState(!1),[x,v]=p.useState(!1),[m,w]=p.useState(!1),[S,_]=p.useState(null),[E,C]=p.useState(null),[k,T]=p.useState(null),[P,A]=p.useState(1),[D,W]=p.useState(!1),[Q,q]=p.useState(!1),[G,V]=p.useState(""),[R,U]=p.useState(!1),[H,se]=p.useState(null),[oe,Ee]=p.useState(1),[ye,fe]=p.useState(!1),[j,I]=p.useState(!1),[O,z]=p.useState(!1),[K,N]=p.useState(!1),[B,Z]=p.useState(!1),[ee,le]=p.useState(null),[he,ne]=p.useState(!1),[ce,ke]=p.useState(null),[F,te]=p.useState(null),[xe,jr]=p.useState(!1),[Nr,wt]=p.useState(null),[Ze,jn]=p.useState(null),[dr,Tr]=p.useState(!1),[Jr,Mt]=p.useState(null),[Ft,ln]=p.useState(!1),[Kt,fr]=p.useState("membership"),et=300,Ce=p.useRef(null),Ne=()=>{Ce.current&&clearTimeout(Ce.current),Ce.current=window.setTimeout(()=>{i(null),h(null),Ce.current=null},et)},bt=p.useCallback(async()=>{ne(!0),ke(null);try{const $=await jk();$.ok?le($.items):ke($.error??"")}catch($){console.error(":",$),ke("")}finally{ne(!1)}},[]),Lt=p.useCallback(async()=>{jr(!0),wt(null);try{const $=await Nk();$.ok?te($.items):wt($.error??"")}catch($){console.error(":",$),wt("")}finally{jr(!1)}},[]),Yr=p.useCallback(async()=>{Tr(!0),Mt(null);try{const $=await Tk();$.ok?jn($.items):Mt($.error??"")}catch($){console.error(":",$),Mt("")}finally{Tr(!1)}},[]),hr=()=>{fe(!1),W(!0)},xt=()=>{fe(!0),window.setTimeout(()=>{W(!1),fe(!1)},220)},$r=()=>{Ce.current&&(clearTimeout(Ce.current),Ce.current=null)},X=()=>{const $=new URLSearchParams(window.location.search),J=$.get("page"),Y=$.get("crop");if(u(J==="history"),Y){const tt=rr.find(ve=>ve.name===Y);tt?($r(),i(tt),a("calculator")):(a("selector"),Ne())}else a("selector"),Ne()},me=p.useRef(!1),ae=p.useRef(!1);p.useEffect(()=>{(async()=>{var tt,ve,lt,Rr;const Y=await Lg();t(!!Y),n(((tt=Y==null?void 0:Y.user)==null?void 0:tt.id)??null),C(((ve=Y==null?void 0:Y.user)==null?void 0:ve.email)??null);const pe=(Rr=(lt=Y==null?void 0:Y.user)==null?void 0:lt.user_metadata)==null?void 0:Rr.avatar_index;if(pe!==void 0){const Ae=typeof pe=="number"?pe:parseInt(String(pe),10),Ke=Number.isFinite(Ae)?Math.min(Gu,Math.max(1,Ae||1)):1;A(Ke)}else A(1)})();const{data:{subscription:J}}=Ak((Y,pe)=>{var Rr,Ae,Ke,Dt,Pt,un;t(!!pe),n(((Rr=pe==null?void 0:pe.user)==null?void 0:Rr.id)??null),C(((Ae=pe==null?void 0:pe.user)==null?void 0:Ae.email)??null);const tt=(Dt=(Ke=pe==null?void 0:pe.user)==null?void 0:Ke.user_metadata)==null?void 0:Dt.display_name,ve=typeof tt=="string"&&tt.trim().length>0;T(ve?tt:null),pe&&!ve&&Hw().catch(()=>{});const lt=(un=(Pt=pe==null?void 0:pe.user)==null?void 0:Pt.user_metadata)==null?void 0:un.avatar_index;if(lt!==void 0){const Nn=typeof lt=="number"?lt:parseInt(String(lt),10),ss=Number.isFinite(Nn)?Math.min(Gu,Math.max(1,Nn||1)):1;A(ss)}});return()=>{J.unsubscribe()}},[]);const Xt=async()=>{const $=await Lg();t(!!$)};p.useEffect(()=>{if(new URLSearchParams(window.location.search).get("page")==="feedback"){a("feedback"),me.current=!0;return}const J=Ff();if(J&&J.cropIndex<rr.length){const Y=rr[J.cropIndex];$r(),i(Y),a("calculator");const pe=new URL(window.location.href);pe.searchParams.set("crop",Y.name),window.history.replaceState({page:"calculator",crop:Y.name},"",pe.toString()),me.current=!0;return}X(),me.current=!0},[]),p.useEffect(()=>{if(!e){_(null);return}Mf().then(_)},[e]),p.useEffect(()=>{if(o!=="calculator"||!s||!e||S===null||S.isActive||ae.current)return;let $=!1;return Au().then(({allowed:J})=>{if(!$&&(ae.current=!0,!J)){v(!0),a("selector"),Ne();const Y=new URL(window.location.href);Y.searchParams.delete("crop"),Y.searchParams.delete("s"),window.history.replaceState({page:"selector"},"",Y.toString())}}).catch(J=>{$||(console.error("useFreeQuery failed (URL entry)",J),v(!0),a("selector"),Ne())}),()=>{$=!0}},[o,s,e,S]);const Qt=()=>{e&&Mf().then(_)};p.useEffect(()=>{if(!e)return;const $=xk(g);return()=>$()},[e]),p.useEffect(()=>{if(!(!e||o!=="selector"||l))try{if(localStorage.getItem(Qv))return;localStorage.setItem(Qv,"1"),w(!0)}catch{}},[e,o,l]);const Jt=async $=>{if(S!=null&&S.isActive){ae.current=!0,cn($,null),Va($.name).catch(console.error),za($.name).catch(console.error);return}try{const{allowed:J}=await Au();if(!J){v(!0);return}ae.current=!0,cn($,null),Va($.name).catch(console.error),za($.name).catch(console.error)}catch(J){console.error("useFreeQuery failed",J),v(!0)}},cn=($,J)=>{const Y=new URL(window.location.href);Y.searchParams.set("crop",$.name),(Y.searchParams.get("page")==="history"||l)&&Y.searchParams.set("page","history"),window.history.pushState({page:"calculator",crop:$.name},"",Y.toString()),$r(),i($),h(J??null),a("calculator")},Zr=()=>{ae.current=!1;const $=new URL(window.location.href);$.searchParams.delete("crop"),$.searchParams.delete("s"),l?$.searchParams.set("page","history"):$.search="",window.history.pushState({page:l?"history":"selector"},"",$.toString()),a("selector"),Ne()},Pr=()=>{const $=new URL(window.location.href);$.searchParams.set("page","history"),window.history.pushState({page:"history"},"",$.toString()),u(!0)},pr=()=>{const $=new URL(window.location.href);$.searchParams.delete("page"),$.searchParams.delete("crop"),$.searchParams.delete("s"),window.history.pushState({page:"selector"},"",$.toString()),u(!1),a("selector"),Ne()},en=async $=>{const J=rr.find(pe=>pe.name===$.cropName);if(!J)return;const Y={weight:$.weight,mutations:$.mutations};if(S!=null&&S.isActive){ae.current=!0,cn(J,Y),Va(J.name).catch(console.error),za(J.name).catch(console.error);return}try{const{allowed:pe}=await Au();if(!pe){v(!0);return}ae.current=!0,cn(J,Y),Va(J.name).catch(console.error),za(J.name).catch(console.error)}catch(pe){console.error("useFreeQuery failed",pe),v(!0)}};return p.useEffect(()=>{const $=()=>{X()};return window.addEventListener("popstate",$),()=>{window.removeEventListener("popstate",$),Ce.current&&clearTimeout(Ce.current)}},[]),e===null?c.jsx("div",{className:"app",children:c.jsx("main",{className:"main",children:c.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:c.jsx("div",{children:"..."})})})}):e?c.jsxs("div",{className:"app",children:[c.jsx("main",{className:`main ${o==="feedback"?"feedback-mode":""}`,children:o==="feedback"?c.jsx(B$,{}):c.jsxs("div",{className:`content-container ${o==="calculator"?"calculator-active":""}`,children:[c.jsxs("div",{className:"page-wrapper page-selector",children:[c.jsx(Vk,{crops:rr,selectedCrop:s,onSelectCrop:Jt,onOpenUserCenter:hr,queryCounts:f,subscriptionActive:S==null?void 0:S.isActive}),c.jsx("div",{style:{opacity:o==="selector"&&!l?1:0,pointerEvents:o==="selector"&&!l?"auto":"none",transition:"opacity 0.2s ease"},children:c.jsx(Kw,{subscriptionModalOpen:y,onSubscriptionModalChange:b,subscriptionState:S,onSubscriptionActivated:Qt,contactModalOpen:j,onContactModalChange:I})})]}),c.jsx("div",{className:`page-wrapper page-history ${l?"active":""}`,children:c.jsx(U$,{onBack:pr,active:l,onSelectRecord:en})}),c.jsx("div",{className:`page-wrapper page-calculator ${o==="calculator"&&s?"active":""}`,children:c.jsx(z$,{crop:s,onBack:Zr,prefillData:d??void 0})})]})}),D&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:`user-center-overlay ${ye?"closing":""}`,onClick:xt}),c.jsxs("aside",{className:`user-center-drawer ${ye?"closing":""}`,children:[c.jsxs("div",{className:"user-center-header",children:[c.jsx("div",{className:"user-center-title",children:""}),c.jsx("button",{type:"button",className:"user-center-close",onClick:xt,"aria-label":"",children:""})]}),c.jsxs("div",{className:"user-center-body",children:[c.jsxs("div",{className:"user-center-section",children:[c.jsxs("div",{className:"user-center-user",children:[c.jsx("div",{className:"user-center-avatar",children:c.jsx("img",{src:`${Pn}/${P||1}.png`,alt:"",className:"user-center-avatar-img"})}),c.jsxs("div",{className:"user-center-user-text",children:[c.jsx("div",{className:"user-center-user-email",children:k||E||""}),k&&E&&c.jsx("div",{className:"user-center-user-email-sub",children:E}),c.jsx("div",{className:"user-center-user-tag",children:S!=null&&S.isActive?"":""})]})]}),c.jsx("button",{type:"button",className:"user-center-nickname-btn",onClick:()=>{V(k??E??""),se(null),Ee(P||1),q(!0)},children:""})]}),c.jsx("div",{className:"user-center-section",children:c.jsxs("div",{className:"user-center-membership",children:[S!=null&&S.isActive?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"user-center-membership-main",children:"  "}),S.subscriptionEndAt&&c.jsxs("div",{className:"user-center-membership-sub",children:[""," ",new Date(S.subscriptionEndAt).toLocaleDateString("zh-CN",{timeZone:"Asia/Shanghai",year:"numeric",month:"long",day:"numeric"})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"user-center-membership-main",children:""}),c.jsx("div",{className:"user-center-membership-sub",children:" 1 "})]}),c.jsx("button",{type:"button",className:"user-center-primary-btn",onClick:()=>{xt(),b(!0)},children:S!=null&&S.isActive?"":""})]})}),c.jsxs("div",{className:"user-center-section",children:[c.jsx("div",{className:"user-center-section-title",children:""}),c.jsxs("div",{className:"user-center-item-list",children:[c.jsxs("button",{type:"button",className:"user-center-item",onClick:()=>{xt(),Pr()},children:[c.jsxs("span",{className:"user-center-item-label",children:[c.jsx(s2,{className:"user-center-item-icon"}),c.jsx("span",{children:""})]}),c.jsx("span",{className:"user-center-item-arrow",children:""})]}),c.jsxs("button",{type:"button",className:"user-center-item",onClick:()=>{xt(),w(!0)},children:[c.jsxs("span",{className:"user-center-item-label",children:[c.jsx(t2,{className:"user-center-item-icon"}),c.jsx("span",{children:""})]}),c.jsx("span",{className:"user-center-item-arrow",children:""})]}),c.jsxs("button",{type:"button",className:"user-center-item",onClick:()=>{ln(!0),bt(),Lt(),Yr()},children:[c.jsxs("span",{className:"user-center-item-label",children:[c.jsx(b2,{className:"user-center-item-icon"}),c.jsx("span",{children:""})]}),c.jsx("span",{className:"user-center-item-arrow",children:""})]})]})]}),c.jsxs("div",{className:"user-center-section",children:[c.jsx("div",{className:"user-center-section-title",children:""}),c.jsxs("div",{className:"user-center-item-list",children:[c.jsxs("button",{type:"button",className:"user-center-item",onClick:()=>{xt(),I(!0)},children:[c.jsxs("span",{className:"user-center-item-label",children:[c.jsx(O_,{className:"user-center-item-icon"}),c.jsx("span",{children:""})]}),c.jsx("span",{className:"user-center-item-arrow",children:""})]}),c.jsxs("button",{type:"button",className:"user-center-item",onClick:()=>{xt(),z(!0)},children:[c.jsxs("span",{className:"user-center-item-label",children:[c.jsx(U_,{className:"user-center-item-icon"}),c.jsx("span",{children:""})]}),c.jsx("span",{className:"user-center-item-arrow",children:""})]}),c.jsxs("button",{type:"button",className:"user-center-item",onClick:()=>{xt(),N(!0)},children:[c.jsxs("span",{className:"user-center-item-label",children:[c.jsx(xw,{className:"user-center-item-icon"}),c.jsx("span",{children:""})]}),c.jsx("span",{className:"user-center-item-arrow",children:""})]}),c.jsxs("button",{type:"button",className:"user-center-item",onClick:()=>{xt(),Z(!0)},children:[c.jsxs("span",{className:"user-center-item-label",children:[c.jsx(X_,{className:"user-center-item-icon"}),c.jsx("span",{children:""})]}),c.jsxs("span",{className:"user-center-item-right",children:[c.jsx("span",{className:"user-center-item-extra",children:zd[0].version}),c.jsx("span",{className:"user-center-item-arrow",children:""})]})]})]})]})]}),c.jsx("div",{className:"user-center-section user-center-section-danger",children:c.jsx("button",{type:"button",className:"user-center-danger-btn",onClick:async()=>{W(!1);try{await Ek()}finally{window.location.reload()}},children:""})})]})]}),c.jsx(vt,{isOpen:x,onClose:()=>v(!1),title:"",children:c.jsxs("div",{className:"modal-text",children:[c.jsx("p",{className:"paywall-plan-desc",children:""}),c.jsx("p",{className:"paywall-plan-desc",children:""}),c.jsx("p",{className:"paywall-plan-desc",children:""}),c.jsxs("div",{className:"paywall-plan-card",children:[c.jsxs("div",{className:"paywall-plan-main",children:[c.jsx("span",{className:"paywall-plan-name",children:""}),c.jsx("span",{className:"paywall-plan-price",children:"1.99"})]}),c.jsx("div",{className:"paywall-plan-sub",children:""})]}),c.jsx("p",{className:"paywall-plan-other",children:" 0.19 0.99 4.99 9.99 19.9"}),c.jsx("button",{type:"button",className:"paywall-cta-button",onClick:()=>{v(!1),b(!0)},children:""}),c.jsx("p",{className:"paywall-invite-hint",children:""}),c.jsx("button",{type:"button",className:"paywall-invite-button",onClick:()=>{v(!1),w(!0)},children:""})]})}),c.jsx(G$,{isOpen:m,onClose:()=>w(!1)}),c.jsx(vt,{isOpen:Ft,onClose:()=>ln(!1),title:"",contentClassName:"leaderboard-modal",children:c.jsxs("div",{className:"leaderboard-modal-content",children:[c.jsxs("div",{className:"leaderboard-tabs",children:[c.jsx("button",{type:"button",className:`leaderboard-tab ${Kt==="membership"?"leaderboard-tab--active":""}`,onClick:()=>fr("membership"),children:""}),c.jsx("button",{type:"button",className:`leaderboard-tab ${Kt==="query"?"leaderboard-tab--active":""}`,onClick:()=>fr("query"),children:""}),c.jsx("button",{type:"button",className:`leaderboard-tab ${Kt==="feedback"?"leaderboard-tab--active":""}`,onClick:()=>fr("feedback"),children:""})]}),Kt==="membership"&&c.jsxs("div",{className:"leaderboard-section",children:[he&&c.jsxs("div",{className:"leaderboard-loading-wrap",children:[c.jsx("div",{className:"leaderboard-spinner"}),c.jsx("span",{className:"leaderboard-loading-text",children:"..."})]}),!he&&ce&&c.jsx("div",{className:"leaderboard-error",children:ce}),!he&&!ce&&ee&&ee.length===0&&c.jsx("div",{className:"leaderboard-empty",children:""}),!he&&!ce&&ee&&ee.length>0&&c.jsxs("div",{className:"leaderboard-section-inner",children:[c.jsx("div",{className:"leaderboard-top3",children:ee.slice(0,3).map(($,J)=>{const Y=J+1,pe=Y===1?"leaderboard-top-item--1":Y===2?"leaderboard-top-item--2":"leaderboard-top-item--3",ve=Jv===Y&&r?{...$,userId:r,displayName:k||"",avatarIndex:P||1}:$,lt=r&&ve.userId===r;return c.jsxs("div",{className:`leaderboard-top-item ${pe} ${lt?"leaderboard-top-item--me":""}`,children:[c.jsx("div",{className:"leaderboard-top-rank",children:Y}),c.jsx("div",{className:"leaderboard-top-avatar-wrap",children:c.jsx("div",{className:"leaderboard-avatar",children:c.jsx("img",{src:`${Pn}/${ve.avatarIndex}.png`,alt:"",className:"leaderboard-avatar-img"})})}),c.jsx("div",{className:"leaderboard-top-name",children:ve.displayName||""}),c.jsxs("div",{className:"leaderboard-top-badge",children:[lt&&c.jsx("span",{className:"leaderboard-me-badge",children:""}),c.jsxs("span",{children:[ve.daysLeft," "]})]})]},ve.userId+String(Y))})}),ee.length>3&&c.jsx("div",{className:"leaderboard-list",children:ee.slice(3).map(($,J)=>{const Y=J+4,pe=r&&$.userId===r;return c.jsxs("div",{className:`leaderboard-item ${pe?"leaderboard-item--me":""}`,children:[c.jsx("div",{className:"leaderboard-rank-badge",children:Y}),c.jsxs("div",{className:"leaderboard-user",children:[c.jsx("div",{className:"leaderboard-avatar",children:c.jsx("img",{src:`${Pn}/${$.avatarIndex}.png`,alt:"",className:"leaderboard-avatar-img"})}),c.jsx("div",{className:"leaderboard-user-text",children:c.jsx("div",{className:"leaderboard-user-name",children:$.displayName||""})})]}),c.jsxs("div",{className:"leaderboard-days-badge",children:[pe&&c.jsx("span",{className:"leaderboard-me-badge",children:""}),$.daysLeft," "]})]},$.userId)})})]})]}),Kt==="query"&&c.jsxs("div",{className:"leaderboard-section",children:[xe&&c.jsxs("div",{className:"leaderboard-loading-wrap",children:[c.jsx("div",{className:"leaderboard-spinner"}),c.jsx("span",{className:"leaderboard-loading-text",children:"..."})]}),!xe&&Nr&&c.jsx("div",{className:"leaderboard-error",children:Nr}),!xe&&!Nr&&F&&F.length===0&&c.jsx("div",{className:"leaderboard-empty",children:""}),!xe&&!Nr&&F&&F.length>0&&c.jsxs("div",{className:"leaderboard-section-inner",children:[c.jsx("div",{className:"leaderboard-top3",children:F.filter($=>$.rankPos>=1&&$.rankPos<=3).sort(($,J)=>$.rankPos-J.rankPos).map($=>{const J=$.rankPos,Y=J===1?"leaderboard-top-item--1":J===2?"leaderboard-top-item--2":"leaderboard-top-item--3",tt=Jv===J&&r?{...$,userId:r,displayName:k||"",avatarIndex:P||1}:$,ve=r&&tt.userId===r;return c.jsxs("div",{className:`leaderboard-top-item ${Y} ${ve?"leaderboard-top-item--me":""}`,children:[c.jsx("div",{className:"leaderboard-top-rank",children:J}),c.jsx("div",{className:"leaderboard-top-avatar-wrap",children:c.jsx("div",{className:"leaderboard-avatar",children:c.jsx("img",{src:`${Pn}/${tt.avatarIndex}.png`,alt:"",className:"leaderboard-avatar-img"})})}),c.jsx("div",{className:"leaderboard-top-name",children:tt.displayName||""}),c.jsxs("div",{className:"leaderboard-top-badge",children:[ve&&c.jsx("span",{className:"leaderboard-me-badge",children:""}),c.jsxs("span",{children:[tt.queryCount," "]})]})]},tt.userId+String(J))})}),F.length>3&&c.jsx("div",{className:"leaderboard-list",children:F.filter($=>$.rankPos>3).sort(($,J)=>$.rankPos-J.rankPos).map($=>{const J=$.rankPos,Y=r&&$.userId===r;return c.jsxs("div",{className:`leaderboard-item ${Y?"leaderboard-item--me":""}`,children:[c.jsx("div",{className:"leaderboard-rank-badge",children:J}),c.jsxs("div",{className:"leaderboard-user",children:[c.jsx("div",{className:"leaderboard-avatar",children:c.jsx("img",{src:`${Pn}/${$.avatarIndex}.png`,alt:"",className:"leaderboard-avatar-img"})}),c.jsx("div",{className:"leaderboard-user-text",children:c.jsx("div",{className:"leaderboard-user-name",children:$.displayName||""})})]}),c.jsxs("div",{className:"leaderboard-days-badge",children:[Y&&c.jsx("span",{className:"leaderboard-me-badge",children:""}),$.queryCount," "]})]},$.userId)})})]})]}),Kt==="feedback"&&c.jsxs("div",{className:"leaderboard-section",children:[dr&&c.jsxs("div",{className:"leaderboard-loading-wrap",children:[c.jsx("div",{className:"leaderboard-spinner"}),c.jsx("span",{className:"leaderboard-loading-text",children:"..."})]}),!dr&&Jr&&c.jsx("div",{className:"leaderboard-error",children:Jr}),!dr&&!Jr&&Ze&&Ze.length===0&&c.jsx("div",{className:"leaderboard-empty",children:" 3  3/2/1 "}),!dr&&!Jr&&Ze&&Ze.length>0&&c.jsxs("div",{className:"leaderboard-section-inner",children:[c.jsx("div",{className:"leaderboard-reward-hint",children:" 3  0  1  3  2  2  3  1 "}),c.jsx("div",{className:"leaderboard-top3",children:Ze.filter($=>$.rankPos>=1&&$.rankPos<=3).sort(($,J)=>$.rankPos-J.rankPos).map($=>{const J=$.rankPos,Y=J===1?"leaderboard-top-item--1":J===2?"leaderboard-top-item--2":"leaderboard-top-item--3",pe=r&&$.userId===r;return c.jsxs("div",{className:`leaderboard-top-item ${Y} ${pe?"leaderboard-top-item--me":""}`,children:[c.jsx("div",{className:"leaderboard-top-rank",children:J}),c.jsx("div",{className:"leaderboard-top-avatar-wrap",children:c.jsx("div",{className:"leaderboard-avatar",children:c.jsx("img",{src:`${Pn}/${$.avatarIndex}.png`,alt:"",className:"leaderboard-avatar-img"})})}),c.jsx("div",{className:"leaderboard-top-name",children:$.displayName||""}),c.jsxs("div",{className:"leaderboard-top-badge",children:[pe&&c.jsx("span",{className:"leaderboard-me-badge",children:""}),c.jsxs("span",{children:[$.feedbackCount," "]})]})]},$.userId+String(J))})}),Ze.length>3&&c.jsx("div",{className:"leaderboard-list",children:Ze.filter($=>$.rankPos>3).sort(($,J)=>$.rankPos-J.rankPos).map($=>{const J=$.rankPos,Y=r&&$.userId===r;return c.jsxs("div",{className:`leaderboard-item ${Y?"leaderboard-item--me":""}`,children:[c.jsx("div",{className:"leaderboard-rank-badge",children:J}),c.jsxs("div",{className:"leaderboard-user",children:[c.jsx("div",{className:"leaderboard-avatar",children:c.jsx("img",{src:`${Pn}/${$.avatarIndex}.png`,alt:"",className:"leaderboard-avatar-img"})}),c.jsx("div",{className:"leaderboard-user-text",children:c.jsx("div",{className:"leaderboard-user-name",children:$.displayName||""})})]}),c.jsxs("div",{className:"leaderboard-days-badge",children:[Y&&c.jsx("span",{className:"leaderboard-me-badge",children:""}),$.feedbackCount," "]})]},$.userId)})})]})]})]})}),c.jsx(vt,{isOpen:Q,onClose:()=>{R||(q(!1),se(null))},title:"",children:c.jsxs("div",{className:"nickname-modal-content",children:[c.jsx("div",{className:"nickname-modal-section-title",children:""}),c.jsx("div",{className:"avatar-grid",children:Array.from({length:Gu},($,J)=>{const Y=J+1;return c.jsx("button",{type:"button",className:`avatar-item ${oe===Y?"avatar-item--active":""}`,onClick:()=>Ee(Y),"aria-label":` ${Y}`,children:c.jsx("img",{src:`${Pn}/${Y}.png`,alt:"",className:"avatar-item-img"})},Y)})}),c.jsx("div",{className:"nickname-modal-section-title",children:""}),c.jsx("p",{className:"nickname-modal-hint",children:" 12  6 "}),c.jsx("input",{type:"text",className:"nickname-modal-input",value:G,onChange:$=>V($.target.value),placeholder:"",maxLength:12,disabled:R}),H&&c.jsx("p",{className:"nickname-modal-error",children:H}),c.jsx("button",{type:"button",className:"nickname-modal-save",disabled:R,onClick:async()=>{const $=X$(G);if(!$.ok){se($.error);return}U(!0),se(null);const J=G.trim(),Y=await Ck(J);if(!Y.ok){se(Y.error??""),U(!1);return}const pe=await kk(oe);if(!pe.ok){se(pe.error??""),U(!1);return}T(J),A(oe),q(!1),U(!1)},children:R?"...":""})]})}),c.jsx(vt,{isOpen:B,onClose:()=>Z(!1),title:"",children:c.jsx("div",{className:"changelog",children:zd.map($=>c.jsxs("div",{className:"changelog-item",children:[c.jsxs("h4",{className:"changelog-version",children:[$.version," ",c.jsxs("span",{className:"changelog-date",children:["(",$.date,")"]})]}),c.jsx("ul",{className:"changelog-list",children:$.items.map((J,Y)=>c.jsx("li",{children:J},Y))})]},$.version))})}),c.jsx(vt,{isOpen:O,onClose:()=>z(!1),title:"",children:c.jsxs("div",{className:"modal-text disclaimer-text",children:[c.jsx("p",{children:c.jsx("strong",{children:"1. "})}),c.jsx("p",{children:" ICP "}),c.jsx("p",{children:c.jsx("strong",{children:"2. "})}),c.jsx("p",{children:""}),c.jsx("p",{children:" 574689775@qq.com "}),c.jsx("p",{children:c.jsx("strong",{children:"3. "})}),c.jsx("p",{children:""}),c.jsx("p",{children:c.jsx("strong",{children:"4. "})}),c.jsx("p",{children:"100%"}),c.jsx("p",{children:""}),c.jsx("p",{children:c.jsx("strong",{children:"5. "})}),c.jsx("p",{children:""}),c.jsx("p",{children:c.jsx("strong",{children:"6. "})}),c.jsx("p",{children:""}),c.jsx("p",{children:c.jsx("strong",{children:"7. "})}),c.jsx("p",{children:""})]})}),c.jsx(vt,{isOpen:K,onClose:()=>N(!1),title:"",children:c.jsxs("div",{className:"modal-text disclaimer-text",children:[c.jsx("p",{children:c.jsx("strong",{children:"1. "})}),c.jsx("p",{children:""}),c.jsx("p",{children:c.jsx("strong",{children:"2. "})}),c.jsx("p",{children:""}),c.jsx("p",{children:c.jsx("strong",{children:"3. "})}),c.jsx("p",{children:""}),c.jsx("p",{children:c.jsx("strong",{children:"4. "})}),c.jsx("p",{children:" Supabase"}),c.jsx("p",{children:c.jsx("strong",{children:"5. "})}),c.jsx("p",{children:" 574689775@qq.com "}),c.jsx("p",{children:c.jsx("strong",{children:"6. "})}),c.jsx("p",{children:""})]})})]}):c.jsxs("div",{className:"app",children:[c.jsx("main",{className:"main main-login",children:c.jsx(q$,{onLoginSuccess:Xt,onOpenDisclaimer:()=>z(!0),onOpenPrivacy:()=>N(!0)})}),c.jsx(vt,{isOpen:O,onClose:()=>z(!1),title:"",children:c.jsxs("div",{className:"modal-text disclaimer-text",children:[c.jsx("p",{children:c.jsx("strong",{children:"1. "})}),c.jsx("p",{children:" ICP "}),c.jsx("p",{children:c.jsx("strong",{children:"2. "})}),c.jsx("p",{children:""}),c.jsx("p",{children:" 574689775@qq.com "}),c.jsx("p",{children:c.jsx("strong",{children:"3. "})}),c.jsx("p",{children:""}),c.jsx("p",{children:c.jsx("strong",{children:"4. "})}),c.jsx("p",{children:"100%"}),c.jsx("p",{children:""}),c.jsx("p",{children:c.jsx("strong",{children:"5. "})}),c.jsx("p",{children:""}),c.jsx("p",{children:c.jsx("strong",{children:"6. "})}),c.jsx("p",{children:""}),c.jsx("p",{children:c.jsx("strong",{children:"7. "})}),c.jsx("p",{children:""})]})}),c.jsx(vt,{isOpen:K,onClose:()=>N(!1),title:"",children:c.jsxs("div",{className:"modal-text disclaimer-text",children:[c.jsx("p",{children:c.jsx("strong",{children:"1. "})}),c.jsx("p",{children:""}),c.jsx("p",{children:c.jsx("strong",{children:"2. "})}),c.jsx("p",{children:""}),c.jsx("p",{children:c.jsx("strong",{children:"3. "})}),c.jsx("p",{children:""}),c.jsx("p",{children:c.jsx("strong",{children:"4. "})}),c.jsx("p",{children:" Supabase"}),c.jsx("p",{children:c.jsx("strong",{children:"5. "})}),c.jsx("p",{children:" 574689775@qq.com "}),c.jsx("p",{children:c.jsx("strong",{children:"6. "})}),c.jsx("p",{children:""})]})})]})};Ku.createRoot(document.getElementById("root")).render(c.jsx(Pe.StrictMode,{children:c.jsx(Q$,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{const e=window.location.hostname;if(e==="localhost"||e==="127.0.0.1"||e==="0.0.0.0")return;navigator.serviceWorker.register("/sw.js").catch(n=>{console.error("Service worker registration failed:",n)})});
